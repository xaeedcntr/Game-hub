(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[11671],{371659:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},217649:e=>{e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},36855:e=>{e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},624645:e=>{e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},130133:e=>{e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},788642:(e,i,n)=>{n.d(i,{Z:()=>c});var t=n(667294),o=n(702664),a=n(883119),r=n(536042),s=n(981628),l=n(970588);var d=n(785893);function c({favorited:e,favoriteCount:i,isCloseupButton:n,onFavorite:c,onUnfavorite:_,pinId:p,size:u}){const h=(0,r.ZP)(),m=(0,o.useDispatch)(),[g,v]=(0,t.useState)(!1),[f,y]=(0,t.useState)(e),[P,x]=(0,t.useState)(null!=i?i:0),b=async()=>{var e;y(!f),v(!0),f?(x(P-1),await m((e=p,async i=>{await(0,l.Z)({url:`/v3/pins/${e}/favorite/`,method:"DELETE"}),i(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}(e))})),_(),v(!1)):(x(P+1),await m(function(e){return async i=>{await(0,l.Z)({url:`/v3/pins/${e}/favorite/`,method:"POST"}),i(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}(e))}}(p)),c(),v(!1))},S=P<10?P:h._('9+', 'favoriteButton.favoriteCountText', 'Text shown when greater than 9 favorites on Pin');return(0,d.jsxs)(a.kC,{alignItems:"center",gap:{row:1,column:0},children:[void 0!==i&&P>0&&(0,d.jsx)(a.xv,{size:"200",weight:"bold",children:S}),(0,d.jsx)(s.Z,{isCloseupButton:n,isDisabled:g,isFavorited:f,onTap:()=>{b()},size:u})]})}},236921:(e,i,n)=>{n.d(i,{H1:()=>d,HW:()=>a,iL:()=>l,pN:()=>s,s_:()=>r});var t=n(245410),o=n(802071);const a=new Date(2022,1,1);function r(){const{checkExperiment:e}=(0,t.F)(),i=["enabled_public","employees"].includes(e("web_ip_plays",{dangerouslySkipActivation:!0}).group),n=e("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled,o=e("android_ios_web_ip_plays_dark_reads").anyEnabled;return i||n||o}function s({isOwnPin:e,isStoryPin:i,pinCreationDate:n,surface:r}){const s=(0,o.Z)(),{checkExperiment:l}=(0,t.F)(),d=l("web_play_playtime_pin_stats",{dangerouslySkipActivation:!0}).anyEnabled,c=!!("CreatorProfileStoryPinGrid"===r&&i&&n&&n.getTime()>=a.getTime()&&d&&s.isPartner&&e)&&l("web_ip_plays").anyEnabled,_=["enabled_public","employees"].includes(l("web_ip_plays",{dangerouslySkipActivation:!0}).group);if("CreatorProfileStoryPinGrid"===r&&i&&n&&n.getTime()>=a.getTime()){if(s.isPartner)return e&&c||!e&&_;if(l("web_ip_pinner_plays").anyEnabled)return!0}return!1}function l({isOwnPin:e,isPartner:i}){const{checkExperiment:n}=(0,t.F)(),o=["enabled_public","employees"].includes(n("web_ip_plays",{dangerouslySkipActivation:!0}).group),a=n("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled;return!(e||!(a&&!i||o&&i))}function d({isOwnPin:e,isPartner:i}){const{checkExperiment:n}=(0,t.F)(),o=n("web_ip_plays",{dangerouslySkipActivation:!0}).anyEnabled,a=n("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled;return!(!e||!(o&&i||a&&!i))}},623256:(e,i,n)=>{n.r(i),n.d(i,{default:()=>y});var t=n(667294),o=n(702664),a=n(883119),r=n(886673),s=n(536042),l=n(624417),d=n(245410),c=n(282802),_=n(371362),p=n(362626),u=n(347151),h=n(533451),m=n(613352),g=n(785893);const v=50,f=60;function y({feedbackData:e,feedbackType:i,pin:n,pinTitle:y,setForcePrimary:P,transparentBackground:x}){var b,S,w,T;const I=(0,s.ZP)(),{isAuthenticated:A,isBot:E,isSocialBot:R}=(0,c.B)(),k=(0,o.useDispatch)(),{viewParameter:C,viewType:j}=(0,u.E)(),{reportPin:O}=(0,m.f)(),[N,D]=(0,t.useState)(!1),[z,B]=(0,t.useState)(),{ad_match_reason:L,show_ad_reasons:M,category:Z,description:G,id:F="",images:U,is_promoted:V,pinner:H,promoter:W,videos:Y}=n;var $;const X=($=V?f:v,function(e){return(0,_.ZP)((e||"").trim(),$)})(null!=G?G:""),q=null==U||null===(b=U["236x"])||void 0===b?void 0:b.url,K=!(null==Y||!Y.video_list),J=(0,p.Z)(101,{component:0,element:981,object_id_str:F,aux_data:{feedback_type:i}}),Q=()=>{M||(P(!1),k((0,h.i0)(F)),D(!1))},{checkExperiment:ee}=(0,d.F)(),ie=A?ee("web_auth_exclude_original_images").anyEnabled:ee("web_unauth_exclude_original_images").anyEnabled;return(0,g.jsxs)(t.Fragment,{children:[(0,g.jsx)(a.xu,{"data-test-id":"feedback-button",ref:B,children:(0,g.jsx)(a.hU,{accessibilityLabel:I._('More information', 'accessibility label for overflow menu button', 'accessibility label for overflow menu button'),bgColor:x?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>{N?Q():(P(!0),D(!0)),J()},size:"sm"})}),N&&(0,g.jsx)(a.xu,{onFocus:e=>e.stopPropagation(),children:(0,g.jsx)(r.Z,{anchor:z,ad_match_reason:L,bestPinImgSrc:(0,l.Z)({images:n.images,embedSrc:null===(S=n.embed)||void 0===S?void 0:S.src,embedType:null===(w=n.embed)||void 0===w?void 0:w.type,excludeOriginals:!E&&!R&&ie}),board:n.board&&{entityId:n.board.id,imageThumbnailUrl:n.board.image_thumbnail_url,name:n.board.name,url:n.board.url},feedbackData:e,feedbackType:i,hideDownload:K,isPromoted:V,onLinkClick:()=>{N&&Q()},onDismiss:Q,onHide:Q,onDownloadHideFlyout:()=>{P(!1),D(!1)},pinCategory:Z,pinDescription:X,pinId:F,pinImgSrc:q,pinner:H&&{explicitlyFollowedByMe:H.explicitly_followed_by_me,entityId:H.id,fullName:H.full_name,imageSmallUrl:H.image_small_url,username:H.username},pinTitle:y,promoter:W&&{fullName:W.full_name,username:W.username},recommendationReason:n.recommendation_reason&&{board:n.recommendation_reason.board&&{name:n.recommendation_reason.board.name,url:n.recommendation_reason.board.url},reason:n.recommendation_reason.reason,reasonId:n.recommendation_reason.reason_id,throughProperties:(ne=n.recommendation_reason.through_properties,ne&&Object.keys(ne).map((e=>({key:e,data:ne[e]}))))},reportPin:()=>{O(n,C,j),Q()},sourceInterest:n.source_interest&&{entityId:null!==(T=n.source_interest.id)&&void 0!==T?T:"",name:n.source_interest.name,urlName:n.source_interest.url_name},viewParameter:C,viewType:j})})]});var ne}},886673:(e,i,n)=>{n.d(i,{Z:()=>I});var t=n(667294),o=n(702664),a=n(616550),r=n(883119),s=n(222443),l=n(388011),d=n(536042),c=n(630089),_=n(649796),p=n(958083),u=n(325438),h=n(867812),m=n(950695),g=n(28630),v=n(724842),f=n(181453),y=n(154522),P=n(443601),x=n(533451),b=n(525104),S=n(785893);function w(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class T extends t.Component{constructor(e){super(e),w(this,"getRecommendationDescription",(()=>{var e,i,n;const{i18n:t,ad_match_reason:o,board:a,feedbackType:r,pinner:s,promoter:l,recommendationReason:d,sourceInterest:c}=this.props,_={i18n:t,makeNavigateLink:this.makeNavigateLink};switch(r){case"pfy":return(0,p.Ud)({..._,feedback:{type:"pfy"}});case"pfyBoard":return(0,p.Ud)({..._,feedback:{type:"pfyBoard",recommendationReasonBoard:(null==d?void 0:d.board)&&{name:null!==(e=d.board.name)&&void 0!==e?e:"",url:null!==(i=d.board.url)&&void 0!==i?i:""}}});case"topic":return(0,p.Ud)({..._,feedback:{type:"topic",sourceInterest:c&&c.name&&c.urlName?{name:c.name,url_name:c.urlName}:null}});case"followed":return(0,p.Ud)({..._,feedback:{type:"followed",followed:null!=s&&s.explicitlyFollowedByMe?{type:"pinner",pinner:s.fullName?{full_name:s.fullName,username:null!==(n=s.username)&&void 0!==n?n:""}:null}:{type:"board",board:a&&a.name&&a.url?{name:a.name,url:a.url}:null}}});case"promoted":return(0,p.Ud)({..._,feedback:{type:"promoted",promoter:!o&&l&&l.fullName?{full_name:l.fullName,username:l.username}:null}});default:return null}})),w(this,"getRecommendationDescriptionImage",(()=>{const{board:e,feedbackType:i,pinner:n,recommendationReason:t}=this.props;if("followed"!==i&&"pfyBoard"!==i)return null;let o,a,s;var l;if(n&&n.explicitlyFollowedByMe)o=n.imageSmallUrl,a="50%",s=`/${null!==(l=n.username)&&void 0!==l?l:""}`;else if(e&&e.imageThumbnailUrl){var d;o=e.imageThumbnailUrl,a="4px",s=(null==t||null===(d=t.board)||void 0===d?void 0:d.url)||e.url}return o?(0,S.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:a}},flex:"none",marginStart:3,overflow:"hidden",children:(0,S.jsx)(r.iP,{onTap:()=>{var e;return this.props.history.push(null!==(e=s)&&void 0!==e?e:"")},children:(0,S.jsx)(r.zd,{height:40,wash:!0,width:40,children:(0,S.jsx)(r.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:o})})})}):null})),w(this,"getUnfollowAction",(()=>{const{board:e,feedbackType:i,i18n:n,pinner:t,sourceInterest:o}=this.props;switch(i){case"followed":return t&&e?(0,p.oK)({i18n:n,makeNavigateLink:this.makeNavigateLink,boardId:e.entityId,display:t.explicitlyFollowedByMe?{type:"pinner",data:{full_name:t.fullName,username:t.username}}:{type:"board",data:{name:e.name,url:e.url}}}):null;case"topic":if(!o)return null;const{entityId:i,name:a,urlName:r}=o;return i&&a&&r?(0,p.Iv)({i18n:n,makeNavigateLink:this.makeNavigateLink,sourceInterest:{id:i,name:a,url_name:r}}):null;default:return null}})),w(this,"getUndoText",(e=>"unfollowPinner"===e||"unfollowBoard"===e?this.props.i18n._('Follow again', 'Caption for button to undo a unfollowing of a topic', 'Caption for button to undo a unfollowing of a topic'):"")),w(this,"makeNavigateLink",((e,i,n,t)=>(0,S.jsx)(r.rU,{onClick:this.props.onLinkClick,href:i,display:"inlineBlock",underline:"hover",children:(0,S.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:t?{display:"inline",color:"white",textDecorationColor:"white"}:{display:"inline"}},children:n})},e))),w(this,"reportPinOption",(()=>({action:"reportPin",elementType:974,text:this.props.i18n._('Report Pin', 'Report a pin in the dropdown', 'Report a pin in the dropdown'),description:this.props.i18n._('This goes against Pinterest\'s community guidelines', 'Description for the report pin option', 'Description for the report pin option'),callback:this.props.reportPin,dataTestId:"report-pin-option"}))),w(this,"hidePinOption",(e=>{const{clientTrackingParams:i,feedbackData:n,feedbackType:t,pinId:o,recommendationReason:a}=this.props,r="search"===t?973:982,{action:s,actionOptions:l}=(0,u.Z)({feedbackData:n,feedbackType:t,pinId:o,pinFeedbackType:"pfy"===t?4:10,recommendationReason:a&&{board:a.board&&{entityId:a.board.entityId},reasonId:a.reasonId,reason:a.reason,throughProperties:a.throughProperties},clientTrackingParams:i(o)}),d=this.props.i18n._('Hide Pin', 'message displayed in pin feedback list', 'message displayed in pin feedback list');return{action:s,actionOptions:l,feedbackText:this.pinHiddenFeedbackText(e),text:d,description:this.props.i18n._('See fewer Pins like this', 'Description for the hide pin option', 'Description for the hide pin option'),elementType:r}})),w(this,"stopRecommendationOption",(()=>{var e;const{clientTrackingParams:i,feedbackData:n,feedbackType:t,pinId:o,recommendationReason:a}=this.props,r="pfyBoard"===t,{action:s,actionOptions:l}=(0,u.Z)({feedbackData:n,feedbackType:t,pinId:o,pinFeedbackType:r?2:4,recommendationReason:a&&{board:a.board&&{entityId:a.board.entityId},reasonId:a.reasonId,reason:a.reason,throughProperties:a.throughProperties},clientTrackingParams:i(o)}),d=null!=a&&a.board&&a.board.url&&a.board.name?this.makeNavigateLink("boardUrl",a.board.url,a.board.name,!0):"";return{action:s,actionOptions:l,feedbackText:{subTitle:r&&a?(0,c.nk)(this.props.i18n._('We won\'t show you Pins inspired by your board {{ formattedBoard }} anymore.', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{formattedBoard:d}):this.props.i18n._('Got it! We won\'t show you Pins like this in the future.', 'message displayed after stopping recommendations from a pin', 'message displayed after stopping recommendations from a pin')},text:r&&a?(0,c.nk)(this.props.i18n._('Stop seeing Pins inspired by {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:null===(e=a.board)||void 0===e?void 0:e.name}):this.props.i18n._('See fewer Pins like this', 'Feedback option to stop recommendations inspired by this Pin', 'Feedback option to stop recommendations inspired by this Pin'),elementType:284}})),w(this,"unfollowBoardOption",(()=>{var e,i;const{board:n}=this.props,t=n?this.makeNavigateLink("boardUrl",null!==(e=n.url)&&void 0!==e?e:"",null!==(i=n.name)&&void 0!==i?i:"",!0):"",o=(0,c.nk)(this.props.i18n._('Unfollow {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:null==n?void 0:n.name}),a=(0,c.nk)(this.props.i18n._('Got it! You unfollowed {{ formattedBoard }} and won\'t see Pins saved to it in the future.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:t});return{action:"unfollowBoard",actionOptions:{board_id:null==n?void 0:n.entityId},feedbackText:{title:"",subTitle:a},text:o,description:(0,c.nk)(this.props.i18n._('Stop seeing Pins from the board "{{ boardName }}"', 'Secondary caption displayed in pin feedback list to unfollow a board', 'Secondary caption displayed in pin feedback list to unfollow a board'),{boardName:null==n?void 0:n.name}),elementType:10614}})),w(this,"unfollowTopicOption",(()=>{const{sourceInterest:e}=this.props;if(e){const{entityId:i,name:n="",urlName:t}=e,o=`/topics/${null!=t?t:""}`,a=this.makeNavigateLink("topicUrl",o,null!=n?n:"",!0),r=(0,c.nk)(this.props.i18n._('See fewer Pins from {{ topicName }}', 'Primary caption displayed in pin feedback list to unfollow a topic', 'Primary caption displayed in pin feedback list to unfollow a topic'),{topicName:n}),s=(0,c.nk)(this.props.i18n._('We\'ll show you fewer Pins from {{ formattedTopic }} in the future.', 'Confirmation text after unfollowing a topic', 'Confirmation text after unfollowing a topic'),{formattedTopic:a});return{action:"unfollowTopic",actionOptions:{interest_id:i,interest_list:h.X},feedbackText:{title:"",subTitle:s},text:r,description:(0,c.nk)(this.props.i18n._('Stop seeing Pins from the topic "{{ topicName }}"', 'Secondary caption displayed in pin feedback list to unfollow a topic', 'Secondary caption displayed in pin feedback list to unfollow a topic'),{topicName:e.name}),elementType:976}}return null})),w(this,"unfollowUserOption",(()=>{const{pinner:e}=this.props,{entityId:i,username:n,fullName:t}=null!=e?e:{},o=`/${n}`,a=e?this.makeNavigateLink("pinnerUrl",o,null!=t?t:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:i},feedbackText:{title:"",subTitle:(0,c.nk)(this.props.i18n._('Got it! You unfollowed {{ formattedUser }} and won\'t see Pins they save in the future.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedUser:a})},text:(0,c.nk)(this.props.i18n._('Unfollow {{ fullName }}', 'Primary caption displayed in pin feedback list to unfollow a user', 'Primary caption displayed in pin feedback list to unfollow a user'),{fullName:t}),description:this.props.i18n._('Stop seeing all their Pins', 'Secondary caption displayed in pin feedback list to unfollow a user', 'Secondary caption displayed in pin feedback list to unfollow a user'),elementType:10640}})),w(this,"downloadPinOption",(()=>({action:"downloadPin",text:this.props.i18n._('Download image', 'Button to download Pin image', 'Button to download Pin image'),elementType:10836}))),w(this,"_pinFeedbackText",(()=>{var e,i,n,t;const{location:o,feedbackType:a,hideDownload:r,pinner:s}=this.props,l="followed"===this.props.feedbackType,d=o.pathname.includes("following"),c=(l||"topic"===a)&&!d,_=this.hidePinOption(c),p=this.reportPinOption(),u="promoted"!==a&&!r;switch(a){case"followed":const o=d,r=!o&&this.getRecommendationDescription(),l=null!=s&&s.explicitlyFollowedByMe?this.unfollowUserOption():this.unfollowBoardOption();return{...r?{description:r}:{},options:[_,...c||o?[l]:[],..."promoted"!==a?[this.downloadPinOption()]:[],p]};case"promoted":const{pinId:h,showAdReasonsModal:m}=this.props,g=[_,{dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:this.props.i18n._('Why am I seeing this ad?', 'app.common.react.components.PinFeedbackDropdown.adReasonText', 'Text to promoted pins explanation modal'),callback:()=>{m(h)}},p];return{description:null!==(e=this.getRecommendationDescription())&&void 0!==e?e:void 0,options:g};case"topic":const v=this.unfollowTopicOption(),f=[_,...c&&v?[v]:[],...u?[this.downloadPinOption()]:[],p];return{description:null!==(i=this.getRecommendationDescription())&&void 0!==i?i:void 0,options:f};case"pfy":case"pfyBoard":const y=[_,..."pfyBoard"===a?[this.stopRecommendationOption()]:[],...u?[this.downloadPinOption()]:[],p];return{description:null!==(n=this.getRecommendationDescription())&&void 0!==n?n:void 0,options:y};default:const P=[_,...u?[this.downloadPinOption()]:[],p];return{description:null!==(t=this.getRecommendationDescription())&&void 0!==t?t:void 0,options:P}}})),w(this,"pinHiddenFeedbackText",(e=>{const{isPromoted:i,promoter:n}=this.props,t=e?null:this.getUnfollowAction();return i&&null!=n&&n.fullName?{title:"",subTitle:(0,c.nk)(this.props.i18n._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'webapp.app.pinFeedbackDropdown.promotedFeedbackText.subtitle', 'Message displayed after hiding a promoted pin. promoter: the name of the person who promoted the pin.'),{promoter:n.fullName})}:t?{title:"",subTitle:this.getRecommendationDescription(),unfollow:t}:{title:"",subTitle:this.props.i18n._('Got it! We won\'t show you this Pin in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}}));const i=this._pinFeedbackText();this.state={pinFeedbackConfig:i,showSecondary:!1}}onPinFeedbackActionButtonClick(e,i,n){e.stopPropagation(),i.auxData?this.handleClickLogging(i.elementType,i.auxData):this.handleClickLogging(i.elementType),(0,_.t)(i.action,i.actionOptions,n)}onPinHide(e,i,n,t){const{hidePinFeedback:o,onHide:a,pinId:r,showPinFeedback:s,showPinFeedbackOverlay:l,showPinFeedbackUndo:d,viewParameter:c,viewType:_,logContextEvent:u}=this.props;i&&n&&t?d(r,e,(0,p.EF)(n,t,r,_,c,o,u),this.getUndoText(t)):s(r,e),!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?a():(this.setState({showSecondary:!0}),l(r))}handleClickLogging(e,i={}){const{feedbackType:n,viewParameter:t,viewType:o,logContextEvent:a}=this.props;a({event_type:101,view_type:o,view_parameter:t,element:e,component:(0,p.nb)(n),aux_data:{...i}})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:i,pinId:n,viewType:t,viewParameter:o,logContextEvent:a,isWindowsPwa:s}=this.props,{pinFeedbackConfig:l}=this.state,{options:d}=l,c=[],p=d.length;for(let u=0;u<p;u+=1){const l=d[u],p=_.P.includes(l.action),h=l.callback?l.callback:()=>this.onPinHide(l.feedbackText,p,l.actionOptions,l.action);if("downloadPin"!==l.action){const e=(0,g.Z)({url:l.link||""});let i="";Array.isArray(l.text)?i=l.text.join(""):"string"!=typeof l.text&&"number"!=typeof l.text||(i=l.text.toString()),c.push(l.link?(0,S.jsx)(r.Lt.Link,{href:l.link,isExternal:e,option:{value:l.action||"",label:i},dataTestId:l.dataTestId||""}):(0,S.jsx)(r.Lt.Item,{onSelect:({event:e})=>this.onPinFeedbackActionButtonClick(e,l,h),option:{value:l.action||"",label:i},dataTestId:l.dataTestId||""}))}else if(!e&&!1===s){const{bestPinImgSrc:e,pinTitle:s,pinDescription:l,pinCategory:d}=this.props;c.push((0,S.jsx)(r.Lt.Item,{onSelect:()=>{(0,P.ZP)({category:d,filename:s||l,imageDownloadSuccessCallback:()=>{i&&i()},imgSrc:e,pinId:n,viewParameter:o,viewType:t},a)},option:{value:"downloadImage",label:this.props.i18n._('Download image', 'pinRep.pinFeedbackDropdown.downloadImage', 'Label to download the pin image')}}))}}return c}render(){var e;const{pinFeedbackConfig:i,showSecondary:n}=this.state,{anchor:o,onDismiss:a,feedbackData:s,feedbackType:l,hideAdReasonsModal:d,pinId:c,onHide:_,recommendationReason:p,showAdReasons:u,viewParameter:h,viewType:m}=this.props,{description:g}=i,P=this.getRecommendationDescriptionImage();return(0,S.jsxs)(t.Fragment,{children:[n?(0,S.jsx)(f.Z,{anchor:o,feedbackData:s,feedbackType:l,pinId:c,onDismiss:a,onHide:_,recommendationReason:p&&{board:p.board&&{entityId:p.board.entityId},reasonId:p.reasonId,reason:p.reason,throughProperties:null===(e=p.throughProperties)||void 0===e?void 0:e.map((({data:e,key:i})=>({data:e,key:i})))},viewParameter:h,viewType:m}):(0,S.jsx)(r.Lt,{anchor:o,id:"pin-action-dropdown",idealDirection:"down",onDismiss:a,zIndex:y.lI,headerContent:g&&(0,S.jsxs)(r.kC,{alignItems:"center",children:[(0,S.jsx)(r.xu,{"data-pin-recommendation-reason":null==p?void 0:p.reason,maxHeight:56,overflow:"hidden",children:(0,S.jsx)(r.xv,{color:"default",overflow:"normal",size:"200",children:g})}),P]}),children:this.renderButtons()}),u&&(0,S.jsx)(v.ZP,{onDismiss:()=>d(c),pinId:c})]})}}function I(e){const{logContextEvent:i}=(0,l.v)(),n=(0,s.Z)(),t=(0,d.ZP)(),r=(0,b.S6)()(e.pinId),{ad_targeting_attribution:c,show_ad_reasons:_=!1}=null!=r?r:{},p=(0,m.kf)(),u=(0,o.useDispatch)();return(0,S.jsx)(T,{...e,clientTrackingParams:n,showAdReasons:_,adTargetingAttribution:c,history:(0,a.useHistory)(),i18n:t,isWindowsPwa:p,location:(0,a.useLocation)(),logContextEvent:i,hidePinFeedback:e=>u((0,x.I1)(e)),showPinFeedback:(e,i)=>u((0,x.q1)(e,i)),showPinFeedbackOverlay:e=>u((0,x.Ib)(e)),showPinFeedbackUndo:(e,i,n,t)=>u((0,x.NA)({id:e,text:i,undoAction:n,undoText:t})),showAdReasonsModal:e=>u((0,x.b9)(e)),hideAdReasonsModal:e=>u((0,x.yj)(e))})}},111671:(e,i,n)=>{n.d(i,{Z:()=>yt});var t=n(667294),o=n(702664),a=n(616550),r=n(883119),s=n(661900),l=n(236921),d=n(604094),c=n(536042),_=n(633917),p=n(282802),u=n(643183),h=n(549201),m=n(946618),g=n(374749),v=n(589845),f=n(599551),y=n(362626),P=n(347151),x=n(178067);var b=n(785893);const S={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function w({pin:e,sourceLinkStyle:i,surface:n,url:o}){var s,l,d,_,p,u;const h=(0,c.ZP)(),[w,T]=(0,t.useState)(!1),I=(null===(s=e.carousel_data)||void 0===s?void 0:s.index)||0,{id:A}=e,E=function({adDestinationUrl:e,domain:i,carouselDataId:n,carouselSlotLink:t}){let o=i||"";return e&&(o=(0,x.Z)(e).hostname||""),n&&(o=t&&(0,x.Z)(t).hostname||""),o.replace("www.","")}({adDestinationUrl:e.ad_destination_url,domain:e.domain,carouselDataId:null===(l=e.carousel_data)||void 0===l?void 0:l.id,carouselSlotLink:null===(d=e.carousel_data)||void 0===d||null===(_=d.carousel_slots)||void 0===_?void 0:_[I].link}),R=(0,a.useLocation)(),k=(0,g.Kl)(e)||{},{slotIndex:C}=(0,P.E)(),j=(0,m.Z)({boardUrl:null===(p=e.board)||void 0===p?void 0:p.url,location:R,pinId:e.id,pinnerUserName:null===(u=e.pinner)||void 0===u?void 0:u.username,storyPinDataId:e.story_pin_data_id,trackingParams:e.tracking_params,trackingParamsMap:e.tracking_params_map}),O=(0,y.Z)(12,{object_id_str:A,clientTrackingParams:j,aux_data:{grid_index:C,...(0,g.Kl)(e)||{}}}),N=(0,y.Z)(101,{element:162,object_id_str:A,clientTrackingParams:j,aux_data:{...(0,g.Kl)(e)||{}}}),D=(0,y.Z)(8948,{object_id_str:A,clientTrackingParams:j,aux_data:{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:C,...(0,g.Kl)(e)||{}}}),z=()=>{O(),N(),D()},B=(0,f.Z)({href:o,target:"blank",externalData:{auxData:k,pin:e,surface:n}});return"icon-only"===i?(0,b.jsx)(r.hU,{accessibilityLabel:h._('link', 'Website url link', 'Website url link'),bgColor:"white",href:o,icon:"arrow-up-right",iconColor:"darkGray",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),z(),B({event:e})},role:"link",rel:"nofollow",size:"sm"}):(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{...S.container,...w?S.containerHovered:Object.freeze({}),..."truncated-text"===i?S.containerTruncated:Object.freeze({})}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),position:"relative",children:(0,b.jsx)(v.Z,{hovered:w,pin:e,slotIndex:C,viewType:1,children:(0,b.jsx)(r.iP,{fullWidth:!1,href:o,onTap:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),z(),B({event:e})},rel:"nofollow",role:"link",rounding:4,children:(0,b.jsxs)(r.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:S.text},display:"flex",justifyContent:"between",children:[(0,b.jsx)(r.xu,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:(0,b.jsx)(r.JO,{accessibilityLabel:h._('link', 'Website url link', 'Website url link'),color:"default",icon:"arrow-up-right",size:9})}),(0,b.jsx)(r.xu,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:(0,b.jsx)(r.xv,{color:"default",size:"200",weight:"bold",lineClamp:1,children:E})})]})})})})}var T=n(251951),I=n(979275);const A=(0,t.lazy)((()=>Promise.all([n.e(97270),n.e(47424),n.e(23755),n.e(48035)]).then(n.bind(n,932215)))),E=(0,t.lazy)((()=>Promise.resolve().then(n.bind(n,623256)))),R=(0,t.lazy)((()=>Promise.all([n.e(97270),n.e(4506),n.e(5035)]).then(n.bind(n,842674))));const k=({pinId:e})=>{const{onSendButtonClick:i}=(0,T.R)(),n=(0,y.Z)(101,{element:72,object_id_str:e});return(0,b.jsx)(I.Z,{onSendButtonClick:i,trackShareTap:n,size:"sm",bgColor:"white"})},C=(0,t.memo)((function({actionBarEditBeforeShare:e,feedbackData:i,feedbackType:n,layout:o,onToggleFlyout:a,pin:l,pinTitle:m,setForcePrimary:g,showEditButton:v,showOverflowMenu:f,showShareButton:y,showSourceLinkButton:x,sourceLinkStyle:S,surface:T}){var I,C;const j=(0,c.ZP)(),O=(0,r.JZ)(),{isRTL:N}=(0,p.B)(),D=!(0,h.HG)(),{viewParameter:z,viewType:B}=(0,P.E)(),{carousel_data:L,id:M,savedInfo:Z,tracked_link:G,link:F,ad_destination_url:U}=l,V=null!==(I=null!==(C=null!=U?U:G)&&void 0!==C?C:F)&&void 0!==I?I:"",{showLeadPinStdAlpha:H}=(0,s.Z)(l),[W,Y]=(0,t.useState)(v),[$,X]=(0,t.useState)(v),[q,K]=(0,t.useState)(v),J={...N?{marginLeft:v&&f?-44:0}:{marginRight:v&&f?-44:0},transition:N?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"},Q={opacity:q?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},ee={...N?{marginRight:$?4:0}:{marginLeft:$?4:0},transition:N?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"};(0,t.useEffect)((()=>{let e;return v&&f?(X(!0),e=setTimeout((()=>{requestAnimationFrame((()=>{Y(!0),requestAnimationFrame((()=>{K(!0)}))}))}),800)):(X(v),Y(v),requestAnimationFrame((()=>{K(v)}))),()=>{clearTimeout(e)}}),[v,f]);let ie=null;if(x){const e=`/pin/${M}`;ie=(0,b.jsx)(_.Z,{children:H?(0,b.jsx)(r.zx,{role:"link",accessibilityLabel:j._('Link for closeup view and learn more', '[m10n] pinRep.actionBar.learnMore', 'Content for learn more link'),size:"sm",href:e,text:j._('Learn more', '[m10n] pinRep.actionBar.learnMore', 'Content for learn more link')}):(0,b.jsx)(w,{pin:l,sourceLinkStyle:S,surface:T,url:V})})}const ne=y&&(0,b.jsx)(d.Z,{name:"SafeSuspense_PinRep_SendShareLink",children:(0,b.jsx)(u.Z,{children:(0,b.jsx)(r.xu,{"data-test-id":"send-share-link",children:(0,b.jsx)(_.Z,{children:D?(0,b.jsx)(k,{pinId:l.id}):(0,b.jsx)(R,{pin:l,setForcePrimary:g})})})})}),te=Boolean(null==Z?void 0:Z.localPinId)?null==Z?void 0:Z.localPinId:M,oe=W&&(0,b.jsx)(d.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,b.jsx)(u.Z,{children:(0,b.jsx)(r.xu,{"data-test-id":"edit-button",dangerouslySetInlineStyle:O?void 0:{__style:Q},children:(0,b.jsx)(_.Z,{children:(0,b.jsx)(A,{carouselSlotCurrentIndex:L&&L.index,component:0,onToggleModal:a,pinId:te,style:{size:"sm"},view:B,viewParameter:z,useLegoStyles:!0})})})})});return"equally-spaced"===o?(0,b.jsxs)(r.xu,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:ie}),e?oe:ne,e?ne:oe]}):(0,b.jsxs)(r.xu,{alignItems:"center",display:"flex",padding:3,children:[(0,b.jsx)(r.xu,{flex:"shrink",children:ie}),(0,b.jsx)(r.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:O?void 0:{__style:J},children:(0,b.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"end",children:[e?oe:ne,e?ne:oe,f&&(0,b.jsx)(d.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,b.jsx)(u.Z,{children:(0,b.jsx)(r.xu,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:O?void 0:{__style:ee},children:(0,b.jsx)(_.Z,{children:(0,b.jsx)(E,{feedbackData:i,feedbackType:n,pin:l,pinTitle:m,setForcePrimary:g})})})})})]})})]})}));var j=n(788642),O=n(219224),N=n(388011),D=n(297776),z=n(802071),B=n(924255),L=n(541268),M=n(274796),Z=n(755040),G=n(385929);const F=312,U=20;function V({board:e,favoriteCount:i,favorited:n,pinId:a}){const{logContextEvent:s}=(0,N.v)(),l=(0,o.useDispatch)(),{slotIndex:d}=(0,P.E)(),{currentFilter:c,eligibleFilters:_,refreshData:p=(()=>{}),sectionId:u,setShowExperienceTooltip:h}=(0,Z.s)(),m=(0,t.useRef)(null),g=(0,z.Z)(),v=(0,O.Z)(g,e),f=c===G.Ac&&(!i||1===i),y=(0,B.E)(_,G.Ac),x=e=>{s({event_type:101,component:0,element:e?12225:12226,object_id_str:a,view_type:5,view_parameter:v?3069:3070})};return(0,b.jsxs)(t.Fragment,{children:[(0,b.jsx)(r.xu,{ref:m,children:(0,b.jsx)(j.Z,{favorited:n,favoriteCount:i,onFavorite:()=>{x(!0),y&&p(),h&&h(!0)},onUnfavorite:()=>{x(!1),e&&f&&l((0,L.EX)({feedId:u||e.id,feedType:u?M.Z.BOARD_SECTION_PINS:M.Z.BOARDFEED,itemIds:[a],itemType:"pin"}))},pinId:a,size:U})}),m&&!n&&!u&&0===d&&(0,b.jsx)(r.mh,{children:(0,b.jsx)(D.default,{anchor:m.current,experienceIds:[502973],flyoutSize:F,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}const H=e=>{const i=new URL(e);return i.searchParams.delete("epik"),i.href};var W=n(354428),Y=n(300657),$=n(245410),X=n(525104);function q(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class K extends t.Component{constructor(...e){super(...e),q(this,"state",{spamCheck:null}),q(this,"mounted",!1),q(this,"handleSpammyDomainCheck",(()=>{const{clientTrackingParams:e,location:i,pin:n,surface:t,url:o}=this.props;o&&n&&(!n.promoter||n.is_downstream_promotion)&&(0,W.$3)({location:i,pinId:n.id,surface:t})&&(0,W.iw)({clientTrackingParams:e,isMounted:this.mounted,pinId:n.id,spamCheckCallback:e=>this.setState({spamCheck:e}),href:o})})),q(this,"handleClick",(e=>{const{auxData:i,clientTrackingParams:n,onClick:t,navigateToOffsiteUrl:o,pin:a,pinId:r,url:s}=this.props;(0,W.gV)({isOffsiteUrl:!0,event:e})||(e.preventDefault(),t&&t(e),s&&o({auxData:i,clientTrackingParams:n,pin:a&&{attributionSourceId:a.attribution_source_id,campaignId:a.campaign_id,isPromoted:a.is_promoted,pinPromotionId:a.pin_promotion_id},pinId:r,url:s}))}))}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){const{spamCheck:e}=this.state;null===e&&this.handleSpammyDomainCheck()}render(){const{children:e,pin:i,shouldHideEpikSearchParam:n,url:t}=this.props;return(0,b.jsx)("a",{"aria-label":(null==i?void 0:i.domain)||"",href:n?H(t):t,onClick:this.handleClick,rel:"nofollow",style:{color:"inherit",textDecoration:"none",outline:"none",cursor:"pointer",display:"block"},target:null,children:e})}}function J(e){var i,n,t;const o=(0,X.S6)()(null!==(i=e.pinId)&&void 0!==i?i:""),{checkExperiment:r}=(0,$.F)(),{isAuthenticated:s}=(0,p.B)(),l=(0,a.useLocation)(),d=o?(0,m.Z)({boardUrl:null===(n=o.board)||void 0===n?void 0:n.url,location:l,pinId:o.id,pinnerUserName:null===(t=o.pinner)||void 0===t?void 0:t.username,storyPinDataId:o.story_pin_data_id,trackingParams:o.tracking_params,trackingParamsMap:o.tracking_params_map}):null,c=(0,Y.Z)({isFromClickthroughLink:!0});return(0,b.jsx)(K,{...e,clientTrackingParams:d,location:(0,a.useLocation)(),navigateToOffsiteUrl:c,pin:o,shouldHideEpikSearchParam:!s||r("web_hide_epik_param_in_promoted_urls").anyEnabled})}var Q=n(788241),ee=n(846226);function ie(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:i,totalAssets:n}=window.prefetchCompletion[e];return n?(i/n*100).toFixed(3).toString():"-1"}function ne({children:e,componentType:i,contextLogData:n,pin:t,surface:o,viewParameter:a,viewType:s}){const{logContextEvent:l}=(0,N.v)(),d=(0,P.E)(),{ad_destination_url:c,carousel_data:_,id:p,link:u,tracked_link:h}=t;let m,g=c||h||u||"",v="one-tap-desktop";const f=(0,Q.SU)();if(_){const{carousel_slots:e=[],id:i,index:n=0}=_;e[n]&&e[n].link&&(g=e[n].link),m={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:i,carousel_slot_index:n},v+="-carousel"}return(0,b.jsx)(r.xu,{"data-test-id":"otpp",children:(0,b.jsx)(ee.Z,{id:v,children:(0,b.jsx)(J,{auxData:m,onClick:()=>{l({event_type:12,view_type:s||d.viewType,view_parameter:a||d.viewParameter,component:i||d.componentType,object_id_str:p,aux_data:{...n,grid_index:d.slotIndex,pin_id:p,prefetch_percentage_complete:ie(u||"")}}),l({event_type:8948,view_type:s||d.viewType,view_parameter:a||d.viewParameter,component:i||d.componentType,object_id_str:p,aux_data:{...n,click_type:"clickthrough",closeup_navigation_type:"click",grid_index:d.slotIndex,pin_id:p,prefetch_percentage_complete:ie(u||"")}}),l({event_type:13,object_id_str:p,component:i||d.componentType,view_type:3,aux_data:{closeup_navigation_type:"web_closeup",...d.contextLogData,...n}}),l({event_type:13,view_type:f.viewType,view_parameter:f.viewParameter,view_data:f.viewData})},pinId:p,surface:o,url:g,children:e})})})}var te=n(833897);function oe(e){var i;const{surface:n,...t}=e,{pin:o}=e,a=!!o.promoted_is_lead_ad,r=!!o.is_eligible_for_web_closeup,s=!!o.promoter&&!o.is_downstream_promotion,l=!(null===(i=o.videos)||void 0===i||!i.video_list),d=!a&&(r||l&&s)?ne:te.Z;return(0,b.jsx)(d,{surface:r?n:void 0,...t})}function ae({pin:e,pinNoteText:i,surface:n}){return(0,b.jsx)(oe,{pin:e,children:(0,b.jsx)(r.xv,{lineClamp:"AdsRepositoryDetails"===n?void 0:1,overflow:"normal",size:"200",children:i})})}var re=n(316445);const se=(e,i)=>i?[{align:"center",displayText:e._('Video views', 'pinRep.pinStats.videoViews', 'Label for views of a video pin on pinrep'),field:"video_views",iconType:"play"},{align:"center",displayText:e._('Avg. time', 'pinRep.pinStats.videoAverageTime', 'Label for average time of a video pin on pinrep'),field:"video_average_time",iconType:"clock",valueFormat:"TIME"}]:[{align:"start",displayText:e._('Video views', 'pinRep.pinStats.videoViews', 'Label for views of a video pin on pinrep'),field:"video_views",iconType:"play"},{align:"center",displayText:e._('Avg. time', 'pinRep.pinStats.videoAverageTime', 'Label for average time of a video pin on pinrep'),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:e._('Saves', 'pinRep.pinStats.save', 'Label for saves of a video pin on pinrep'),field:"save",iconType:"angled-pin"}],le=(e,i)=>i?[{align:"center",displayText:e._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:e._('Link clicks', 'pinRep.pinStats.clickthrough', 'Label for click-throughs of a pin on pinrep'),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]:[{align:"start",displayText:e._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:e._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"},{align:"end",displayText:e._('Link clicks', 'pinRep.pinStats.clickthrough', 'Label for click-throughs of a pin on pinrep'),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}],de=(e,i,n,t)=>e?[{align:"start",displayText:n._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"full_screen_play",iconType:"play"}]:i?[{align:"start",displayText:n._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"full_screen_play",iconType:"play"},{align:"center",displayText:n._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"end",displayText:n._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]:t?[{align:"center",displayText:n._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:n._('Closeups', 'pinRep.pinStats.closeups', 'Label for closeups of a pin on pinrep'),field:"closeup",iconSize:10,iconType:"hand-pointing"}]:[{align:"start",displayText:n._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:n._('Closeups', 'pinRep.pinStats.closeups', 'Label for closeups of a pin on pinrep'),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:n._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}],ce=(e,i)=>i?[{align:"center",displayText:e._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:e._('Pin clicks', 'pinRep.pinStats.pinclick', 'Label for pin clicks of a pin on pinrep'),field:"pin_click",iconSize:10,iconType:"hand-pointing"}]:[{align:"start",displayText:e._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:e._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"},{align:"end",displayText:e._('Pin clicks', 'pinRep.pinStats.pinclick', 'Label for pin clicks of a pin on pinrep'),field:"pin_click",iconSize:10,iconType:"hand-pointing"}];var _e=n(898252),pe=n(117651),ue=n(13596);function he({value:e,valueFormat:i}){const n=(0,c.ZP)();return e||0===e?"TIME"===i?(0,pe.Z)(e):(0,b.jsx)(ue.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):(0,b.jsx)(r.u,{idealDirection:"up",text:n._('This stat is not available yet', 'closeup.partnerAnalytics.unavailableStat', 'when data for this field has not populated yet'),children:"—"})}function me({pin:e}){var i,n;const t=(0,c.ZP)(),o=(0,z.Z)(),a=!!e.story_pin_data_id,s=!(null===(i=e.videos)||void 0===i||!i.video_list),d=o.isAuth&&(null===(n=e.pinner)||void 0===n?void 0:n.id)===o.id&&!e.is_repin,_=o.isAuth&&o.isPartner,p=(0,re.Z)("pinStats"),u=!!_&&p(),h=(0,l.iL)({isOwnPin:d,isPartner:_}),m=(0,l.H1)({isOwnPin:d,isPartner:_}),g=e.created_at?new Date(e.created_at):null,v=(h||m)&&g&&g.getTime()<=l.HW.getTime(),f=h?function(e){const{public_creator_analytics:i}=e;return e.story_pin_data_id&&i?i:null}(e):function(e,i){const{aggregated_pin_data:n,creator_analytics:t}=e,o=(0,_e.Nc)({pin:e,isSCEEnabled:i}),{creator_analytics:a}=n||{};return o?a:t}(e,u),y=Boolean(e.promoted_is_removable),P=function({isAdsOnlyPin:e,isStoryPin:i,isVideo:n,i18n:t,showPublicPinStats:o,showPrivateFullScreenPinStats:a,showSCEMetrics:r}){return r&&!o?ce(t,e):n?se(t,e):i?de(o,a,t,e):le(t,e)}({isAdsOnlyPin:y,isVideo:s,isStoryPin:a,i18n:t,showPublicPinStats:h,showPrivateFullScreenPinStats:m,showSCEMetrics:u});let x;return x=u?(null==f?void 0:f.all_time_realtime)||(null==f?void 0:f["30d_realtime"]):(s||a)&&(null==f?void 0:f.all_time_realtime)||(null==f?void 0:f["30d_realtime"]),(0,b.jsx)(r.kC,{alignItems:"start",justifyContent:y?"around":"between",children:P.map((({align:e,displayText:i,field:n,iconType:t,iconSize:o=12,valueFormat:a})=>{var s;return(0,b.jsxs)(r.xu,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[(0,b.jsx)(r.xu,{display:"inlineBlock",marginEnd:1,children:(0,b.jsx)(r.JO,{accessibilityLabel:i,color:"default",icon:t,size:o})}),(0,b.jsx)(r.xv,{inline:!0,size:"200",children:(0,b.jsx)(he,{value:"full_screen_play"===n&&v?null:null===(s=x)||void 0===s?void 0:s[n],valueFormat:a})})]},n)}))})}function ge({currentPrice:e,disableLink:i,originalPrice:n,pin:t,surface:o}){const a=n&&n!==e,s=(0,b.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[e&&(0,b.jsx)(r.xv,{color:"default",size:"200",weight:"bold",children:e}),a&&(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,b.jsx)(r.xv,{color:"subtle",size:"200",weight:"bold",children:n})})]});return i?s:(0,b.jsx)(oe,{pin:t,surface:o,children:s})}function ve(e,i){var n;return("product"===(null===(n=e.rich_summary)||void 0===n?void 0:n.type_name)||"ShoppingGridShippedMetadataWithVisitButton"===i&&(0,g.bA)(e))&&((0,g.fz)(e)||(0,g.QY)(e))||""}function fe({disableLink:e,pin:i,surface:n}){const t=(0,b.jsx)(r.xu,{"data-test-id":"pin-source",display:"flex",alignItems:"stretch",justifyContent:"start",children:(0,b.jsx)(r.xv,{color:"default",lineClamp:1,overflow:"normal",size:"200",weight:"normal",children:ve(i,n)})});return e?t:(0,b.jsx)(oe,{pin:i,surface:n,children:t})}var ye=n(969327),Pe=n(874261),xe=n(869805);function be({disableLink:e,numberOfLines:i=2,pin:n,pinTitle:t,surface:o}){const a=(0,p.B)(),{checkExperiment:s}=(0,$.F)(),l=!!n.promoter&&!n.is_downstream_promotion,d=e?t:(0,b.jsx)(oe,{pin:n,surface:o,children:t}),c=(0,ye.G6)(a.userAgent.browserName),_="iphone"===(0,xe.v)(a),u="ipad"===(0,xe.v)(a);return(_||u||c)&&!l&&s("hfp_title_truncation_safari_web").anyEnabled?(0,b.jsxs)(r.xv,{color:"default",size:"200",weight:"bold",children:[(0,b.jsx)(Pe.Z,{unsafeCSS:"\n  .shorten-title > a {\n    max-width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .shorten-title {\n    max-width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  "}),(0,b.jsx)("div",{className:"shorten-title",children:d})]}):(0,b.jsx)(r.xv,{color:"default",lineClamp:i,size:"200",weight:"bold",children:d})}var Se=n(623256),we=n(371659),Te=n.n(we),Ie=n(217649),Ae=n.n(Ie),Ee=n(36855),Re=n.n(Ee),ke=n(624645),Ce=n.n(ke),je=n(130133),Oe=n.n(je),Ne=n(411171);const De={goodIdea:Te(),love:Re(),thanks:Ce(),wow:Oe(),haha:Ae()},ze={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},Be=["CreatorProfileStoryPinGrid"];const Le=function({alignment:e="start",pinId:i,pinner:n,reactionCounts:t,surface:o}){const a=(0,z.Z)(),s=t?(0,Ne.At)(t):null,l=t?(0,Ne.Ud)(t):0,d=Boolean(a.isAuth&&(null==n?void 0:n.id)===a.id),c=!!s&&s.length>0&&s.map(((e,i)=>{const n=De[ze[e]];return(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,b.jsx)(r.xu,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${n})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},i)})),_=!!c&&(0,b.jsx)(r.iP,{role:"link",href:`/pin/${i}/`,children:(0,b.jsxs)(r.xu,{display:"flex",direction:"row",alignItems:"center",justifyContent:e,height:19,paddingY:3,children:[(0,b.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:c}),(0,b.jsx)(r.xu,{paddingX:1,children:(0,b.jsx)(r.xv,{size:"200",children:(0,b.jsx)(ue.Z,{value:l,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),p=d&&Be.includes(o)&&(0,b.jsx)(r.xu,{height:24});return _||p};var Me=n(309926),Ze=n(621699);const Ge=32;function Fe({accessibilityLabel:e,attributionNameLink:i,avatarUrl:n,fullWidth:t=!0,name:o="",onClick:a,outline:s=!1,size:l=Ge,shouldRenderAdsOnlyProfileClick:d=!1}){const c=(0,b.jsx)(r.xu,{"data-test-id":"attribution-avatar",height:l,width:l,children:(0,b.jsx)(Ze.Z,{name:o,src:n,accessibilityLabel:"",outline:s})});return i?(0,b.jsx)(r.iP,{fullWidth:t,role:"link",href:i,rel:d?"nofollow":void 0,target:d?"blank":void 0,onTap:a,accessibilityLabel:e,children:c}):c}var Ue=n(493214);function Ve({isHover:e,attributionNameLink:i,name:n,onClick:t,regularWeight:o}){return(0,b.jsx)(r.xu,{children:i?(0,b.jsx)(r.xv,{underline:e,size:"200",lineClamp:1,weight:o?"normal":"bold",children:(0,b.jsx)(r.rU,{onClick:t,href:i,children:n})}):(0,b.jsx)(Ue.Z,{underline:e,size:"200",lineClamp:1,weight:o?"normal":"bold",children:n})})}function He({isHover:e,link:i,onClick:n,title:t,weight:o}){return t?(0,b.jsx)(r.xv,{inline:!0,underline:e,size:"200",weight:o,children:i?(0,b.jsx)(r.rU,{onClick:n,href:i,children:t}):t}):null}var We=n(251163),Ye=n(397831);const $e=32,Xe=64,qe=-45;function Ke({attributionNameLink:e,attributionTitle:i,avatarUrl:n,display:o="default",isPromotedByPinCreator:a,name:s,url:l,verifiedIdentity:d,isVerifiedMerchant:c,shouldRenderAdsOnlyProfileClick:_,pinId:p,storyPinDataId:u,hasPromoter:h,hasSponsorship:m,sponsorshipCreatorId:g,isDownstreamPromotion:v}){const f=(0,Ye.f)(),[P,x]=(0,t.useState)(!1),S=h&&!v,{logContextEvent:w}=(0,N.v)(),T=!!u,I=(0,y.Z)(101,{view_type:3,element:S?283:27,object_id_str:p,component:T?230:void 0,aux_data:{...g?{creator_id:g,pin_id:p}:{}}}),A=()=>{f.setMostRecentPinId(p),I()},E=()=>{x((e=>!e))},R=l&&!e,k=R?"":s,C="overlay"===o,j=(0,b.jsxs)(r.xu,{alignItems:"center",display:C?void 0:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[(0,b.jsx)(r.xu,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},display:C?"flex":void 0,justifyContent:"center",children:(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:C?{__style:{marginTop:qe}}:void 0,children:(0,b.jsx)(Fe,{attributionNameLink:k?e:void 0,avatarUrl:n,name:k,onClick:()=>A(),accessibilityLabel:k,size:C?Xe:$e,outline:C})})}),(0,b.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",display:C?"flex":void 0,justifyContent:"center",marginTop:C?2:void 0,children:[(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,b.jsxs)(r.kC,{gap:{row:1,column:0},children:[(0,b.jsx)(Ve,{attributionNameLink:e,name:s,onClick:()=>A(),regularWeight:!(S&&!m||a),isHover:P}),(0,b.jsx)(We.Z,{size:"sm",hasVerifiedIdentity:d,isVerifiedMerchant:c})]})}),(0,b.jsx)(He,{isHover:P,title:i,weight:"normal"})]})]});return R?(0,b.jsx)(r.iP,{role:"link",onTap:({event:e})=>{_&&w({event_type:9371,element:13382,aux_data:{aop_origin:"Attribution"}}),e.stopPropagation(),A()},href:l,rel:_?"nofollow":void 0,target:_?"blank":void 0,onMouseEnter:E,onMouseLeave:E,children:j}):j}var Je=n(885669);const Qe={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${Je.X}ms ease`},visible:{opacity:1}}};var ei=n(649715);function ii({feedbackType:e,pin:i}){const n=(0,c.ZP)(),{pinner:t,source_interest:o}=i,{full_name:a,username:s}=t||{},{name:l}=o||{},d="topic"===e,_=!d&&"followed"===e,p=`/${s}/`,u=(0,ei.Z)(l),h=`/search/pins/?q=${encodeURIComponent(u)}&rs=image_only_attribution`,m=d?h:p,g={topic:n._('From {topic}', 'attribution on pin rep', 'attribution on pin rep'),followed:n._('From {pinnerName}', 'attribution on pin rep', 'attribution on pin rep'),pfyBoard:n._('Picked for you', 'attribution on pin rep', 'attribution on pin rep'),pfy:n._('Picked for you', 'attribution on pin rep', 'attribution on pin rep')}[e];if(!g)return null;if(_||d){const e=0===g.indexOf("{"),i=d?l:a,n=e?g.slice(g.indexOf("}")+1):g.slice(0,g.indexOf("{"));return e?(0,b.jsxs)(r.xu,{children:[(0,b.jsx)(r.rU,{display:"inlineBlock",href:m,underline:"hover",children:(0,b.jsx)(r.xv,{weight:"bold",inline:!0,size:"200",lineClamp:1,children:i})}),(0,b.jsx)(r.xv,{inline:!0,size:"200",children:n})]}):(0,b.jsxs)(r.xu,{children:[(0,b.jsx)(r.xv,{inline:!0,size:"200",children:n}),(0,b.jsx)(r.rU,{display:"inlineBlock",href:m,underline:"hover",children:(0,b.jsx)(r.xv,{color:"default",weight:"bold",inline:!0,size:"200",lineClamp:1,children:i})})]})}return(0,b.jsx)(r.xu,{children:(0,b.jsx)(te.Z,{pin:i,children:(0,b.jsx)(r.xv,{color:"default",overflow:"normal",size:"200",weight:"bold",children:g})})})}var ni=n(925428),ti=n(462887);function oi({attributionType:e,board:i,feedbackData:n,feedbackType:a,hasTextContent:s,hasTitleOrSource:l,hoverTransitionState:d,pin:p,pinNoteText:u,pinTitle:h,productCurrentPrice:m,productOriginalPrice:g,setForcePrimary:v,showCarouselEllipsis:f,showFavoriteButton:P,showGroupBoardAvatar:x,showNativeReactions:S,showOverflowMenu:w,showPinStats:T,showSource:I,showTextContent:A,showAttribution:E,surface:R,titleLines:k}){var C,j,O,N;const D=(0,c.ZP)(),B=(0,z.Z)(),L=(0,o.useDispatch)(),{favorited_by_me:M,favorite_user_count:Z,id:G,pinner:F,reaction_counts:U,sponsorship:H,story_pin_data:W}=p,{has_affiliate_products:Y}=W||{},{checkExperiment:X}=(0,$.F)(),q=function(e,i,n,t){var o,a,r,s,l;const{board:d,link_domain:c={},promoter:_,sponsorship:p,native_creator:u}=e,{sponsor:h}=p||{},m=!!e.promoter&&!e.is_downstream_promotion,{official_user:g}=c||{},v=m&&!!p&&(null==u?void 0:u.id)!==(null==_?void 0:_.id),f=e.pinner||{};let y="",P="",x="",b="",S="",w="",T=!1,I=!1,A=!1;function E(e,i){return t&&!!e&&!!i}var R,k,C,j,O,N,D,z;if(v)y=null!==(R=null!==(k=null==u?void 0:u.image_medium_url)&&void 0!==k?k:null==u?void 0:u.image_small_url)&&void 0!==R?R:"",P=E(null==u?void 0:u.is_ads_only_profile,null==u?void 0:u.ads_only_profile_site)?null!==(C=u.ads_only_profile_site)&&void 0!==C?C:"":`/${null!==(j=null==u?void 0:u.username)&&void 0!==j?j:""}/`,x=null==_?void 0:_.full_name,b=null==u?void 0:u.full_name,w=E(null==u?void 0:u.is_ads_only_profile,null==u?void 0:u.ads_only_profile_site)?null!==(O=u.ads_only_profile_site)&&void 0!==O?O:"":`/${null!==(N=null==u?void 0:u.username)&&void 0!==N?N:""}/`,S=`/${null!==(D=null==_?void 0:_.username)&&void 0!==D?D:""}/`,T=null==u||null===(z=u.verified_identity)||void 0===z?void 0:z.verified,I=null==u?void 0:u.is_verified_merchant,A=E(null==u?void 0:u.is_ads_only_profile,null==u?void 0:u.ads_only_profile_site);else if(m&&_)y=_.image_medium_url||_.image_small_url,x=_.full_name,b=n._('Promoted by', 'indicating the username of the person who promoted the pin', 'indicating the username of the person who promoted the pin'),w=E(_.is_ads_only_profile,_.ads_only_profile_site)?_.ads_only_profile_site:`/${_.username}/`,A=E(_.is_ads_only_profile,_.ads_only_profile_site);else if(p&&null!=h&&h.username){var B,L,M,Z,G,F,U,V,H;y=null!==(B=null!==(L=null!==(M=null==u?void 0:u.image_large_url)&&void 0!==M?M:null==u?void 0:u.image_medium_url)&&void 0!==L?L:null==u?void 0:u.image_small_url)&&void 0!==B?B:"",P=E(null==u?void 0:u.is_ads_only_profile,null==u?void 0:u.ads_only_profile_site)?null!==(Z=u.ads_only_profile_site)&&void 0!==Z?Z:"":`/${null!==(G=null==u?void 0:u.username)&&void 0!==G?G:""}/`,x=h.full_name,b=null==u?void 0:u.full_name,w=E(null==u?void 0:u.is_ads_only_profile,null==u?void 0:u.ads_only_profile_site)?null!==(F=u.ads_only_profile_site)&&void 0!==F?F:"":`/${null!==(U=null==u?void 0:u.username)&&void 0!==U?U:""}/`,S=`/${null!==(V=h.username)&&void 0!==V?V:""}/`,T=null==u||null===(H=u.verified_identity)||void 0===H?void 0:H.verified,I=null==u?void 0:u.is_verified_merchant,A=E(null==u?void 0:u.is_ads_only_profile,null==u?void 0:u.ads_only_profile_site)}else if(u){var W,Y,$,X;y=null!==(W=null!==(Y=null!==($=u.image_large_url)&&void 0!==$?$:u.image_medium_url)&&void 0!==Y?Y:u.image_small_url)&&void 0!==W?W:"",b=u.full_name,w=E(u.is_ads_only_profile,u.ads_only_profile_site)?u.ads_only_profile_site:`/${u.username}/`,T=null===(X=u.verified_identity)||void 0===X?void 0:X.verified,I=u.is_verified_merchant,A=E(u.is_ads_only_profile,u.ads_only_profile_site)}else if("show-for-claimed-content"===i){var q,K,J,Q,ee;null!=g&&g.is_primary_website_verified&&g.username&&(y=null!==(q=null!==(K=null!==(J=g.image_large_url)&&void 0!==J?J:g.image_medium_url)&&void 0!==K?K:g.image_small_url)&&void 0!==q?q:"",b=g.full_name,w=E(g.is_ads_only_profile,g.ads_only_profile_site)?g.ads_only_profile_site:`/${null!==(Q=g.username)&&void 0!==Q?Q:""}/`,T=null===(ee=g.verified_identity)||void 0===ee?void 0:ee.verified,I=g.is_verified_merchant,A=E(g.is_ads_only_profile,g.ads_only_profile_site))}else{var ie,ne,te,oe;y=null!==(ie=null!==(ne=null!==(te=f.image_large_url)&&void 0!==te?te:f.image_medium_url)&&void 0!==ne?ne:f.image_small_url)&&void 0!==ie?ie:"",P=`/${f.username}/`,b=f.full_name,w=d?d.url:"",T=null===(oe=f.verified_identity)||void 0===oe?void 0:oe.verified,I=f.is_verified_merchant}return{avatarUrl:null!==(o=y)&&void 0!==o?o:"",attributionNameLink:null!==(a=P)&&void 0!==a?a:"",attributionTitle:null!==(r=x)&&void 0!==r?r:"",name:null!==(s=b)&&void 0!==s?s:"",sponsorUrl:S,url:null!==(l=w)&&void 0!==l?l:"",verifiedIdentity:!!T,isVerifiedMerchant:!!I,shouldRenderAdsOnlyProfileClick:!!A}}(p,e,D,X("web_ads_only_profiles_link_redirect").anyEnabled),{avatarUrl:K,attributionNameLink:J,attributionTitle:Q,name:ee,sponsorUrl:ie,url:ne,verifiedIdentity:te,isVerifiedMerchant:oe,shouldRenderAdsOnlyProfileClick:re}=q,se=!!p.promoter&&!p.is_downstream_promotion,le=se&&(null===(C=p.native_creator)||void 0===C?void 0:C.id)===(null===(j=p.promoter)||void 0===j?void 0:j.id),de=(0,y.Z)(101,{view_type:3,element:27,object_id_str:G,component:p.story_pin_data_id?230:void 0,aux_data:{pin_id:G,...null!=H&&null!==(O=H.creator)&&void 0!==O&&O.id&&null!==(N=H.sponsor)&&void 0!==N&&N.id?{creator_id:H.creator.id,sponsor_id:H.sponsor.id}:{}}}),ce=e=>L(ce(e)),{full_name:_e}=(null==H?void 0:H.sponsor)||{},pe="ConversationView"===R?{padding:"8px"}:Qe.container;return(0,b.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:pe},children:[f&&(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:l||x||"none"!==e?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,b.jsx)(_.Z,{children:(0,b.jsx)(ni.default,{pinId:G})})}),T&&(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%","data-test-id":"pin-stats-footer",children:(0,b.jsx)(me,{pin:p})}),(0,b.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",children:(0,b.jsxs)(r.xu,{flex:"grow",children:[(!!H||Y&&!se)&&!le&&(0,b.jsx)(r.xu,{marginBottom:1,children:(0,b.jsx)(r.xu,{flex:"grow",overflow:"hidden",children:(0,b.jsx)(ti.Z,{hasAffiliateProducts:Y,href:ie||ne,isPromoted:se,sponsorName:_e,sponsorshipStatus:null==H?void 0:H.status,onNavigateSponsorClick:()=>{ce(G),de()},textWeight:"bold"})})}),(A&&s||P)&&(0,b.jsxs)(r.xu,{marginBottom:1,children:[(g||m)&&(0,b.jsx)(r.xu,{marginBottom:1,children:(0,b.jsx)(ge,{currentPrice:m,originalPrice:g,pin:p,surface:R})}),P?(0,b.jsxs)(r.kC,{alignItems:"start",children:[(0,b.jsx)(r.kC,{flex:"grow",children:(0,b.jsx)(be,{numberOfLines:k,pin:p,pinTitle:h,surface:R})}),(0,b.jsx)(r.xu,{marginStart:3,children:(0,b.jsx)(V,{board:i,favorited:!!M,favoriteCount:null!=i&&i.is_collaborative&&(0,Me.Z)({board:i,viewer:B})?null!=Z?Z:0:void 0,pinId:G})})]}):(0,b.jsx)(be,{numberOfLines:k,pin:p,pinTitle:h,surface:R}),I&&(0,b.jsx)(r.xu,{marginBottom:2,children:(0,b.jsx)(fe,{pin:p,surface:R})})]}),E&&(0,b.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,b.jsx)(r.xu,{flex:"grow",children:(()=>{var i,n;const t=(0,b.jsx)(Ke,{attributionNameLink:J,attributionTitle:se&&!H||le?Q:"",avatarUrl:K,isPromotedByPinCreator:!!le,isVerifiedMerchant:oe,shouldRenderAdsOnlyProfileClick:re,name:ee,url:ne,verifiedIdentity:te,pinId:p.id,storyPinDataId:p.story_pin_data_id,hasPromoter:!!p.promoter,hasSponsorship:!!p.sponsorship,sponsorshipCreatorId:null===(i=p.sponsorship)||void 0===i||null===(n=i.creator)||void 0===n?void 0:n.id,isDownstreamPromotion:p.is_downstream_promotion});switch(e){case"none":return null;case"image-only-credit":return(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:Qe.imageOnlyAttribution["active"===d?"visible":"hidden"]},children:(0,b.jsx)(ii,{pin:p,feedbackType:a})});default:return Object.values(q).some((e=>Boolean(e)))?t:null}})()}),w&&(0,b.jsx)(r.xu,{flex:"none",children:(0,b.jsx)(Se.default,{feedbackData:n,feedbackType:a,pin:p,pinTitle:h,setForcePrimary:v,transparentBackground:!0})})]}),S&&!!U&&Object.keys(U).length>0&&(0,b.jsx)(r.xu,{marginTop:"ConversationView"===R?2:void 0,children:(0,b.jsx)(Le,{pinId:G,pinner:F,reactionCounts:U,surface:R})}),u&&(0,b.jsx)(r.xu,{marginBottom:1,children:(0,b.jsx)(ae,{pin:p,pinNoteText:u,surface:R})}),x&&!P&&(0,b.jsx)(r.xu,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:(0,b.jsxs)(t.Fragment,{children:[(0,b.jsx)(Fe,{attributionNameLink:J||ne,avatarUrl:K,fullWidth:!1,name:ee,accessibilityLabel:ee,shouldRenderAdsOnlyProfileClick:re}),(0,b.jsx)(r.xu,{marginStart:2,flex:"grow",children:(0,b.jsx)(r.xv,{size:"200",children:ee})})]})})]})},`${p.id}-sponsor-name-link`)]})}var ai=n(830753);const ri=6,si=10,li=18,di=14;function ci({dimension:e,color:i,isSelected:n,img:t,selectVariant:o}){var a,s,l;const d=(0,c.ZP)(),_=(0,b.jsx)(r.iP,{fullHeight:!0,fullWidth:!0,rounding:1,onMouseEnter:({event:n})=>{n.preventDefault(),n.stopPropagation(),o({dimensionName:e,variant:i})},onFocus:()=>{o({dimensionName:e,variant:i})},children:(0,b.jsx)(r.xu,{"data-test-id":`primary-variant-preview-icon-${i}`,height:li,width:li,rounding:1,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{border:n?"1px solid black":"1px solid #EFEFEF"}},children:(0,b.jsx)(r.xu,{height:di,width:di,position:"absolute",rounding:1,overflow:"hidden",children:(0,b.jsx)(r.xu,{"data-test-id":`${i}-variant-preview-wrapper`,dangerouslySetInlineStyle:{__style:{transform:`scale(${si},${si})`}},children:(0,b.jsx)(r.zd,{height:di,width:di,rounding:1,children:(0,b.jsx)(r.Ee,{alt:d._('Color variant preview image', 'MerchantStorefront.Variant.VariantPreviewIcon.Image', 'Alt text for color variant preview image'),naturalHeight:null!==(a=t.height)&&void 0!==a?a:1,naturalWidth:null!==(s=t.width)&&void 0!==s?s:1,src:null!==(l=t.url)&&void 0!==l?l:"",fit:"contain"})})})})})});return(0,b.jsx)(r.xu,{"data-test-id":`primary-variant-main-${i}`,display:"inlineBlock",height:li,rounding:1,width:li,children:_})}function _i(){const{logContextEvent:e}=(0,N.v)(),i=(0,ai.Xx)(),n=i&&i.primaryVariants.filter((e=>e.image)).length>0;if((0,t.useEffect)((()=>{e({event_type:120,component:14092})}),[n,e]),!i)return null;const{primaryVariants:o,primaryDimName:a}=i,s=o.slice(0,ri).map((e=>{const n=e.value,t=e.value===i.selectedMap[a],o=e.image;return o?(0,b.jsx)(ci,{dimension:a,color:n,isSelected:t,img:o,selectVariant:i.selectVariant},n):null})).filter(Boolean);if(o.length>ri){const e=o.length-ri;s.push((0,b.jsx)(r.xu,{"data-test-id":"plus-number",display:"flex",height:li,rounding:1,width:li,justifyContent:"center",children:(0,b.jsxs)(r.iP,{fullHeight:!0,fullWidth:!0,rounding:1,onTap:({event:e})=>{e.stopPropagation()},children:["+",e]})},ri))}return(0,b.jsx)(r.kC,{justifyContent:"start",alignItems:"center",gap:3,children:s})}var pi=n(759034),ui=n(28630);function hi(){const e=(0,c.ZP)();return(0,b.jsx)(r.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('Sold out', 'pinrep.footer.outOfStock', 'Footer text to indicate that product pin is out of stock.')})}function mi(){const e=(0,c.ZP)();return(0,b.jsx)(r.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('See price on site', 'pinrep.footer.staleProduct', 'Footer text to indicate that is a stale(untrustworthy) product pin.')})}function gi({contentType:e,hasTextContent:i,pin:n,pinTitle:o,productCurrentPrice:a,productOriginalPrice:s,productRating:l,productShipping:d,showSource:_,showVisitSiteButton:p,surface:u,titleLines:h}){var m;const{logContextEvent:v}=(0,N.v)(),f=(0,c.ZP)(),{checkExperiment:y}=(0,$.F)(),P=(null===(m=n.rich_summary)||void 0===m?void 0:m.url)||n.link;let x=null;if((0,ai.Xx)()){const{anyEnabled:e}=y("storefront_variant_pins");e&&(x=(0,b.jsx)(_i,{}))}const S=(0,ui.Z)({url:P})?"nofollow":"none";return(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:Qe.productContainer},height:"100%",children:(0,b.jsx)(r.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:i&&(0,b.jsxs)(t.Fragment,{children:[(0,b.jsx)(oe,{pin:n,surface:u,children:(0,b.jsxs)(r.kC,{direction:"column",gap:1,children:[(s||a)&&(0,b.jsx)(ge,{currentPrice:a,disableLink:!0,originalPrice:s,pin:n,surface:u}),(0,g.qN)(n)&&(0,b.jsx)(hi,{}),(0,g.SP)(n)&&(0,b.jsx)(mi,{}),(0,b.jsx)(be,{disableLink:!0,numberOfLines:h,pin:n,pinTitle:o,surface:u}),_&&(0,b.jsx)(fe,{disableLink:!0,pin:n,surface:u}),"shopping"===e&&(l||Number.isFinite(null==d?void 0:d.free_shipping_value))&&(0,b.jsx)(pi.Z,{count:null==l?void 0:l.count,countFormat:"number",isGridView:!0,ratingValue:null==l?void 0:l.rating,shippingInfo:d}),x]})}),p&&P?(0,b.jsx)(r.xu,{marginTop:2,children:(0,b.jsx)(r.zx,{role:"link",fullWidth:!0,href:P,rel:S,onClick:()=>{v({event_type:12,view_type:1,view_parameter:3563})},target:"blank",text:f._('Visit site', 'ShoppingList.Pin.CTA.Button.VisitSite.Text', 'Text on CTA button on ShoppingList Pin to Visit Site')})}):null]})})})}const vi=(0,t.memo)((function({attributionType:e,blockClickEvents:i,board:n,contentType:t,feedbackData:o,feedbackType:a,hoverTransitionState:s,pin:l,pinNoteText:d,pinTitle:c,productCurrentPrice:p,productOriginalPrice:u,productRating:h,productShipping:m,setForcePrimary:g,showCarouselEllipsis:v,showFavoriteButton:f,showGroupBoardAvatar:y,showNativeReactions:P,showOverflowMenu:x,showPinStats:S,showSource:w,showTextContent:T,showVisitSiteButton:I,showAttribution:A=!0,surface:E,titleLines:R}){const k=c||w,C="shopping"===t?(0,b.jsx)(gi,{contentType:t,hasTextContent:!!k,pin:l,pinTitle:c,productCurrentPrice:p,productOriginalPrice:u,productRating:h,productShipping:m,showSource:w,showVisitSiteButton:I,surface:E,titleLines:R}):(0,b.jsx)(oi,{attributionType:e,board:n,feedbackData:o,feedbackType:a,hasTextContent:!!k,hasTitleOrSource:!!k,hoverTransitionState:s,pin:l,pinNoteText:d,pinTitle:c,productCurrentPrice:p,productOriginalPrice:u,setForcePrimary:g,showCarouselEllipsis:v,showFavoriteButton:f,showGroupBoardAvatar:y,showNativeReactions:P,showOverflowMenu:x,showPinStats:S,showSource:w,showTextContent:T,showAttribution:A,surface:E,titleLines:R});return i?(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:C}):(0,b.jsx)(r.kC,{flex:"grow",children:(0,b.jsx)(_.Z,{fullWidth:!0,children:C})})}));var fi=n(819079),yi=n(87663),Pi=n(449879);const xi=(0,t.lazy)((()=>n.e(34979).then(n.bind(n,447522)))),bi=(0,t.lazy)((()=>Promise.all([n.e(97270),n.e(47424),n.e(23755),n.e(3752),n.e(43473)]).then(n.bind(n,563171)))),Si=(0,t.lazy)((()=>Promise.all([n.e(97270),n.e(47424),n.e(23755),n.e(99591),n.e(22347)]).then(n.bind(n,538137)))),wi=(0,t.lazy)((()=>Promise.all([n.e(97270),n.e(22538)]).then(n.bind(n,587540)))),Ti=(0,t.lazy)((()=>n.e(1593).then(n.bind(n,266744))));function Ii({derivedSaveButtonOptions:e,forcePrimaryContent:i,showEnabledSaveBehavior:n,onToggleFlyout:a,onToggleModal:s,pin:l}){const c=(0,ai.Xx)(),p=function(e){return(0,fi.Z)(e?{name:"PinResource",options:{id:e}}:null)}(null==c?void 0:c.variantUrl),h=p&&p.data?p.data:l,{id:m,savedInfo:g}=h,v=(0,t.useRef)(!!g),f=(0,z.Z)(),{checkExperiment:x}=(0,$.F)();let S=0;f.boardCount&&(S+=f.boardCount),f.secretBoardCount&&(S+=f.secretBoardCount);const w="number"==typeof f.pinCount&&f.pinCount>2||S>1,T=(0,o.useSelector)((({experiences:e})=>{const i=e[1000294];return 502450===(null==i?void 0:i.experience_id)?i:null})),{saveBehaviorType:I}=(0,Pi.tY)(n);void 0===I||!["classic","controlled","inline"].includes(e.type)||w&&x("board_picker_holdout").anyEnabled||(e=I);const{viewParameter:A,viewType:E}=(0,P.E)(),R=(0,y.Z)(101,{element:0,object_id_str:m});let k=null;const C={onToggleModal:a,view:E,viewParameter:A,useLegoStyles:!0};if(e.hidePinBetterSaveDropdown||!(T||n&&["classic","controlled"].includes(e.type))||!["classic","controlled","inline"].includes(e.type)||w&&x("board_picker_holdout").anyEnabled)if("classic"===e.type||"controlled"===e.type){const{renderPinSaveTooltip:i}=e;k=(0,b.jsx)(d.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:(0,b.jsx)(u.Z,{children:(0,b.jsx)(r.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,b.jsx)(_.Z,{children:(0,b.jsx)(bi,{onClickCallback:R,onToggleModal:s,oneTapSave:"controlled"===e.type?e:void 0,pin:h,renderPinSaveTooltip:i,renderSavedStatus:()=>!!g&&(0,b.jsx)(_.Z,{children:(0,b.jsx)(yi.Z,{isNewlySaved:!v.current,name:g.title,type:g.type,url:g.url})}),variant:"lego",viewParameter:A})})})})})}else if("inline"===e.type){const i=h,{initialSelection:n,onSave:t,renderPinSaveTooltip:o,hidePinBetterSaveDropdown:l}=e;k=(0,b.jsx)(d.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:(0,b.jsx)(u.Z,{children:(0,b.jsx)(r.xu,{"data-test-id":"better-save",children:(0,b.jsx)(_.Z,{children:(0,b.jsx)(Si,{initialSelection:n,onSave:t,onToggleFlyout:a,onToggleModal:s,pin:i,renderPinSaveTooltip:o,renderSavedStatus:({savedInfo:e})=>e&&(0,b.jsx)(_.Z,{children:(0,b.jsx)(yi.Z,{isNewlySaved:!v.current,name:e.title,type:e.type,url:e.url,shouldUseLegoStyles:!0})}),variant:"pin",viewParameter:A,hideDropdown:l})})})})})}else"persistentOneClickSave"===e.type?k=(0,b.jsx)(d.Z,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:(0,b.jsx)(u.Z,{children:(0,b.jsx)(r.xu,{"data-test-id":"persistent-one-click-save",children:(0,b.jsx)(_.Z,{children:(0,b.jsx)(xi,{...C,saveOptions:e,pin:h})})})})}):"promote"===e.type&&(k=(0,b.jsx)(r.kC,{alignItems:"stretch",justifyContent:"end",children:(0,b.jsx)(d.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:(0,b.jsx)(u.Z,{children:(0,b.jsx)(r.xu,{"data-test-id":"pin-promote-button",children:(0,b.jsx)(_.Z,{children:(0,b.jsx)(Ti,{pin:h})})})})})}));else{const{renderPinSaveTooltip:t}=e;k=(0,b.jsx)(d.Z,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:(0,b.jsx)(u.Z,{children:(0,b.jsx)(_.Z,{children:(0,b.jsx)(wi,{experience:T||void 0,forcePrimaryContent:i,pin:h,renderPinSaveTooltip:t,showEnabledSaveBehavior:n,viewParameter:A})})})})}return(0,b.jsx)(d.Z,{name:"PinRepPrimaryContent",children:(0,b.jsx)(r.xu,{display:"flex",margin:3,children:k&&(0,b.jsx)(r.xu,{marginStart:"auto",flex:"grow",children:k})})})}const Ai={marginTop:"1px"},Ei=32,Ri=12;function ki({cta:e}){const i=(0,c.ZP)();return(0,b.jsx)(r.iP,{children:(0,b.jsx)(r.xu,{"data-test-id":"pinrep-chin",minHeight:Ei,color:"secondary",dangerouslySetInlineStyle:{__style:Ai},children:(0,b.jsxs)(r.xu,{padding:2,display:"flex",justifyContent:"between",children:[(0,b.jsx)(r.xv,{size:"200",weight:"bold",children:e||i._('Learn more', '[m10n] pinRep.chin.learnMore', 'Closeup for learn more chin')}),(0,b.jsx)(r.JO,{icon:"arrow-forward",size:Ri,accessibilityLabel:i._('Go to lead ad', '[m10n] pinRep.chin.arrowForwardIcon', 'Arrow forward icon for chin'),color:"default"})]})})})}var Ci=n(424271),ji=n(335700),Oi=n(479958),Ni=n(740089);const Di={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function zi({isSelected:e}){const i=(0,c.ZP)();return(0,b.jsx)(r.xu,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?Di:{},children:(0,b.jsx)(r.xu,{position:"absolute",bottom:!0,right:!0,padding:3,children:(0,b.jsx)(r.xu,{alignItems:"center",color:e?"dark":"default",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:(0,b.jsx)(r.JO,{accessibilityLabel:i._('Pin is selected to be saved', 'SectionSuggestionPin.iconOnPin.selectedPin', 'accessibility label on an icon'),color:"inverse",icon:"check",size:12})})})})}var Bi=n(40660);const Li={},Mi=e=>{Bi.Z.increment("web_prefetch_via_xhr.attempt",1);const i=(0,x.Z)(e);return new Promise(((n,t)=>{if(window.navigator&&window.navigator.connection){const{connection:e}=window.navigator;e.saveData&&(Bi.Z.increment("web_prefetch_via_xhr.saveDataOn",1),n()),/2g/.test(e.effectiveType)&&(Bi.Z.increment("web_prefetch_via_xhr.poorConnection",1),n())}const o=new XMLHttpRequest;o.open("GET",e),o.onload=()=>{200===o.status?(Li[e]&&(Li[e].loaded=!0),Bi.Z.increment("web_prefetch_via_xhr.load.success",1,{hostname:i.hostname||"unknown"}),n(o.response)):(Bi.Z.increment("web_prefetch_via_xhr.load.error",1,{hostname:i.hostname||"unknown"}),t())},Li[e]||(o.send(),Li[e]={added:!0,xhr:o},Bi.Z.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:i.hostname||"unknown"}))}))},Zi=e=>{Li[e]&&Li[e].xhr&&!Li[e].loaded&&(Bi.Z.increment("web_prefetch_abort_xhr",1),Li[e].xhr.abort(),Li[e].aborted=!0)};var Gi=n(634923),Fi=n(714557);const Ui={},Vi=(e,i)=>{const n="string"==typeof e?e:e.url;if(i&&n){const e="control"===i?"v3.pinimg.com":"v2.pinimg.com";return n.replace("v1.pinimg.com",e)}return n};function Hi(e,i){return(Vi("https://v1.pinimg.com/videos/mc/hls/",i)||"")+`${e.slice(0,2)}/${e.slice(2,4)}/${e.slice(4,6)}/${e}`}var Wi=n(99841);const Yi=55,$i=420,Xi=236,qi=250,Ki=164;const Ji=e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width};function Qi({autoplaySettingOff:e,blockClickEvents:i,fallbackColor:n,imageFit:o,imageHeightModifier:a,isDenseView:s,isHovering:l,onError:d,onLoad:c,pin:_,pinImageCrop:p,resolution:u="default",rootMargin:h,selectionState:m,showCarousel:g,showPromotedVideos:f,showLeadPinStdBeta:y,showUnavailablePin:x,surface:S}){var w;const{contextLogData:T,slotIndex:I,viewParameter:A,viewType:E}=(0,P.E)(),{checkExperiment:R}=(0,$.F)(),{group:k}=R("web_prefetch_video_in_feed"),{id:C="",aggregated_pin_data:j,image_signature:O,story_pin_data:N}=_,{pin_tags_chips:D}=j||{},z=!!_.is_eligible_for_web_closeup,B=!(null===(w=_.videos)||void 0===w||!w.video_list),L=!!_.promoter&&!_.is_downstream_promotion,{cropHeight:M,cropWidth:Z}=Ji(p);let G=null;if(x)G=(0,b.jsx)(Oi.Z,{isDenseView:s,height:s?qi:$i,rounding:0,width:s?Ki:Xi});else if(e||!B||!f&&L||"BoardCoverSelectablePin"===S)if(g)G=(0,b.jsx)(r.xu,{"data-test-id":"pinrep-carousel",children:(0,b.jsx)(Wi.Z,{cropHeight:M,cropWidth:Z,onError:d,onLoad:c,highResOnly:"high-res"===u,lowResOnly:"low-res"===u,pinId:C,showCarouselBadge:!1,pin:_})});else{const e="backend"===p?function({images:e,image_crop:i}){var n;const t=e&&(null===(n=e["236x"])||void 0===n?void 0:n.height);if(i&&(0!==i.min_y||1!==i.max_y)){const{min_y:e=0,max_y:n=0}=i;return{marginTop:(e>0?-1*e*(null!=t?t:0):0)+"px",marginBottom:`${n<1?Math.round(-1*(1-n)*(null!=t?t:0)):0}px`}}return{}}(_):{};G=(0,b.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:Yi,children:[(0,b.jsx)(Ci.Z,{cropHeight:M,cropWidth:Z,fallbackColor:n,imageFit:o,highResOnly:"high-res"===u,lowResOnly:"low-res"===u,mediumResOnly:"medium-res"===u,onLoad:c,onError:d,pin:_}),y&&(0,b.jsx)(ki,{cta:_.call_to_action_text})]})}else G=(0,b.jsxs)(r.xu,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:M||void 0,justifyContent:"center",children:[(0,b.jsx)(ji.Z,{cropHeight:M,cropWidth:Z,highResOnly:"high-res"===u,imageHeightModifier:a,inAdsDesktopVideoExperiment:B&&f,isExperimentalPinRep:!0,lowResOnly:"low-res"===u,onError:d,onLoad:c,pin:_,rootMargin:h,surface:S,viewParameter:A,viewType:E}),y&&(0,b.jsx)(ki,{cta:_.call_to_action_text})]});const F=(0,b.jsx)(r.zd,{wash:!0,children:(0,b.jsx)(v.Z,{hovered:l,pin:_,slotIndex:I,viewType:1,children:G})}),U=["selected-image-only","deselected-image-only"].includes(m),V="selected-image-only"===m,H=(0,t.useRef)(!0),W=(0,t.useRef)(!1),Y=(0,t.useRef)(!1),X=R("web_video_quic").group;if((0,t.useEffect)((()=>{H.current||!l||z||i||W.current?l||!W.current||Y.current||(!function(e){const{id:i}=e;i&&Ui[i]&&Ui[i].length>0&&Ui[i].forEach((e=>{Zi(e)}))}(N||_),Y.current=!0):N?(!function(e,i){var n;const{id:t,pages:o,pages_preview:a}=e;if(!a&&!o)return;const r=a?a[0]:null==o?void 0:o[0],s=null==r||null===(n=r.blocks)||void 0===n?void 0:n.find((e=>3===e.block_type));if(s&&s.video){const{hlsv3:e,mp4:n}=(0,Gi.Z)(s.video)||{},o=n||e;if(o&&t){var l;const e=null!==(l=Vi(o,i))&&void 0!==l?l:"";Ui[t]=Ui[t]?Ui[t].concat(e):[e],Mi(e)}}}(N,X),W.current=!0):(!function(e,i){var n;const{id:t,videos:o}=e;if(!o)return;const{video_list:a}=o;if(!a)return;const r=t&&o.id&&(null===(n=[a.V_HLSV3_MOBILE,a.V_HLSV4].find((e=>e&&e.thumbnail&&e.url&&!!e.width&&!!e.height)))||void 0===n?void 0:n.url);if(r){var s;const e=null!==(s=Vi(r,i))&&void 0!==s?s:"";return Ui[t]=Ui[t]?Ui[t].concat(e):[e],void Mi(e).then((e=>{let n=[];if("string"==typeof e&&(n=e.split("\n").filter((e=>e.endsWith(".m3u8")))),n&&n[Fi.VS]){const e=Hi(n[Fi.VS],i);return Ui[t]=Ui[t].concat(e),Mi(null!=e?e:"")}return null})).then((e=>{let n=[];if("string"==typeof e&&(n=e.split("\n").filter((e=>e.endsWith(".ts")))),n&&n[0]){const e=Hi(n[0],i);return Ui[t]=Ui[t].concat(e),Mi(null!=e?e:"")}return null}))}const l=(0,Gi.t)(a);if(null!=l&&l.url){var d;const e=null!==(d=Vi(l.url,i))&&void 0!==d?d:"";Mi(e),Ui[t]=Ui[t]?Ui[t].concat(e):[e]}}(_,X),W.current=!0),H.current=!1}),[i,l,z,N,_,k,X]),i)return(0,b.jsxs)(t.Fragment,{children:[F,U&&(0,b.jsx)(zi,{isSelected:V}),D&&(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,b.jsx)(Ni.Z,{pin:_,enableCloseupLink:!0})})]});const{commerce_data:q,story_type:K,board_id:J,board_pin_count:Q}=T||{};return(0,b.jsxs)(oe,{contextLogData:{commerce_data:q,grid_index:I,image_signature:O,story_type:K,board_id:J,board_pin_count:Q},elementType:N?12372:35,pin:_,surface:S,children:[F,D&&(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,b.jsx)(Ni.Z,{pin:_,enableCloseupLink:!1})})]})}var en=n(286792),nn=n(572559),tn=n(533451);function on({direction:e,swipeHandler:i}){const n=(0,c.ZP)(),t={left:n._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),right:n._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')};return(0,b.jsx)(r.xu,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e,children:(0,b.jsx)(r.iP,{fullHeight:!0,fullWidth:!0,onTap:i,children:(0,b.jsx)(r.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":`carousel-slider-${e}`,children:(0,b.jsx)(r.JO,{accessibilityLabel:t[e],color:"inverse",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}function an({pin:e}){const{logContextEvent:i}=(0,N.v)(),{componentType:n,viewParameter:t,viewType:a}=(0,P.E)(),s=(0,o.useDispatch)(),l=(0,nn.Z)({carouselData:e.carousel_data,images:e.images,richMetadata:e.rich_metadata,richSummary:e.rich_summary});if(!l)return null;const{id:d=""}=e,{carousel_slots:c=[],index:p=0,id:u}=l;function h(o){return()=>{const r="left"===o?p-1:p+1;((e,i)=>{s((0,tn.yR)(e,i))})(d,r),((o=0,r)=>{i({event_type:108,object_id_str:d,component:n,view_type:a,view_parameter:t,event_data:{pinCarouselSlotEventData:{carouselSlotId:c[o]&&Number(c[o].id),carouselDataId:Number(u),carouselSlotIndex:o,toCarouselSlotIndex:r}},aux_data:{...(0,g.Kl)(e)||{}}})})(p,r)}}return(0,b.jsxs)(r.xu,{height:"100%",position:"relative",width:"100%",children:[p>0&&(0,b.jsx)(_.Z,{children:(0,b.jsx)(on,{direction:"left",swipeHandler:h("left")})}),p<c.length-1&&(0,b.jsx)(_.Z,{children:(0,b.jsx)(on,{direction:"right",swipeHandler:h("right")})})]})}function rn(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function sn(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}var ln=n(911386);const dn={impressed:{backgroundColor:"#adebad"}},cn=()=>void 0!==(0,ln.Z)().debug_impression_log;function _n({debugImpressionState:e="paused",slotIndex:i}){return"paused"===e?null:(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:dn.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:(0,b.jsx)(r.xu,{position:"absolute",top:!0,left:!0,padding:2,color:"selected",children:(0,b.jsx)(r.xv,{color:"inverse",children:(0,b.jsx)("span",{className:"deprecatedTextSizeXL",children:i})})})})}var pn=n(520333),un=n(126645);const hn=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],mn=14,gn=12,vn={allPins:{component:210,view_type:4,view_parameter:3106},board:{view_type:5,view_parameter:3069},created:{component:13668,view_type:4,view_parameter:3106}};function fn({pinId:e,surface:i}){const{logContextEvent:n}=(0,N.v)(),t=(0,c.ZP)(),o=()=>{const e=hn.includes(i)?vn.created:"BaseBoardPinGrid"===i?vn.board:"UserProfilePinGrid"===i?vn.allPins:{};n({event_type:101,element:10573,...e})},a=t._('See more stats', 'pinRep.actionBar.seeStatsButton', 'Button that will re-direct user to detailed stats page');return(0,b.jsx)(r.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:hn.includes(i)?(0,b.jsx)(r.zx,{role:"link",accessibilityLabel:t._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This button will take the user to their detailed pin stats page for the pin'),color:"semiTransparentWhite",fullWidth:!0,href:`/pin/${e}/analytics`,onClick:o,size:"sm",text:(s=a,s.length>mn?`${s.substring(0,gn).trim()}...`:s)}):(0,b.jsx)(r.hU,{role:"link",accessibilityLabel:t._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This icon button will take the user to their detailed pin stats page for the pin'),bgColor:"white",href:`/pin/${e}/analytics`,icon:"ads-stats",iconColor:"darkGray",onClick:o,size:"sm"})});var s}var yn=n(272270),Pn=n(176172),xn=n(946543),bn=n(299402);const Sn={SELECTED:"#000000",NOT_SELECTED:"#ffffff"},wn=3,Tn=24;function In({selected:e=!1}){const i=(0,c.ZP)(),{isRTL:n}=(0,p.B)();return(0,b.jsx)(r.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:new r.Ry(1),"data-test-id":"pinRepSelectionBorder",dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?Sn.SELECTED:Sn.NOT_SELECTED,borderRadius:Pn.Oc,boxShadow:e?"inset 0 0 0 3px #fff":void 0}},children:e?(0,b.jsx)(r.xu,{position:"absolute",bottom:!0,right:!n,left:n,display:"flex",alignItems:"center",justifyContent:"center",margin:wn,rounding:2,height:Tn,width:Tn,color:"dark",children:(0,b.jsx)(r.JO,{accessibilityLabel:i._('Check icon', 'pinRepSelectionBorder.checkIcon', 'Accessibility label for check icon on selected Pin'),icon:"check",color:"inverse",size:12})}):(0,b.jsx)(r.xu,{right:!n,left:n,position:"absolute",top:!0,margin:wn,children:(0,b.jsx)(r.JO,{accessibilityLabel:i._('Handle icon', 'pinRepSelectionBorder.handleIcon', 'Accessibility label for handle icon on an organizable Pin'),icon:"handle",color:"light",size:Tn})})})}const An={wrapper:{borderRadius:Pn.Oc,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:Pn.Dv.VISUAL},savedOverlay:{backgroundColor:Pn.Dv.SAVED},legoWashOverlay:{backgroundColor:Pn.Dv.LEGO_WASH}};function En({children:e,savedOverlayVisibility:i="none",visualOverlayVisibility:n="none",handleMouseOverPinContent:t,handleMouseLeavePinContent:o,primaryContent:a,primaryContentVisibility:s="none",secondaryContent:l,secondaryContentVisibility:d="none",accessoryContent:c,accessoryContentVisibility:_="none",actionBar:p,actionBarVisibility:u="none",seeStatsButton:h,footer:m,selectionState:g="no-selection",debugContent:v,signalDebuggerContent:f,signalDebuggerV2Content:y,signalDebuggerV2ContentVisibility:P="none",obscuredPinOverlay:x,showNoPinBorderRadius:S,showPromotedPinBorderTreatment:w,showLeadPinStdBeta:T,shouldUseLegoWash:I}){return(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:w?An.promotedPinBorderTreatment:{}},height:"100%","data-test-id":"pinRepPresentation",children:(0,b.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:S?{}:An.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(g)&&(0,b.jsx)(In,{selected:"selected"===g}),(0,b.jsxs)(r.xu,{"aria-hidden":Boolean(x),children:[(0,b.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:S?{}:An.wrapper},overflow:"hidden",position:"relative",onFocus:t,onBlur:o,onMouseEnter:t,onMouseLeave:o,children:[e,(0,b.jsx)(bn.Z,{visibility:n,children:(0,b.jsx)(xn.Z,{additionalStyles:I?An.legoWashOverlay:An.visualOverlay})}),(0,b.jsx)(bn.Z,{visibility:i,children:(0,b.jsx)(xn.Z,{additionalStyles:I?An.legoWashOverlay:An.savedOverlay})}),c&&(0,b.jsx)(bn.Z,{visibility:_,children:(0,b.jsx)(xn.Z,{children:c})}),l&&(0,b.jsx)(bn.Z,{visibility:d,children:(0,b.jsx)(xn.Z,{children:l})}),a&&(0,b.jsx)(bn.Z,{visibility:s,children:(0,b.jsx)(xn.Z,{children:a})}),y&&(0,b.jsx)(bn.Z,{visibility:P,children:(0,b.jsx)(xn.Z,{children:(0,b.jsx)(r.xu,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:y})})}),p&&(0,b.jsx)(bn.Z,{visibility:u,children:(0,b.jsx)(xn.Z,{children:(0,b.jsx)(r.xu,{position:"absolute",left:!0,right:!0,bottom:!0,marginBottom:T?8:0,children:p})})}),h&&(0,b.jsx)(xn.Z,{children:(0,b.jsx)(r.xu,{position:"absolute",bottom:!0,children:h})}),v&&(0,b.jsx)(xn.Z,{children:v}),f]}),m]}),x&&(0,b.jsx)(r.xu,{children:x})]})})}const Rn=60,kn=40,Cn=60;function jn(e){return e<Rn+kn+Cn?"header-only":"none"}function On(e){const[i,n]=(0,t.useState)(e.current?jn(e.current.clientHeight||0):"none");return function(e,i){const n=(0,t.useRef)();(0,t.useEffect)((()=>{const t=e.current;if(!t)return;const o=n.current;o&&o.width===t.offsetWidth&&o.height===t.offsetHeight||(n.current={width:t.offsetWidth||0,height:t.offsetHeight||0},i&&i(n.current))})),n.current}(e,(({height:e})=>{const t=jn(e);t!==i&&n(t)})),i}const Nn=4e3;var Dn=n(795142);const zn=(0,t.memo)((function({actionBarProps:e,blockClickEvents:i,borderStyle:n,currentlyPlayingVideo:o,disableHover:a=!1,footerProps:s,impressionsDebuggerProps:l,obscuredPinOverlayProps:c,onError:u,onLoad:h,pin:m,pinVisualProps:g,presentationProps:v,primaryContentProps:f,rounding:y,secondaryContentProps:P,authDesktopSelectionState:x,showFooter:S,showImpressionsDebugger:w,showObscuredPinOverlay:T,showSeeStatsButton:I,showSignalDebugger:A,showUnavailablePin:E,surface:R,visibilityOverrides:k,imageHeightModifier:j}){var O,N,D;const{savedInfo:z}=m,{showEnabledSaveBehavior:B}=(0,Pi.Yh)(Dn.ZF.includes(R)||(0,yn.Z)(R)),[L,M]=(0,t.useState)(!1),Z=(0,Je.Z)(L);let{isHovering:G,hoverTransitionState:F,handleMouseOver:U,handleMouseLeave:V}=function(){const[e,i]=(0,t.useState)(!1);return{isHovering:e,hoverTransitionState:(0,Je.Z)(e,0,Je.X),handleMouseOver:(0,t.useCallback)((()=>i(!0)),[i]),handleMouseLeave:(0,t.useCallback)((()=>i(!1)),[i])}}();a&&(G=!1,F="inactive");const H=(0,Je.Z)(!!z),W=rn(H),Y=rn(F),$=rn(F),X=rn(Z),q=rn(H),K=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(R),J="visible"!==W||K?W:"none",Q={primaryContentVisibility:null!==(O=k.primaryContent)&&void 0!==O?O:sn($,X,"visible"===q?"none":q),secondaryContentVisibility:(ee=sn($,X,q),"none"===ee?"visible":"visible"===ee?"none":"hidden"),actionBarVisibility:sn($,X),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var ee;const ie=e=>M(e),ne=e=>M(e),te=e=>{M(e),e||V()};let oe=null;"none"!==Q.primaryContentVisibility&&(oe=(0,b.jsx)(Ii,{forcePrimaryContent:ie,showEnabledSaveBehavior:B,onToggleFlyout:ne,onToggleModal:te,pin:m,...f}));let ae=null;const re=(0,t.useRef)(!0),se=re.current;re.current=!1;const le=function(e,i,n){const[o,a]=(0,t.useState)(!e||n),r=(0,t.useRef)(i),s=(0,t.useRef)(null);if(e){const e=r.current;r.current=i,(i!==e||n)&&(s.current&&clearTimeout(s.current),a(!0),s.current=setTimeout((()=>{a(!1),s.current=null}),Nn))}return(0,t.useEffect)((()=>()=>{s.current&&clearTimeout(s.current)}),[]),o}(!!m.carousel_data,null===(N=m.carousel_data)||void 0===N?void 0:N.index,se),de=rn((0,Je.Z)(le));Q.secondaryContentVisibility=null!==(D=k.secondaryContent)&&void 0!==D?D:function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(Q.secondaryContentVisibility,de),ae=(P.allowShoppingPriceIndicator||P.shoppingLabelColor||"none"!==Q.secondaryContentVisibility)&&!o&&(0,b.jsx)(r.xu,{margin:2,children:(0,b.jsx)(en.Z,{pin:m,...P})});let ce=null;"visible"===k.accessoryContent&&(ce=(0,b.jsx)(an,{pin:m}),Q.accessoryContentVisibility=rn(F));let _e={...e},pe=null;I&&(_e={..._e,showSourceLinkButton:!1},pe=(0,b.jsx)(_.Z,{children:(0,b.jsx)(fn,{pinId:m.id,surface:R})})),g.showLeadPinStdBeta&&(_e={..._e,showSourceLinkButton:!1});const ue="visible"===k.actionBar?(0,b.jsx)(C,{onToggleFlyout:ne,pin:m,setForcePrimary:M,surface:R,..._e}):null,{experimentsClient:he}=(0,p.B)();let me=null;(S||(0,yn.Z)(R)&&!he.checkExperiment("dweb_image_only_product_pin_grid").anyEnabled&&!he.checkExperiment("dweb_image_only_product_pin_grid_new_user").anyEnabled)&&(me=(0,b.jsx)(vi,{blockClickEvents:i,hoverTransitionState:"image-only-credit"===s.attributionType?F:null,pin:m,setForcePrimary:M,surface:R,...s}));const ge=w&&(0,b.jsx)(_n,{...l}),ve=A&&m.debug_info_html&&(0,b.jsx)(r.xu,{paddingY:1,children:(0,b.jsx)("pre",{children:m.debug_info_html})}),fe=(0,b.jsx)(pn.Z,{pin:m}),ye=(0,t.useRef)();"header-only"===On(ye)&&(Q.actionBarVisibility="none",Q.accessoryContentVisibility="none");const Pe=T?(0,b.jsx)(un.ZP,{pin:m,...c}):null,xe="ShoppingGridShippedMetadataWithVisitButton"===R?{height:"100%"}:{},be=S&&"default"===s.attributionType&&Dn.ZF.includes(R),Se=!m.is_promoted&&!a&&be;return(0,b.jsx)(d.Z,{name:"PinRepContainer",children:(0,b.jsx)(r.xu,{"data-test-id":"pin","data-test-pin-id":m.id,onFocus:U,onBlur:V,onMouseEnter:U,onMouseLeave:V,dangerouslySetInlineStyle:{__style:xe},rounding:"ConversationView"===R?y:void 0,borderStyle:"ConversationView"===R?n:"none",overflow:"ConversationView"===R?"hidden":"visible",children:(0,b.jsx)(En,{visualOverlayVisibility:Y,savedOverlayVisibility:J,handleMouseOverPinContent:Se?U:()=>{},handleMouseLeavePinContent:Se?V:()=>{},primaryContent:oe,primaryContentVisibility:Q.primaryContentVisibility,secondaryContent:ae,secondaryContentVisibility:Q.secondaryContentVisibility,accessoryContent:ce,accessoryContentVisibility:Q.accessoryContentVisibility,actionBar:ue,actionBarVisibility:Q.actionBarVisibility,seeStatsButton:pe,footer:me,selectionState:x,debugContent:ge,signalDebuggerV2Content:fe,signalDebuggerV2ContentVisibility:Q.signalDebuggerV2ContentVisibility,signalDebuggerContent:ve,obscuredPinOverlay:Pe,...v,children:(0,b.jsx)(r.xu,{height:"100%",ref:ye,children:(0,b.jsx)(Qi,{blockClickEvents:i,showUnavailablePin:E,isHovering:G,onError:u,onLoad:h,pin:m,surface:R,selectionState:x,imageHeightModifier:j,...g})})})})})}));var Bn=n(650414),Ln=n(525571),Mn=n(5342),Zn=n(988014),Gn=n(427370),Fn=n(997394),Un=n(329689),Vn=n(384722),Hn=n(886365),Wn=n(55350);function Yn({isGroupBoard:e,surface:i,gridTitle:n,hasRichSummary:t,hasCarouselData:o,richSummaryTypeName:a,richSummaryDisplayName:r,title:s,hasPromoter:l,isDownstreamPromotion:d,pinAccess:c,carouselSlotsTitle:_}){const p=!(null==c||!c.includes("write")),u=l&&!d;if(o&&_)return _.trim();if(u){if(Dn.ZF.includes(i))return n||"";if(p&&!e&&!o&&"UserProfilePinGrid"!==i)return"";return s||t&&"mobile application"!==a&&r||n||""}return n||""}const $n=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"],Xn=({surface:e,isORBACProfileManager:i,isORBACGA:n,isRemovable:t})=>"CloseupRelatedProducts"!==e&&!t&&(!i||(null==n||n));var qn=n(341027);const Kn=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function Jn({attributionOption:e,board:i,contentType:n,experimentsClient:t,feedbackData:o,feedbackType:a,hasCarouselData:r,isGroupBoard:s,isORBACProfileManager:l,isOwnBoard:d,pin:c,showImageOnly:_,showNativeReactions:p,showPromotedShoppingPrice:u,surface:h,viewer:m,variantData:v}){var f,y,P,x,b,S;const w=!!c.promoter&&!c.is_downstream_promotion,T=!!c.sponsorship,{pin_note:I}=c,A=function({attributionOption:e,feedbackType:i,isGroupBoard:n,showImageOnly:t,surface:o,isDownstreamPromotion:a,hasNativeCreator:r,hasPromoter:s,hasSponsorship:l,storyPinDataId:d}){if("promoted"===i||s&&!a||l)return"default";if("ConversationView"!==o&&Kn.includes(o))return"none";if(n)return"none";let c="default";return"SearchItem"===o&&d?c:(e&&("image-only"===e?c="image-only-credit":"hide"===e&&(c="none")),"followed"!==i||t?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(o)&&"hide"===e?c:"TodayArticleFeed"===o&&"show"===e?"show-for-claimed-content":r?"default":"none":c)}({attributionOption:e,feedbackType:a,isGroupBoard:s,showImageOnly:_,surface:h,isDownstreamPromotion:c.is_downstream_promotion,hasNativeCreator:!!c.native_creator,hasPromoter:!!c.promoter,hasSponsorship:!!c.sponsorship,storyPinDataId:c.story_pin_data_id}),E=(null===(f=c.carousel_data)||void 0===f?void 0:f.index)||0,R=null!=v&&v.title?v.title:Yn({isGroupBoard:s,surface:h,gridTitle:c.grid_title,hasRichSummary:!!c.rich_summary,hasCarouselData:!!c.carousel_data,richSummaryTypeName:null===(y=c.rich_summary)||void 0===y?void 0:y.type_name,richSummaryDisplayName:null===(P=c.rich_summary)||void 0===P?void 0:P.display_name,title:c.title,hasPromoter:!!c.promoter,isDownstreamPromotion:c.is_downstream_promotion,pinAccess:c.access,carouselSlotsTitle:null===(x=c.carousel_data)||void 0===x||null===(b=x.carousel_slots)||void 0===b?void 0:b[E].title}),k=_?"":R,C=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(h)&&!w&&!_&&Boolean(ve(c,h)),j=["ShoppingGridShippedMetadataWithVisitButton"].includes(h);let O="BaseBoardPinGrid"===h&&I?null===(S=I.text)||void 0===S?void 0:S.trim():null;!O&&c.unified_user_note&&(O=c.unified_user_note.trim());const N=w,D="shopping"===n;let z=!0;"AuthHomefeed"!==h||w||(p=!1,z=!Boolean((0,g.fz)(c)));let B,L,M,Z,G=2;if(w?G=3:(C||"none"!==A)&&(G=D?2:1),D||u){var F,U;const e=null===(F=c.rich_summary)||void 0===F||null===(U=F.products)||void 0===U?void 0:U[0],{offer_summary:i}=e||{};B=i?i.standard_price:void 0,L=i?(0,qn.Z)(i):void 0}if(v){const{offerSummary:e}=v;B=e?e.standard_price:void 0,L=e?e.price||e.max_price:void 0}if(D&&!w){var V,H,W;const{rating_count:e,rating_value:i,review_count:n}=(null===(V=c.rich_summary)||void 0===V?void 0:V.aggregate_rating)||{};(e||n)&&parseFloat(i)&&(M={count:e||n,rating:i}),Z=null===(H=c.rich_metadata)||void 0===H||null===(W=H.products)||void 0===W?void 0:W[0].shipping_info}const Y=(0,Gn.rh)(c,m,t),$="CreatorProfileStoryPinGrid"===h||"CreatorProfileActivityPinGrid"===h,X=!$,q=s&&!T;return{attributionType:A,board:i,contentType:n,feedbackData:o,feedbackType:a,pinNoteText:O,pinTitle:k,productCurrentPrice:L,productOriginalPrice:B,productRating:M,productShipping:Z,showCarouselEllipsis:r,showFavoriteButton:!l&&("BaseBoardPinGrid"===h&&d||Boolean((null==i?void 0:i.is_collaborative)&&(0,Me.Z)({board:i,viewer:m})))&&!$,showGroupBoardAvatar:q,showNativeReactions:p,showOverflowMenu:N,showPinStats:Y,showSource:C,showTextContent:X,showVisitSiteButton:j,showAttribution:z,titleLines:G}}const Qn=424,et=278,it=640,nt=508;var tt=n(963375),ot=n(860438),at=n(736567),rt=n(619277);const st=["ShoppingCatalogsProductsMetadata"];const lt=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],dt=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"];var ct=n(336331),_t=n(159262),pt=n(838419),ut=n(548802),ht=n(107877),mt=n(712968);const gt=(0,t.lazy)((()=>Promise.all([n.e(97270),n.e(99591),n.e(92982)]).then(n.bind(n,336020)))),vt=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],ft=["BaseBoardPinGrid","UserProfilePinGrid",...hn];function yt({attributionOption:e,blockClickEvents:i,debugImpressionState:n,disableReaction:r,feedback:c,imageOnlyOption:_="default",pin:p,pinId:h,pinImageCrop:m,pinImageFit:g,resolution:v="default",saveButtonOptions:f,authDesktopSurface:y,trackingParameters:x,...S}){var w,T,I,A,E,R,k,C,j,N,D,B,L,M,Z;const G=(0,X.S6)()(h)||p,F=null!==(w=null===(T=G.board)||void 0===T?void 0:T.id)&&void 0!==w?w:"",U=(0,ht.gC)()(F)||G.board;G.grid_title=G.grid_title||p.grid_title;const V=(0,$.F)(),{checkExperiment:H}=V,{collaborated_by_me:W,collaborator_count:Y,is_collaborative:q}=U||{},{is_quick_promotable:K,pinner:J,showFeedback:Q,sponsorship:ee}=G,ie=!!G.promoter&&!G.is_downstream_promotion,ne=!!G.promoted_is_removable,te=(0,z.Z)(),oe=(0,Un.Z)(),{anyEnabled:ae}=H("web_m10n_business_access_orbac_www"),{anyEnabled:re}=H("web_m10n_business_access_orbac_ga"),se=re?(0,Vn.lJ)(te,oe):"",le=(0,a.useLocation)(),{slotIndex:de,viewParameter:ce}=x,pe=["AuthHomefeed","BaseBoardPinGrid"].includes(y)&&H("web_repin_flow").anyEnabled,ue=(0,ut.x)(),he=(0,Bn.P)()||te.isEligibleForImageOnlyGrid&&H("dweb_ssr_simplified_pin_grid_experience").anyEnabled,{appUI:{videosAutoplaying:me}}=(0,Hn.I)(),ge=(0,Fn.Z)(G.id,me),ve=(0,o.useSelector)((({changeBoardFromToast:e})=>e))||{},fe=((((null===(I=G.rich_metadata)||void 0===I?void 0:I.products)||[])[0]||{}).additional_images||[]).length>0,ye=!(null===(A=G.carousel_data)||void 0===A||!A.id),Pe=te.isAuth&&te.isEmployee,xe=te.isAuth&&((0,Ln.Z)(te.createdAt)||(0,Mn.Z)(null,te))&&!te.isPartner;let be=xe;"TodayArticleFeed"===y&&(be=!1),"default"!==_&&(be="image-only"===_),(0,yn.Z)(y)&&(be=!1),"ShoppingSquareGridDomainNoMetadata"===y&&(be=!0);let Se=e;(xe&&!Se||he)&&(Se="image-only");const we=(0,_t.Z)({feedbackType:null==c?void 0:c.type,viewParameter:ce,boardFollowedByMe:!(null===(E=G.board)||void 0===E||!E.followed_by_me),hasPromoter:!!G.promoter,isDownstreamPromotion:!!G.is_downstream_promotion,pinnerFollowedByMe:!(null===(R=G.pinner)||void 0===R||!R.explicitly_followed_by_me),hasRecommendationReason:!!G.recommendation_reason,recommendationReasonReason:null!==(k=null===(C=G.recommendation_reason)||void 0===C?void 0:C.reason)&&void 0!==k?k:void 0,recommendationReasonHasBoard:!(null===(j=G.recommendation_reason)||void 0===j||!j.board)}),{data:Te}=c||{},Ie="number"==typeof Y&&Y>0||q;let Ae=!1;"OtherProfilePinGrid"===y?Ae=!0:"BaseBoardPinGrid"===y?Ae="dense"===(null==ue?void 0:ue.boardPinDensity):"UserProfilePinGrid"===y&&(Ae="dense"===(null==ue?void 0:ue.profilePinDensity));const Ee=Boolean(Ie&&"BaseBoardPinGrid"===y),Re=(0,pt.Z)(),ke=(0,mt.kW)(),Ce=ke&&ke[null!==(N=null===(D=Re.data)||void 0===D?void 0:D.id)&&void 0!==N?N:""]?ke[null!==(B=null===(L=Re.data)||void 0===L?void 0:L.id)&&void 0!==B?B:""]:Re.data,je=(0,O.Z)(te,U);let Oe=!1;if(!!(0,a.matchPath)(le.pathname,{path:"/:username/_created/",exact:!0}))Oe=(0,Vn.q6)(te,null==Ce?void 0:Ce.id,oe);else if((0,Zn.am)(le)||(0,Zn.OJ)(le)){const e=U&&U.owner&&U.owner.id||"";Oe=(0,Vn.q6)(te,e,oe)}const De=Boolean(te.isAuth&&J&&J.id===te.id),ze=Boolean(W||Ie&&je),Be=te.isAuth&&te.isPartner,Le=!(null===(M=G.story_pin_data)||void 0===M||!M.is_deleted),Me=(0,t.useMemo)((()=>function({hasCarouselData:e,isDeletedStoryPin:i,surface:n}){const t={primaryContent:null,secondaryContent:null,actionBar:dt.includes(n)||i?"none":"visible",accessoryContent:e?"visible":"none"};return i||lt.includes(n)?(t.primaryContent="none",t.secondaryContent="none"):["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(n)&&(t.primaryContent="visible"),t}({hasCarouselData:ye,isDeletedStoryPin:Le,surface:y})),[ye,Le,y]),Ze=(0,t.useMemo)((()=>function({board:e,isDenseView:i,isGroupBoard:n,isInlineBetterSave:t,isOwnBoard:o,isORBACProfileManager:a,isQuickPromotable:r,isRemovable:s,saveButtonOptions:l,surface:d,viewer:c,viewerIsCollaborator:_}){const p=c.isAuth?c.boardCount:void 0;let u=l||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(p);r?u={type:"promote"}:(_||o||["OtherProfilePinGrid","UserProfilePinGrid"].includes(d))&&!["BoardlessPins","CreatorProfileActivityPinGrid","CreatorProfileStoryPinGrid","BaseBoardPinGrid"].includes(d)?u={type:"classic"}:(_||o)&&["BaseBoardPinGrid"].includes(d)&&null!=e&&e.name&&e.url&&e.id&&(u={type:"inline",initialSelection:{title:e.name,boardId:e.id,url:e.url}});return t&&(u={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===d}),(s||st.includes(d)||a)&&(u={type:"none"}),{board:e,derivedSaveButtonOptions:u,showLikeButton:_&&n&&Dn.UP.includes(d),supportsReactionBar:!i}}({board:U,isInlineBetterSave:pe,isDenseView:Ae,isGroupBoard:Ee,isOwnBoard:je,isOwnPin:De,isORBACProfileManager:Oe,isQuickPromotable:K,isRemovable:ne,saveButtonOptions:f,surface:y,viewer:te,viewerIsCollaborator:ze})),[U,pe,Ae,Ee,je,De,Oe,K,ne,f,y,te,ze]);let Ge;["ShoppingDynamicHeightGrid","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadataWithVisitButton"].includes(y)&&!ie&&(Ge="white");const Fe=(0,t.useMemo)((()=>function({allowProductCarousel:e=!1,shoppingLabelColor:i,surface:n}){return{allowProductCarousel:e,allowShoppingPriceIndicator:Dn.Wv.includes(n),shoppingLabelColor:i}}({allowProductCarousel:fe,shoppingLabelColor:Ge,surface:y})),[fe,Ge,y]),Ue=(0,t.useMemo)((()=>function({board:e,feedbackData:i,feedbackType:n,isDenseView:t,isGroupBoard:o,isOwnBoard:a,isORBACProfileManager:r,isORBACBeta:s,isORBACGA:l,pin:d,isRemovable:c,surface:_,viewer:p}){var u,h,m,g,v,f,y;const P=!(null===(u=d.access)||void 0===u||!u.includes("write")),x=!!d.promoter&&!d.is_downstream_promotion,b=(null===(h=d.carousel_data)||void 0===h?void 0:h.index)||0,S=Yn({isGroupBoard:o,surface:_,gridTitle:d.grid_title,hasRichSummary:!!d.rich_summary,hasCarouselData:!!d.carousel_data,richSummaryTypeName:null===(m=d.rich_summary)||void 0===m?void 0:m.type_name,richSummaryDisplayName:null===(g=d.rich_summary)||void 0===g?void 0:g.display_name,title:d.title,hasPromoter:!!d.promoter,isDownstreamPromotion:d.is_downstream_promotion,pinAccess:d.access,carouselSlotsTitle:null===(v=d.carousel_data)||void 0===v||null===(f=v.carousel_slots)||void 0===f?void 0:f[b].title}),w=e&&(0,Wn.Z)({action:4,board:e,viewer:p})||P,T=d.savedInfo&&d.savedInfo.localPinId,I=Boolean(a&&!o||"UserProfilePinGrid"===_&&w||T),A=Boolean(o&&w||I||r&&(!(0,_e.hy)(d.story_pin_data_id)||s)),E=Boolean((null==e?void 0:e.is_collaborative)||I),R=!(x||a||o||$n.includes(_)||r),k=Xn({surface:_,isORBACProfileManager:r,isORBACGA:l,isRemovable:c}),{tracked_link:C,link:j}=d,O=!(null===(y=null!=C?C:j)||void 0===y||!y);let N=o&&t?"equally-spaced":"default",D="default";return t&&(D=o?"icon-only":"truncated-text"),t&&["UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(_)&&(D="icon-only",N="equally-spaced"),{actionBarEditBeforeShare:E,feedbackData:i,feedbackType:n,layout:N,pinTitle:S,showEditButton:A,showOverflowMenu:R,showShareButton:k,showSourceLinkButton:O,sourceLinkStyle:D}}({board:U,feedbackData:Te,feedbackType:we,isDenseView:Ae,isGroupBoard:Ee,isOwnBoard:je,isORBACProfileManager:Oe,isORBACBeta:ae,isORBACGA:re,isRemovable:ne,pin:G,surface:y,viewer:te})),[U,Te,we,Ae,Ee,je,Oe,ae,re,ne,G,y,te]);let Ve=!1;G.story_pin_data&&!te.isPartner&&(Ve=H("web_auth_remove_pinner_pinstats").anyEnabled);const He=!Ve&&(0,Gn.rh)(G,te,V,se)&&ft.includes(y)&&(De||re&&Oe),We=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(y),Ye=!ie&&We?"shopping":"standard";let $e=(r||"CreatorProfileStoryPinGrid"!==y||De)&&(0,Ne.J6)(G,Le);const Xe=(0,ai.Xx)();$e=!he&&$e;const qe=(0,t.useMemo)((()=>Jn({attributionOption:Se,board:U,contentType:Ye,experimentsClient:V,feedbackData:Te,feedbackType:we,hasCarouselData:ye,isGroupBoard:Ee,isORBACProfileManager:Oe,isOwnBoard:je,pin:G,showImageOnly:be,showNativeReactions:$e,showPromotedShoppingPrice:ie&&We,surface:y,viewer:te,variantData:Xe})),[Se,U,Ye,V,Te,we,ye,Ee,Oe,je,ie,We,G,be,$e,y,te,Xe]),Ke=!!G.story_pin_data_id,Je=G.created_at?new Date(G.created_at):null,Qe=(0,l.pN)({isOwnPin:De,isStoryPin:Ke,pinCreationDate:Je,surface:y});Ve&&(qe.showPinStats=!1);let ei=Boolean(qe.pinTitle||qe.contentType||qe.userNote||qe.showSource||"none"!==qe.attributionType||qe.showNativeReactions||qe.productCurrentPrice||qe.productOriginalPrice||qe.showPinStats)||Ee;"BaseBoardPinGrid"===y&&je&&Be||ee?ei=!0:vt.includes(y)||Ae&&(je||W)?ei=!1:De||"CreatorProfileStoryPinGrid"!==y&&"CreatorProfileActivityPinGrid"!==y||(ei=!1),!he||ie||ee||(ei=!1);const ii=Boolean(Q),{showLeadPinStdBeta:ni}=(0,s.Z)(G),ti={showNoPinBorderRadius:"TopicBestPinNarrow"===y||"TopicBestPinWide"===y||"ConversationView"===y,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===y&&ie,shouldUseLegoWash:!0,showLeadPinStdBeta:ni},oi={feedbackType:we},{anyEnabled:ri}=H("ads_desktop_video_ads",{dangerouslySkipActivation:!0}),si=(0,t.useMemo)((()=>function({hasCarouselData:e,isDenseView:i,pinImageCrop:n,pinImageFit:t,resolution:o,showPromotedVideos:a,showLeadPinStdBeta:r,surface:s}){const l=Dn.zl.includes(s);let d="backend";"CloseupRelatedProducts"===s?d={height:tt.GZ,width:tt.OE}:"TopicBestPinWide"===s?d={height:Qn,width:et}:"TopicBestPinNarrow"===s?d={height:it,width:nt}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomainNoMetadata"].includes(s)||l?d={height:tt.zX,width:tt.zX}:n&&(d=n);let c="none",_=null!=o?o:"default";"string"!=typeof d&&(c="cover",(l||"ShoppingDynamicHeightGrid"===s&&!t||"ShoppingSquareGridDomainNoMetadata"===s)&&(c="contain",_="high-res"));const p=l||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(s)?"transparent":"dominant",u=(0,at.e)(s);return{autoplaySettingOff:"undefined"!=typeof window&&0===ot.Z.getItem(rt._e),fallbackColor:p,imageFit:c,isDenseView:i,resolution:_,rootMargin:u,pinImageCrop:d,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(s),showPromotedVideos:a,showLeadPinStdBeta:r}}({hasCarouselData:ye,isDenseView:Ae,isPromoted:ie,pinImageCrop:m,pinImageFit:g,resolution:v,showPromotedVideos:ri,showLeadPinStdBeta:ni,surface:y})),[ye,Ae,ie,m,g,v,ri,ni,y]),li=Pe&&cn(),di=(0,t.useMemo)((()=>({debugImpressionState:n,slotIndex:de})),[n,de]),ci=(0,t.useMemo)((()=>({surface:y})),[y]);return(0,b.jsx)(d.Z,{name:"PinRepConfiguration",children:(0,b.jsx)(P.B,{value:x,children:(0,b.jsxs)(ct.B,{value:ci,children:[(0,b.jsx)(zn,{actionBarProps:Ue,blockClickEvents:i,currentlyPlayingVideo:ge,footerProps:qe,impressionsDebuggerProps:di,obscuredPinOverlayProps:oi,pin:G,pinVisualProps:si,presentationProps:ti,primaryContentProps:Ze,secondaryContentProps:Fe,showFooter:ei||Qe,showImpressionsDebugger:li,showObscuredPinOverlay:ii,showSeeStatsButton:He,showSignalDebugger:Pe,showUnavailablePin:Le,surface:y,visibilityOverrides:Me,...S}),ve.shouldOpenModal&&ve.newPin&&(null===(Z=ve.originalPin)||void 0===Z?void 0:Z.id)===G.id&&(0,b.jsx)(d.Z,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:(0,b.jsx)(u.Z,{children:(0,b.jsx)(gt,{experience:ve.experience,newPin:ve.newPin})})})]})})})}},661900:(e,i,n)=>{n.d(i,{Z:()=>o});var t=n(245410);const o=e=>{const i=!!e.promoted_is_lead_ad,n=(0,t.F)();return{isLeadPin:i,showLeadPinStdBeta:i&&n.checkExperiment("web_lead_ads_std_beta").anyEnabled,showLeadPinStdAlpha:i&&n.checkExperiment("web_lead_gen_ads").anyEnabled}}},759034:(e,i,n)=>{n.d(i,{Z:()=>c});var t=n(883119),o=n(830074),a=n(105848),r=n(458870),s=n(785893);const l=({count:e,countFormat:i,ratingValue:n,shippingInfo:l})=>(0,s.jsxs)(t.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,s.jsx)(a.Z,{count:e,countFormat:i,rating:n,textSize:"200"}),(0,s.jsx)(t.xu,{marginTop:(0,r.Z)({count:e,rating:n})?1:0,children:(0,s.jsx)(o.Z,{customStyles:{color:"subtle",size:"200"},freeShippingPrice:null==l?void 0:l.free_shipping_price,freeShippingValue:null==l?void 0:l.free_shipping_value})})]}),d=({clickthroughFn:e,count:i,countType:n,countFormat:l,hideSeparationDot:d,bracket:c,ratingValue:_,shippingInfo:p,shipsToUserCountry:u})=>{const h=!1===u;return(0,s.jsxs)(t.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:1,wrap:!0,children:[(0,s.jsx)(a.Z,{bracket:c,count:i,countFormat:l,countType:n,rating:_,textSize:"300"}),(0,s.jsx)(t.xu,{marginStart:(0,r.Z)({count:i,rating:_})&&d?2:0,children:(0,s.jsx)(o.Z,{clickthroughFn:e,customStyles:{color:"default",size:"300"},showPrevDot:(0,r.Z)({count:i,rating:_})&&!d,freeShippingPrice:null==p?void 0:p.free_shipping_price,freeShippingValue:null==p?void 0:p.free_shipping_value,showShippingCountryDisclaimer:h})})]})};function c(e){return e.isGridView?(0,s.jsx)(l,{...e}):(0,s.jsx)(d,{...e})}},341027:(e,i,n)=>{function t(e){const{max_price:i,min_price:n,price:t}=e;return i&&n?`${n}-${i}`:t}n.d(i,{Z:()=>t})},374749:(e,i,n)=>{n.d(i,{GT:()=>h,Gy:()=>r,Kl:()=>f,QY:()=>u,RR:()=>l,SP:()=>c,Sn:()=>v,Zs:()=>g,bA:()=>_,fz:()=>p,i8:()=>s,nn:()=>a,qN:()=>d});var t=n(572559),o=n(972551);const a=e=>!!e&&(e.shopping_flags||[]).includes(2),r=e=>{var i,n;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null!==(i=null===(n=e.rich_metadata)||void 0===n?void 0:n.products)&&void 0!==i?i:[]).length>0},s=e=>{var i;return null===(i=e.aggregated_pin_data)||void 0===i?void 0:i.is_shop_the_look},l=e=>{var i,n;return null===(i=e.rich_summary)||void 0===i||null===(n=i.aggregate_rating)||void 0===n?void 0:n.rating_value},d=e=>e.is_oos_product,c=e=>e.is_stale_product,_=e=>d(e)||c(e),p=e=>{var i;const n=(0,o.Z)({richPinData:e.rich_summary||{}});return null==n||null===(i=n.brand)||void 0===i?void 0:i.name},u=e=>{var i,n,t,o;const a=null===(i=e.link_domain)||void 0===i||null===(n=i.official_user)||void 0===n?void 0:n.full_name;if(a)return a;const r=null===(t=e.rich_summary)||void 0===t?void 0:t.site_name;if(r)return r;if(e.domain){if("Uploaded by user"===e.domain){return((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name}return e.domain}const s=null===(o=e.via_pinner)||void 0===o?void 0:o.full_name;return e.is_repin&&s?s:void 0},h=e=>{if(e){const i=e.shopping_flags||[];return[...i,...!i.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images?[10]:[]]}return[]},m=e=>{const i=(null==e?void 0:e.variants)||[],n=(null==e?void 0:e.dimension_metadata)||[];return Array.isArray(i)&&Array.isArray(n)?n.reduce(((e,n)=>n.name&&Array.isArray(n.values)?e+n.values.filter((e=>i.find((i=>{var t,o;return(null===(t=i.dimensions)||void 0===t?void 0:t[null!==(o=n.name)&&void 0!==o?o:""])===e})))).length:e),0):0};function g(e,i){var n,o,a;const r=h(e);let s={...null==i||null===(n=i.contextLogData)||void 0===n?void 0:n.commerce_data};if(r.includes(2)&&(s={...s,pin_is_shop_the_look:!0}),r.includes(1)&&(s={...s,is_available:!0}),r.includes(5)&&(s={...s,is_product_pin_v2:!0}),r.includes(6)&&(s={...s,is_rich_product_pin:!0}),r.includes(10)&&(s={...s,is_organic_product_carousel:!0}),e.is_eligible_for_pdp_plus||e.is_eligible_for_pdp||e.is_oos_product||e.is_stale_product){e.is_oos_product?s={...s,pin_show_pdp_oos:!0}:e.is_stale_product?s={...s,pin_show_pdp_stale:!0}:e.is_eligible_for_pdp&&(s={...s,pin_show_pdp:!0});const n=(0,t.Z)({carouselData:e.carousel_data,images:e.images,richMetadata:e.rich_metadata,richSummary:e.rich_summary});if(null!=i&&i.isPdpPlus){var l,d,c,_,p,u,g,v,f;s={...s,is_pdpplus:!0};const i=null===(l=e.rich_metadata)||void 0===l||null===(d=l.products)||void 0===d?void 0:d[0],t=null==i||null===(c=i.shipping_info)||void 0===c?void 0:c.free_shipping_price,o=null==i||null===(_=i.shipping_info)||void 0===_?void 0:_.free_shipping_value,a=(null==i||null===(p=i.variant_set)||void 0===p||null===(u=p.variants)||void 0===u?void 0:u.length)||0,r=m(null==i?void 0:i.variant_set),h=(null==i||null===(g=i.variant_set)||void 0===g||null===(v=g.dimension_metadata)||void 0===v?void 0:v.length)||0,P=null==i||null===(f=i.brand)||void 0===f?void 0:f.signature;var y;if(P&&(s={...s,brand_signature:P}),n)s={...s,carousel_image_count:null===(y=n.carousel_slots)||void 0===y?void 0:y.length};t&&(s={...s,free_shipping_price:t}),o&&(s={...s,free_shipping_value:o}),a&&(s={...s,num_variants:a}),r&&(s={...s,valid_dimension_option_count:r}),h&&(s={...s,total_dimension_option_count:h})}else if(n){var P;s={...s,image_count:null===(P=n.carousel_slots)||void 0===P?void 0:P.length},s={...s,image_index:n.index}}}const x=null===(o=e.rich_summary)||void 0===o||null===(a=o.products)||void 0===a?void 0:a[0];null!=x&&x.item_id&&(s={...s,item_id:x.item_id}),null!=x&&x.item_set_id&&(s={...s,item_set_id:x.item_set_id});return(e.aggregated_pin_data||{}).is_shop_the_look&&(s={...s,pin_is_shop_the_look:!0}),e.story_pin_data&&(s={...s,story_pin_id:e.story_pin_data.id}),s}function v(e){const i=JSON.stringify(e);return"{}"!==i?{commerce_data:i}:null}const f=(e,i)=>e?v(g(e,i)):null},589845:(e,i,n)=>{n.d(i,{Z:()=>u});var t=n(667294),o=n(616550),a=n(946618),r=n(310561);var s=n(374749),l=n(388011),d=n(970588),c=n(898252),_=n(385075),p=n(785893);function u({children:e,hovered:i,pin:n,slotIndex:u,trafficSource:h,viewType:m}){var g,v,f,y,P;const{logContextEvent:x}=(0,l.v)(),[b,S]=(0,t.useState)(),[w,T]=(0,t.useState)(),{id:I,tracked_link:A,link:E}=n,R=A||E||"",k=()=>{S(!0)},C=function(e){const i=(0,o.useLocation)(),{previous:n}=(0,r.Hv)();return(0,a.Z)({...e,location:i,previousHistory:n})}({boardUrl:null===(g=n.board)||void 0===g?void 0:g.url,pinId:n.id,pinnerUserName:null===(v=n.pinner)||void 0===v?void 0:v.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map}),j=(0,_.Z)({hasPin:!!n,hasPinRichMetadata:!(null==n||!n.rich_metadata),hasPinRichMetadataProducts:!(null==n||null===(f=n.rich_metadata)||void 0===f||!f.products),hasPinRichMetadataArticle:!(null==n||null===(y=n.rich_metadata)||void 0===y||!y.article),hasPinRichMetadataRecipe:!(null==n||null===(P=n.rich_metadata)||void 0===P||!P.recipe),hasPinStoryPinData:!(null==n||!n.story_pin_data)}),O=(0,t.useCallback)((()=>{(0,d.Z)({url:"/v3/offsite/",data:{check_only:!1,pin_id:n.id,url:R,client_tracking_params:C,aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:I,...u||{},...(0,s.Kl)(n)||{}})}}).then((e=>{e&&(x({event_type:12,object_id_str:I,view_type:m,view_parameter:j,aux_data:{clickthrough_type:"rightClick",...u||{},...(0,s.Kl)(n)||{}}}),x({event_type:8948,view_type:m,object_id_str:I,view_parameter:j,aux_data:{click_type:"clickthrough",closeup_navigation_type:h&&(0,c.sV)(h)?"deeplink":"click",clickthrough_type:"rightClick",...u||{},...(0,s.Kl)(n)||{}}}))}))})),N=e=>{var i;b&&(/^\/pin/.test(null===(i=e.target.activeElement.attributes.href)||void 0===i?void 0:i.value)||(O(),S(!1)),window.removeEventListener(w,N,!1))};return(0,t.useEffect)((()=>{var e,i,n,t,o,a;void 0!==(null===(e=window)||void 0===e||null===(i=e.document)||void 0===i?void 0:i.hidden)?T("visibilitychange"):void 0!==(null===(n=window)||void 0===n||null===(t=n.document)||void 0===t?void 0:t.msHidden)?T("msvisibilitychange"):void 0!==(null===(o=window)||void 0===o||null===(a=o.document)||void 0===a?void 0:a.webkitHidden)&&T("webkitvisibilitychange")}),[]),(0,t.useEffect)((()=>(b&&window&&window.addEventListener(w,N,!1),()=>window.removeEventListener(w,N))),[b,w]),(0,t.useEffect)((()=>(i&&window.addEventListener("contextmenu",k),()=>{window.removeEventListener("contextmenu",k)})),[i]),(0,p.jsx)(t.Fragment,{children:e})}},869805:(e,i,n)=>{n.d(i,{Z:()=>_,v:()=>d});var t=n(40660),o=n(457628),a=n(791045);var r=n(469093),s=n(98736),l=n(782219);const d=e=>{const{userAgent:i}=e;if(!i.isMobile&&!i.isTablet)return"desktop";switch(i.platform){case l.RL:return"iphone";case l.GW:return i.isTablet?"android_tablet":"android";case l.s4:return"ipad";default:return"mobile_other"}},c=({moduleName:e,pageType:i,requestContext:n,route:l})=>{const c=d(n),_=n.isAuthenticated?"auth":"unauth",p=(()=>{const e=navigator&&navigator.userAgent.toLowerCase();if(e){if(e.indexOf("googlebot")>-1||e.indexOf("google web preview")>-1||e.indexOf("google page speed insights")>-1)return"google_bot";if(e.indexOf("msnbot")>-1||e.indexOf("bingbot")>-1)return"ms_bot";if(e.indexOf("applebot")>-1)return"apple_bot";if(e.indexOf("yahoo")>-1||e.indexOf("slurp")>-1)return"yahoo_bot";if(e.indexOf("yandex")>-1)return"yandex"}})(),u=(0,r.Z)(),h=function(){let e=!1;return o.U2(a.VL)||(o.t8(a.VL,"1",(0,o.kZ)(a.VL)),e=!0),e}(),m=document.domain||"unknown";h&&((0,s.My)(`traffic.${c}.${u}.${e}.${_}`),(0,s.My)(`traffic_subdomain.${m}.${u}.${e}.${_}`),(0,s.My)(`traffic_subdomain.${m}.${c}.${u}.${e}.${_}`),(0,s.My)(`traffic_subdomain.${m}.${c}.${_}`),(0,s.My)(`traffic_duplo.${c}.${u}.${e}.${_}`),p&&(0,s.My)(`traffic_bot.${p}.${e}`));t.Z.increment("webapp.traffic",.1,{domain:m,isAuth:_,pageType:i,userAgentPlatform:c,botType:p,firstVisit:h,moduleName:e,referrer:u,route:l})};function _({pageType:e,requestContext:i,route:n}){c({moduleName:{"/":"HomePage","/login":"LoginPage","/pin/:id":"Closeup","/:username":"ProfilePage","/:username/:slug":"BoardPage","/topics/:interest":"TopicPage","/today":"TodayTabPage","/today/:term/:title/:articleId":"TodayArticleFeedPage","/ideas":"IdeasRootPage","/ideas/:interest/:id":"IdeasPage","/videos":"VideosRootPage","/videos/:category/:id":"VideosCategoryPage","/shopping":"ShoppingRootPage","/shopping/:category/:id":"ShoppingCategoryPage"}[n]||"other",pageType:e,requestContext:i,route:n})}},633917:(e,i,n)=>{n.d(i,{N:()=>r,Z:()=>a});var t=n(883119),o=n(785893);function a({children:e,fullWidth:i}){return(0,o.jsx)(t.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:i?"100%":void 0}},children:e})}function r({children:e,enabled:i}){return i?(0,o.jsx)(a,{children:e}):e}},55350:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(219224),o=n(906466);function a({action:e,board:i,viewer:n}){var a;return(0,t.Z)(n,i)||(0,o.Z)({board:i,viewer:n})&&!(null===(a=i.collaborator_permissions)||void 0===a||!a.includes(e))}},219224:(e,i,n)=>{function t(e,i){const n=i&&i.owner&&i.owner.id;return e.isAuth&&n===e.id}n.d(i,{Z:()=>t})},906466:(e,i,n)=>{function t({board:e,viewer:i}){const{collaborated_by_me:n}=e;return Boolean(i.isAuth&&n)}n.d(i,{Z:()=>t})},309926:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(219224),o=n(906466);function a({board:e,viewer:i}){return(0,t.Z)(i,e)||(0,o.Z)({board:e,viewer:i})}},572559:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(38823),o=n(972551);function a({carouselData:e,images:i,richMetadata:n,richSummary:a,shouldUnifyImageSizes:r,additionalImages:s}){const l=(0,o.Z)({richPinData:n||a});return l&&s&&s.length>0?(0,t.Z)(null,s,e&&e.index,r,l.id):l&&l.additional_images&&l.additional_images.length>0?(0,t.Z)(i,l.additional_images,e&&e.index,r,l.id):e||void 0}},38823:(e,i,n)=>{n.d(i,{Z:()=>a});const t=["236x","474x","564x","736x"];function o(e){function i(e,{imageKey:i,height:n,width:t}){return e.images&&e.images[i]&&(e={...e,images:{...e.images,[i]:{...e.images[i],height:n,width:t}}}),e}const n=t.map((function(i){const n=Math.min(...e.map((e=>e.images&&e.images[i]&&e.images[i].height||1/0))),t=Math.min(...e.map((e=>e.images&&e.images[i]&&e.images[i].width||1/0)));return{imageKey:i,height:n,width:t}}));return e.map((e=>n.reduce(i,e)))}function a(e,i,n,t,a){const r=(null==i?void 0:i.map((({canonical_images:e,image_signature:i})=>({images:e||void 0,image_signature:i||void 0}))))||[],s=e?[{images:e},...r]:r;return{carousel_slots:t?o(s):s,index:n||0,id:a}}},222443:(e,i,n)=>{n.d(i,{Z:()=>r});var t=n(616550),o=n(946618),a=n(525104);function r(){const e=(0,a.S6)(),i=(0,t.useLocation)();return(n,t)=>{let a;const r=e(n);if(null!=t&&t.shouldTrackForPrevLocation){const e=(null==r?void 0:r.tracking_params_map)||{},i=Object.keys(e).find((e=>"PinResource"!==e));r&&(a=i?e[i]:e.PinResource)}else if(r){var s,l;a=(0,o.Z)({boardUrl:null===(s=r.board)||void 0===s?void 0:s.url,location:i,pinId:r.id,pinnerUserName:null===(l=r.pinner)||void 0===l?void 0:l.username,storyPinDataId:r.story_pin_data_id,trackingParams:r.tracking_params,trackingParamsMap:r.tracking_params_map})}return a}}},650414:(e,i,n)=>{n.d(i,{P:()=>a,Z:()=>o});var t=n(702664);function o(e){return e&&e[1000069]&&500417===e[1000069].experience_id&&e[1000069].display_data.hide_footer}function a(){const e=(0,t.useSelector)((({experiences:e})=>e));return!!e&&o(e)}},316445:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(245410);const o=Object.freeze({analytics:{organic:"web_sce_organic_analytics",monetized:"web_sce_monetized_analytics"},pinStats:{organic:"web_sce_organic_pin_stats",monetized:"web_sce_monetized_pin_stats"}});function a(e){const{checkExperiment:i}=(0,t.F)();i("sce_lightswitch_organic"),i("sce_lightswitch_monetized");const n=o[e];return()=>i(n.organic).anyEnabled||i(n.monetized).anyEnabled}},427370:(e,i,n)=>{n.d(i,{G7:()=>c,Nl:()=>p,WE:()=>d,l6:()=>_,rh:()=>l});var t=n(40045),o=n(642447),a=n(898252),r=n(493851);const s=e=>e.checkExperiment("web_ps4p").anyEnabled;function l(e,i,n,o,r=!1){var l,d,c;if(!i.isAuth)return!1;const{creator_analytics:_,public_creator_analytics:p}=e,u=!!e.story_pin_data_id,h=(0,a.Nc)({pin:e,isSCEEnabled:r})||(0,a.o)(_),m=(null===(l=e.board)||void 0===l?void 0:l.privacy)===t.Z.BoardPrivacy.PUBLIC,g=((null===(d=e.board)||void 0===d?void 0:d.privacy)===t.Z.BoardPrivacy.PROTECTED||m)&&!e.is_repin&&[i.id,o].includes(null===(c=e.pinner)||void 0===c?void 0:c.id);return h||i.isPartner&&g||s(n)&&u&&g||(0,a.pU)(p)}function d(e,i,n,t,o,a){return e.isAuth&&!!i&&(n||t)&&!(null==o||!o.isLoaded)&&!a}function c(e,i){return(0,r.Z)(i.ngettext('Last {{ count }} Day', 'Last {{ count }} Days', e, 'Previous {{ count }} days from current date', 'Previous {{ count }} days from current date'),{count:e})}function _(e,i){return(0,r.Z)(i.ngettext('Last {{ count }} Hour', 'Last {{ count }} Hours', e, 'analytics.utils', 'Previous {{ count }} hours from current time'),{count:e})}function p({i18n:e,isRealtime:i,humanizedTimeSinceLastUpdate:n,displayLifetime:t,numDays:a,selectedDateRange:s,locale:l}){const d=[];if(a){const i=t?(0,r.Z)(e.ngettext('Percent changes are compared to {{n}} day before {{startDate}} \u2013 {{endDate}}.', 'Percent changes are compared to {{n}} days before {{startDate}} \u2013 {{endDate}}.', a, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:a,startDate:(0,o.Z)(l,s.startDate,o.k.NUMERIC),endDate:(0,o.Z)(l,s.endDate,o.k.NUMERIC)}):(0,r.Z)(e.ngettext('Percent changes are compared to {{n}} day before the selected date range.', 'Percent changes are compared to {{n}} days before the selected date range.', a, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:a});d.push(i)}return i?d.push(e._('Metrics are updated in real-time.', 'pinstats.PinnerToplineMetrics.description', 'Label describing when lifetime of pin metrics are updated')):n&&d.push((0,r.Z)(e._('Metrics updated {{ timeSince }}.', 'analytics.header.disclaimer.metricsUpdated', 'Disclaimer describing when data was last updated. timeSince: time period since last update (ex: 1 day)'),{timeSince:n})),d.join(" ")}},325438:(e,i,n)=>{n.d(i,{Z:()=>o});const t={REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,RECOMMENDED_GEO_INTERESTS:192,USER_SEQUENCE_INTERESTS_PINS:193,U2I_DNN_INTERESTS_PINS:196,PINNERSAGE_INTERESTS_PINS:197,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,INTENTIONAL_DISTRIBUTION_RECOMMENDED_GRAPHSAGE_BOARDS:191,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,PINNABILITY_PRODUCT_PIN_EMBEDDINGS:195,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,WATCH_TAB_EHQ_STORIES:186,NOTIF_LEARNED_RETRIEVAL:187,LANDING_PAGE_PIN_RECOMMENDATIONS:188,PINNERSAGE_LEARNED_EMBEDDINGS:189,RECGPT_CG_USER_TO_PINS:206,TOPIC_FEED:190,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184,XPIXIE_TO_PRODUCT_PINS:194,SHOPPING_RECENTLY_VIEWED_MODULE_PINS:198,SHOPPING_RECENTLY_SAVED_MODULE_PINS:199,SHOPPING_BEST_SELLING_RECOMMENDED_BRAND_MODULE_PINS:200,SHOPPING_SHOP_THE_BOARD_MODULE_PINS:203,SHOPPING_ON_SALE_MODULE_PINS:204,SHOPPING_PRODUCT_CATEGORY_BASED_MODULE_PINS:205,RECENTLY_VIEWED_ORGANIC_MODULE_PINS:201,RECENTLY_SAVED_ORGANIC_MODULE_PINS:202};function o({feedbackData:e,feedbackType:i,pinId:n,pinFeedbackType:o,recommendationReason:a,complaintReason:r,clientTrackingParams:s}){var l,d;switch(i){case"search":return{action:"unrelatedSearchPin",actionOptions:{query:null==e?void 0:e.query,pin_id:n}};case"related":return{action:"relatedPinHide",actionOptions:{pin:n}};case"newsHub":return{action:"newsHubPinHide",actionOptions:{pinId:n,newsId:null==e?void 0:e.newsId}};default:const c="promoted"===i,_=function(e){return e&&t[e]}(null==a?void 0:a.reason),p=null!==(l=null==a?void 0:a.reasonId)&&void 0!==l?l:null==a||null===(d=a.board)||void 0===d?void 0:d.entityId;return{action:c?"promotedComplaint":"complaint",actionOptions:{complaint_reason:r||0,pin_id:n,..._?{recommendation_reason_id:_}:{},feedback_type:o||1,promoted:c,...p?{through_id:p}:{},...null!=a&&a.throughProperties?{through_properties:a.throughProperties.reduce(((e,i)=>{const{key:n,data:t}=i;return n?(e[n]=[...e[n]||[],...t||[]],e):e}),{})}:{},...s?{client_tracking_params:s}:{}}}}}},385075:(e,i,n)=>{function t({hasPin:e,hasPinRichMetadata:i,hasPinRichMetadataProducts:n,hasPinRichMetadataArticle:t,hasPinRichMetadataRecipe:o,hasPinStoryPinData:a}){if(e){if(i)return n?144:t?141:o?145:139;if(a)return 157}return 140}n.d(i,{Z:()=>t})},830074:(e,i,n)=>{n.d(i,{Z:()=>m});var t=n(667294),o=n(883119),a=n(536042),r=n(630089),s=n(993926),l=n(549201),d=n(196039),c=n(785893);function _(){const e=(0,a.ZP)();return e._('Free shipping', 'closeup.product.shipping', 'product shipping info')}function p({freeShippingPrice:e}){const i=(0,a.ZP)();return(0,r.nk)(i._('Free shipping with {{ shippingPrice }}+', 'closeup.product.shipping', 'product shipping info'),{shippingPrice:e}).join("")}function u(){const e=(0,a.ZP)();return e._('Shipping info', 'closeup.product.shipping', 'product shipping info')}function h({clickthroughFn:e}){const i=(0,a.ZP)(),[n,r]=(0,t.useState)(!1),s=(0,l.HG)(),_=(0,t.useRef)(null),p=()=>{r(!n)},u=i._('Check the merchant\'s site for shipping to your region', 'closeup.product.shipping', 'Text on how the user can get more shipping information for the product'),h=i._('Visit site', 'closeup.product.shipping', 'Button to visit the merchant site'),m=s?(0,c.jsx)(o.J2,{anchor:_.current,onDismiss:p,idealDirection:"right",children:(0,c.jsx)(o.xu,{padding:5,rounding:4,children:(0,c.jsx)(o.xv,{children:u})})}):(0,c.jsx)(o.Io,{onDismiss:p,zIndex:d.lp,size:"auto",heading:"",children:(0,c.jsxs)(o.xu,{alignItems:"center",direction:"column",marginStart:10,marginEnd:10,display:"flex",children:[(0,c.jsx)(o.xu,{marginBottom:5,children:(0,c.jsx)(o.xv,{size:"400",weight:"bold",align:"center",children:u})}),(0,c.jsx)(o.zx,{text:h,accessibilityLabel:h,size:"lg",onClick:e})]})});return(0,c.jsxs)(o.xu,{display:"flex",alignItems:"center",marginStart:1,children:[(0,c.jsx)(o.iP,{ref:_,onTap:p,children:(0,c.jsx)(o.JO,{accessibilityLabel:i._('Show shipping information', 'closeup.product.shipping', 'Accessibility label for showing more shipping information'),color:"default",icon:"info-circle",size:14})}),n&&m]})}function m({clickthroughFn:e,customStyles:i,showPrevDot:n,freeShippingPrice:t,freeShippingValue:a,showShippingCountryDisclaimer:r}){const l=n?[""]:[],{color:d="subtle",size:m="200"}=i||{};if(!Number.isFinite(a)&&!r)return null;let g;return 0===a?g=(0,c.jsx)(_,{}):t?g=(0,c.jsx)(p,{freeShippingPrice:t}):r&&(g=(0,c.jsx)(u,{})),g&&l.push((0,c.jsxs)(o.kC,{direction:"row",children:[g,r&&(0,c.jsx)(h,{clickthroughFn:e})]})),0===l.length?null:(0,c.jsx)(o.xv,{color:d,size:m,children:(0,c.jsx)(s.Z,{color:d,items:l})})}},411171:(e,i,n)=>{function t(e){const i=Object.keys(e);if(i.length>0){return i.sort(((i,n)=>e[n]-e[i])).slice(0,3)}return null}function o(e){const i=Object.values(e);if(i.length>0){return i.reduce(((e,i)=>e+i),0)}return 0}function a(e,i,n){const{videos:t,is_downstream_promotion:o,is_promoted:a,story_pin_data_id:r,board:s}=e;return!(a||o||(!t||!t.id)&&!r||i||null!=s&&s.is_collaborative&&s.collaborated_by_me||n)}n.d(i,{At:()=>t,J6:()=>a,Ud:()=>o})},972551:(e,i,n)=>{function t({richPinData:e={}}){return((null==e?void 0:e.products)||[])[0]}n.d(i,{Z:()=>t})},963375:(e,i,n)=>{n.d(i,{$O:()=>s,GZ:()=>d,OE:()=>c,Xv:()=>l,Z0:()=>t,_z:()=>a,fM:()=>r,qA:()=>o,zX:()=>_});const t=40,o=4,a=106,r=133,s=.1,l=10,d=246,c=197,_=236},479958:(e,i,n)=>{n.d(i,{Z:()=>r});var t=n(883119),o=n(536042),a=n(785893);function r({height:e,isDenseView:i,rounding:n,width:r,color:s}){const l=(0,o.ZP)();return(0,a.jsx)(t.xu,{color:s||"default",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",rounding:n,overflow:"hidden",width:r,height:e,"data-test-id":"unavailable-pin",children:(0,a.jsxs)(t.kC,{direction:"column",alignItems:"center",children:[(0,a.jsx)(t.xu,{paddingY:i?2:4,children:(0,a.jsx)(t.JO,{accessibilityLabel:l._('Pin not available', 'story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:"default",icon:"alert",size:20})}),(0,a.jsx)(t.xv,{weight:"bold",children:l._('Unavailable', 'story-pin.Closeup.UnavailableIdeaPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),!i&&(0,a.jsx)(t.xu,{paddingY:1,children:(0,a.jsx)(t.xv,{children:l._('Removed by the creator', 'story-pin.Closeup.UnavailableIdeaPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})}},993926:(e,i,n)=>{n.d(i,{Z:()=>l});var t=n(667294),o=n(883119),a=n(910717),r=n(785893);function s(e){return null!=e}function l({additionalPadding:e,color:i="darkGray",inline:n,items:l}){const d=e?(0,r.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,r.jsx)(a.Z,{color:i})}):(0,r.jsx)(a.Z,{color:i}),c=l.filter(s).reduce(((e,i,n)=>[...e,0!==n?d:null,i]),[]).filter(s).map(((e,i)=>(0,r.jsx)(t.Fragment,{children:e},i)));return 0===c.length?null:n?(0,r.jsx)(o.xu,{children:c}):(0,r.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:c})}},634923:(e,i,n)=>{n.d(i,{Z:()=>a,t:()=>o});const t=()=>{var e,i;const n="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(i=e.connection)||void 0===i?void 0:i.effectiveType:void 0;let t,o=null===(a=window)||void 0===a||!a.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";var a;return n?"4g"===n?t="40-80":(o="1x",t="0-1"):t="unknown",{downloadSpeedGroup:t,screenDimension:o}};function o(e){const{downloadSpeedGroup:i,screenDimension:n}=t(),o={"1x":e.V_EXP3,"2x":e.V_EXP5},a={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:o,"0-1":o,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":a,"40-80":a,"80_or_above":a}[i][n]||e.V_720P||void 0}function a(e){const{video_list:i={}}=e,n=o(i),t=i.V_HLSV3_MOBILE||void 0;return n?{hlsv3:t,mp4:n}:{hlsv3:t}}},740089:(e,i,n)=>{n.d(i,{Z:()=>s});var t=n(883119),o=n(833897),a=n(785893);const r={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function s({pin:e,enableCloseupLink:i}){const{aggregated_pin_data:n}=e,{pin_tags_chips:s}=n||{},l=s&&s.length>=3?s.slice(0,3):[];return(0,a.jsx)(t.xu,{display:"flex",dangerouslySetInlineStyle:{__style:r.chipContainer},children:l.map((n=>{var s,l,d,c;const _=(null===(s=n.images)||void 0===s?void 0:s["750x"])||{},p=(0,a.jsx)(t.Ee,{alt:"",fit:"cover",naturalHeight:null!==(l=_.height)&&void 0!==l?l:1,naturalWidth:null!==(d=_.width)&&void 0!==d?d:1,role:"presentation",src:null!==(c=_.url)&&void 0!==c?c:""});return(0,a.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:r.chip},"data-test-id":"collageChip",children:(0,a.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:r.chipInner},position:"relative",children:(0,a.jsx)(t.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,a.jsx)(t.zd,{height:"100%",wash:!0,width:"100%",children:i?(0,a.jsx)(o.Z,{sizing:"fullSize",collageChipId:n.id,pin:e,children:p}):p})})})},n.id)}))})}},362626:(e,i,n)=>{n.d(i,{Z:()=>r});var t=n(667294),o=n(388011),a=n(347151);function r(e,i){const{logContextEvent:n}=(0,o.v)(),{componentType:r,contextLogData:s,viewParameter:l,viewType:d}=(0,a.E)(),{aux_data:c,view_type:_,view_parameter:p,component:u,clientTrackingParams:h,...m}=null!=i?i:{};return(0,t.useCallback)((()=>{n({event_type:e,view_type:_||d,view_parameter:p||l,component:u||r,clientTrackingParams:h,...m,aux_data:{...c,...s}})}),[n,c,h,m,p,_,u,r,s,e,l,d])}},885669:(e,i,n)=>{n.d(i,{X:()=>o,Z:()=>a});var t=n(667294);const o=120;function a(e,i=0,n=o){const[a,r]=(0,t.useState)(e?"active":"inactive");return(0,t.useEffect)((()=>{if(!e){const e=setTimeout((()=>r("inactive")),n);return()=>{clearTimeout(e)}}if(i){const e=setTimeout((()=>r("active")),i);return()=>{clearTimeout(e)}}r("active")}),[e]),a}},336331:(e,i,n)=>{n.d(i,{$:()=>a,B:()=>o});var t=n(583592);const{Provider:o,useHook:a}=(0,t.Z)("SurfaceContext",{surface:"Unknown"})},347151:(e,i,n)=>{n.d(i,{B:()=>o,E:()=>a});var t=n(583592);const{Provider:o,useHook:a}=(0,t.Z)("trackingParametersContext")},724842:(e,i,n)=>{n.d(i,{ZP:()=>k,we:()=>R,nn:()=>E,zn:()=>A});var t=n(667294),o=n(388011),a=n(282802),r=n(819079),s=n(802071),l=n(883119),d=n(88622),c=n(536042),_=n(630089),p=n(837792),u=n(846226),h=n(3060),m=n(245410),g=n(785893);function v({iconAccessibilityLabel:e,icon:i,linkAccessibilityLabel:n,showNavigationIcon:t,text:o}){return(0,g.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,g.jsx)(u.Z,{id:"ad-reason-icon",children:(0,g.jsx)(l.Sj,{accessibilityLabel:e,bgColor:"lightGray",icon:i,iconColor:"darkGray"})}),(0,g.jsx)(l.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,g.jsx)(l.xv,{children:o})}),t&&n&&(0,g.jsx)(l.kC,{direction:"column",justifyContent:"center",children:(0,g.jsx)(l.JO,{accessibilityLabel:n,color:"default",icon:"arrow-forward"})})]})}var f=n(712968);function y({brandName:e,language:i,geoRegion:n,geoPostalCode:t,ageBucketMatch:o,localeMatch:a,interestMatch:r,genderMatch:d,deviceMatch:p,isCustomerListMatched:h,isShoppingTargetingRematched:y,isActAlikeMatched:P,isEngagementMatched:x,isExpandTargetingMatched:b,isFromGPSLocation:S,isVisitorMatched:w,isShoppingProspectingMatched:T,isPlPersonaMatched:I,gender:A,device:E}){var R;const k=(0,c.ZP)(),{id:C}=(0,s.Z)(),j=(0,f.mN)()(null!=C?C:""),O=null!==(R=null==j?void 0:j.gender)&&void 0!==R?R:"",{checkExperiment:N}=(0,m.F)(),D=(T||I)&&N("ads_web_waista_v3").anyEnabled;return(0,g.jsx)(u.Z,{id:"ad-reasons",children:(0,g.jsxs)(l.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[""!==o&&(0,g.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting age bucket', 'app.common.react.components.PinRep.components.AdReasons.ageIcon', 'Icon for ad targeting age bucket'),icon:"person",text:(0,_.nk)(k._('Age {{ ageBucketMatch }}', 'app.common.react.components.PinRep.components.AdReasonsModal.ageBucketMatch', 'Ad explanation for targeting age range, ageBucketMatch: Users age range'),{ageBucketMatch:(0,g.jsx)(l.xv,{inline:!0,weight:"bold",children:o},"ad-reasons-age-bucket")})}),""!==d&&"unspecified"!==O&&(0,g.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting gender', 'app.common.react.components.PinRep.components.AdReasons.genderIcon', 'Icon for ad targeting gender'),icon:"person",text:(0,_.nk)(k._('{{ gender }}', 'app.common.react.components.PinRep.components.AdReasonsModal.genderMatch', 'Ad explanation for targeting gender, gender: Users gender'),{gender:(0,g.jsx)(l.xv,{inline:!0,weight:"bold",children:A},"ad-reasons-gender")})}),""!==n&&(0,g.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location'),icon:"location",text:(0,_.nk)(k._('Based in {{geoRegion}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting', 'Ad explanation for targeting location , geoRegion: location user is based in'),{geoRegion:(0,g.jsx)(l.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-country-name")})}),""!==t&&(0,g.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location'),icon:"location",text:(0,_.nk)(k._('Based in {{geoPostalCode}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting', 'Ad explanation for targeting location , geoPostalCode: location user is based in'),{geoPostalCode:(0,g.jsx)(l.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-country-name")})}),""!==a&&(0,g.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting locale', 'app.common.react.components.PinRep.components.AdReasons.localeIcon', 'Icon for ad targeting locale'),icon:"globe",text:(0,_.nk)(k._('Primary language {{ language }}', 'app.common.react.components.PinRep.components.AdReasonsModal.localeMatch', 'Ad explanation for targeting age range, language: Users language'),{language:(0,g.jsx)(l.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-locale")})}),""!==p&&(0,g.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting device', 'app.common.react.components.PinRep.components.AdReasons.deviceIcon', 'Icon for ad targeting device'),icon:"desktop",text:(0,_.nk)(k._('Using {{ device }}', 'app.common.react.components.PinRep.components.AdReasonsModal.deviceMatch', 'Ad explanation for targeting device, device: Users device'),{device:(0,g.jsx)(l.xv,{inline:!0,weight:"bold",children:E},"ad-reasons-device")})}),""!==r&&(0,g.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting interest', 'app.common.react.components.PinRep.components.AdReasons.interestIcon', 'Icon for ad targeting interest'),icon:"heart",text:(0,_.nk)(k._('Interested in {{ interestMatch }}', 'app.common.react.components.PinRep.components.AdReasonsModal.interestMatch', 'Ad explanation for targeting interest, interestMatch: Users interest'),{interestMatch:(0,g.jsx)(l.xv,{inline:!0,weight:"bold",children:r},"ad-reasons-interest")})}),y&&(0,g.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.shoppingTargeting', 'Icon for ad targeting shopping targeting'),icon:"history",text:(0,_.nk)(k._('Interacted with {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargeting', 'Ad explanation for shopping targeting, brandName: promoter name'),{brandName:(0,g.jsx)(l.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-shopping-targeting")})}),w&&(0,g.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting customers who interacted with this brand previously, visitor matched', 'app.common.react.components.PinRep.components.AdReasonsModal.visitorMatchIcon', 'Ad explanation for visitor targeting users who have interacted with an advertiser brand'),icon:"history",text:(0,_.nk)(k._('Interacted with {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.visitorTargetingText', 'Text explaining the ad reason for visitor targeting users who interacted with brand previously, brandName: promoter name'),{brandName:(0,g.jsx)(l.xv,{inline:!0,weight:"bold",children:e},"ad-reason-visitor")})}),h&&(0,g.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.listIcon', 'Icon for ad targeting customer list'),icon:"menu",text:(0,_.nk)(k._('On a list provided by {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting', 'Ad explanation for targeting customer list , brandName: promoter name'),{brandName:(0,g.jsx)(l.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-customer-list")})}),x&&(0,g.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting user on engagement audience', 'app.common.react.components.PinRep.components.AdReasons.engagementIcon', 'Icon for ad targeting engagement'),icon:"pin",text:(0,_.nk)(k._('Interacted with {{brandName}} on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.engagementTargeting', 'Ad explanation for targeting engagement audience, brandName: promoter name'),{brandName:(0,g.jsx)(l.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-engagement")})}),P&&(0,g.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting user on act alike', 'app.common.react.components.PinRep.components.AdReasons.actAlikeIcon', 'Icon for ad targeting act alike'),icon:"graph-bar",text:(0,_.nk)(k._('Similar demographic or interest as other {{brandName}} customers', 'app.common.react.components.PinRep.components.AdReasonsModal.', 'Ad explanation for targeting act alike, brandName: promoter name'),{brandName:(0,g.jsx)(l.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-act-alike")})}),(b||D)&&(0,g.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting user on expand targeting', 'app.common.react.components.PinRep.components.AdReasons.expandTargeting', 'Icon for ad expand targeting'),icon:"pinterest",text:k._('Relevant activity on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.expandTargeting', 'Ad explanation for targeting ')}),S&&(0,g.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting user on GPS', 'app.common.react.components.PinRep.components.AdReasons.GPS', 'Icon for ad targeting GPS'),icon:"location",text:k._('GPS Location', 'app.common.react.components.PinRep.components.AdReasonsModal.GPS', 'Ad explanation for targeting GPS')})]})})}function P({onDismiss:e,brandName:i,userName:n,language:t,geoRegion:a,geoPostalCode:r,ageBucketMatch:s,localeMatch:m,interestMatch:v,genderMatch:f,deviceMatch:P,isCustomerListMatched:x,isShoppingTargetingRematched:b,isActAlikeMatched:S,isEngagementMatched:w,isExpandTargetingMatched:T,isFromGPSLocation:I,isVisitorMatched:R,isShoppingProspectingMatched:k,isPlPersonaMatched:C}){const{logContextEvent:j}=(0,o.v)(),O=(0,c.ZP)(),N=A(f,O),D=E(P,O),z=b||x||w||S||T||I||R||C||k||""!==s||""!==m||""!==v||""!==N||""!==D||""!==a||""!==r,B=h.C0+`/${n}/`;return(0,g.jsx)(d.ZP,{accessibilityModalLabel:O._('Why am I seeing this Ad?', 'app.common.react.components.PinRep.components.AdReasonsModal', 'Modal for explaining the reasons an advertiser is targeting a user'),onDismiss:e,children:(0,g.jsxs)(l.xu,{paddingX:8,paddingY:6,children:[(0,g.jsxs)(l.xu,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[(0,g.jsx)(l.xu,{position:"absolute",left:!0,children:(0,g.jsx)(l.hU,{accessibilityLabel:O._('Close', 'app.common.react.components.PinRep.components.AdReasonsModal.closeModal', 'Close ad reasons modal'),icon:"cancel",iconColor:"darkGray",onClick:()=>{j({event_type:102,element:11925,component:13756}),e()},size:"sm"})}),(0,g.jsx)(l.X6,{align:"center",size:"500",children:O._('Why you\'re seeing this ad', 'Heading for promoted Pins explanation', 'Heading for promoted pins explanation, WAISTA ')})]}),(0,g.jsxs)(l.xu,{children:[(0,g.jsx)(l.kC,{direction:"column",gap:{row:0,column:4},children:z&&(0,g.jsx)(l.xu,{marginBottom:4,children:(0,g.jsx)(l.xv,{children:(0,_.nk)(O._('{{ brandName }} is trying to reach specific groups of people. Based on what you\'ve told us or other information, we think you fit some of those groups:', 'app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanationWAISTA', 'text informing the user about who is the advertiser\'s target audience, for WAISTA brandName: is promoter name'),{brandName:(0,g.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(l.rU,{href:B,display:"inlineBlock",onClick:()=>{j({event_type:101,component:13756,element:13407})},target:"blank",underline:"hover",children:i})},"ad-reasons-brand-name")})})})}),(0,g.jsx)(u.Z,{id:"ad-reasons",children:(0,g.jsxs)(l.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[(0,g.jsx)(y,{brandName:i,language:t,geoRegion:a,geoPostalCode:r,ageBucketMatch:s,localeMatch:m,genderMatch:f,interestMatch:v,deviceMatch:P,isCustomerListMatched:x,isShoppingTargetingRematched:b,isActAlikeMatched:S,isEngagementMatched:w,isExpandTargetingMatched:T,isFromGPSLocation:I,isVisitorMatched:R,isShoppingProspectingMatched:k,isPlPersonaMatched:C,gender:N,device:D}),z&&(0,g.jsx)(l.xu,{marginBottom:1,children:(0,g.jsx)(l.xv,{children:(0,_.nk)(O._('If this isn\'t right, {{ changeUserSettings }}', 'app.common.react.components.PinRep.components.AdReasonsModal.changeUserSettingsText', 'Text explaining how to update personal information, changeUserSettings: link to personal settings'),{changeUserSettings:(0,g.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(l.rU,{display:"inline",href:`${h.C0}${p.AH}`,onClick:()=>{j({event_type:101,component:13756,element:13361})},target:"blank",underline:"hover",children:O._('update your personal information', 'app.common.react.components.PinRep.components.AdReasonsModal.changeUserSettings', 'Link for updating personal information')})},"ad-reasons-change-user-settings")})})})]})}),(0,g.jsxs)(l.kC,{direction:"column",gap:{row:0,column:1},children:[(0,g.jsx)(l.xu,{marginBottom:1,marginTop:1,children:(0,g.jsx)(l.X6,{size:"400",children:O._('Ads on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.adsOnPinterestHeading', 'Text for explaining Ads on Pinterest')})}),(0,g.jsx)(l.xu,{marginBottom:4,children:(0,g.jsx)(l.xv,{children:(0,_.nk)(O._('We show you ads that may be based on your profile settings, websites you visit, ads you interact with or other factors. {{adPreferencesLink}}', 'app.common.react.components.PinRep.components.AdReasonsModal.adPreferencesText', 'Text explaining what ads are based on, adPreferencesLink: link to privacy settings'),{adPreferencesLink:(0,g.jsx)(u.Z,{id:"ad-reasons-review-ad-preferences",children:(0,g.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(l.rU,{display:"inline",href:`${h.C0}${p.Gx}`,onClick:()=>{j({event_type:101,component:13756,element:13401})},target:"blank",underline:"hover",children:O._('Review your ad preferences', 'app.common.react.components.PinRep.components.AdReasonsModal.adPreferencesLink', 'Privacy settings link')})},"ad-reasons-review-ad-preferences")})})})}),(0,g.jsx)(l.xu,{marginBottom:4,children:(0,g.jsx)(l.xv,{children:(0,_.nk)(O._('For more about how we collect and use data, {{ privacyPolicyLink }}', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyText', 'Text explaining how we collect and use data, privacyPolicyLink: link to privacy policy'),{privacyPolicyLink:(0,g.jsx)(u.Z,{id:"ad-reasons-privacy-policy",children:(0,g.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(l.rU,{display:"inline",href:p.R_,onClick:()=>{j({event_type:101,component:13756,element:13402})},target:"blank",underline:"hover",children:O._('read our Privacy Policy', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyLink', 'Privacy policy link for reading how data is collected and used')})},"ad-reasons-privacy-policy")})})})}),(0,g.jsx)(l.xu,{marginBottom:4,children:(0,g.jsx)(l.xv,{children:(0,_.nk)(O._('To stop seeing content from an advertiser, {{ blockAccounts }}', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyText', 'Text explaining how to block an advertiser profile, blockAccounts: link to how to block accounts'),{blockAccounts:(0,g.jsx)(u.Z,{id:"ad-reasons-block-accounts",children:(0,g.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(l.rU,{display:"inline",href:p.K_,onClick:()=>{j({event_type:101,component:13756,element:12058})},target:"blank",underline:"hover",children:O._('learn how to block accounts', 'app.common.react.components.PinRep.components.AdReasonsModal.blockAccountLink', 'Link for how to block accounts')})},"ad-reasons-block-accounts")})})})})]})]})]})})}var x=n(525104);const b=4,S=e=>e._('Female', 'waista.modal.attribute.female', 'Gender attribute for female'),w=e=>e._('Male', 'waista.modal.attribute.male', 'Gender attribute for male'),T=e=>e._('Web', 'waista.modal.attribute.web', 'device attribute for web'),I=e=>e._('Mobile Web', 'waista.modal.attribute.mWeb', 'device attribute for mobile web');function A(e,i){return"FEMALE"===e?S(i):"MALE"===e?w(i):""}function E(e,i){return"AppType_WEB"===e||"AppType_WEB_DENZEL"===e?T(i):"AppType_WEB_MOBILE"===e?I(i):""}function R(e,i){var n;const{name:t=""}=null!==(n=e.find((e=>e.key===i)))&&void 0!==n?n:{};return t}function k({pinId:e,onDismiss:i}){var n,l,d,c,_;const{logContextEvent:p}=(0,o.v)(),{locale:u}=(0,a.B)(),{country:h=""}=(0,s.Z)(),m=(0,r.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),v=(0,r.Z)({name:"LocalesResource"}),f=(0,x.S6)()(e);(0,t.useEffect)((()=>{p({event_type:120,component:13756})}),[p]);const{ad_targeting_attribution:y,promoter:S}=null!=f?f:{},{is_customer_list_matched:w=!1,is_shopping_retargeting_matched:T=!1,is_actalike_matched:I=!1,is_engagement_matched:A=!1,is_expand_targeting_matched:E=!1,is_from_gps_location:k=!1,is_visitor_matched:C=!1,is_shopping_prospecting_matched:j=!1,is_pl_persona_matched:O=!1,matched_age_bucket:N="",matched_locale:D="",matched_interest:z="",matched_gender:B="",matched_device:L="",geo_region:M="",geo_postal_code:Z=""}=null!==(n=function(e=null,i=b){return e&&Object.keys(e).filter((i=>"boolean"==typeof e[i]||"string"==typeof e[i])).slice(0,i).reduce(((i,n)=>({...i,[n]:e[n]})),{})}(y))&&void 0!==n?n:{},G=null!==(l=null==S?void 0:S.full_name)&&void 0!==l?l:"",F=function(e,i){var n;const{name:t=""}=null!==(n=e.find((e=>e.key===i)))&&void 0!==n?n:{};return t}(null!==(d=m.data)&&void 0!==d?d:[],h),U=R(null!==(c=v.data)&&void 0!==c?c:[],u),V=null!==(_=null==S?void 0:S.username)&&void 0!==_?_:"";return(0,g.jsx)(P,{brandName:G,userName:V,country:F,language:U,ageBucketMatch:N,localeMatch:D,interestMatch:z,genderMatch:B,deviceMatch:L,isCustomerListMatched:w,isShoppingTargetingRematched:T,isActAlikeMatched:I,isEngagementMatched:A,isExpandTargetingMatched:E,isFromGPSLocation:k,isVisitorMatched:C,onDismiss:i,geoRegion:M,geoPostalCode:Z,isShoppingProspectingMatched:j,isPlPersonaMatched:O})}},833897:(e,i,n)=>{n.d(i,{Z:()=>p});var t=n(883119),o=n(830753),a=n(374749),r=n(388011),s=n(536042),l=n(599551),d=n(493851),c=n(347151),_=n(785893);function p({sizing:e="default",children:i,collageChipId:n,componentType:p,contextLogData:u,elementType:h,pin:m,viewParameter:g,viewType:v}){const f=(0,s.ZP)(),{logContextEvent:y}=(0,r.v)(),P=(0,c.E)(),{carousel_data:x,id:b}=m,S=!!m.promoted_is_lead_ad;let w,T=`/pin/${n||b}/`;const I=(0,o.Xx)();if(null!=I&&I.variantUrl&&(T=`/pin/${I.variantUrl}/`),x){const{carousel_slots:e=[],id:i,index:n=0}=x;T=`/pin/${b}/`,w={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:i,carousel_slot_index:n}}w={...w||{},...(0,a.Kl)(m,u)||{}};const A=(0,l.Z)({href:T,externalData:{auxData:w,pin:m}});return(0,_.jsx)(t.iP,{accessibilityLabel:(0,d.Z)(f._('{{ pinTitle }} pin page', 'pinRep.closeupLink.tapArea.accessibilityLabel', 'Accessibility label with pin title on individual links'),{pinTitle:m.grid_title||m.title||m.description||""}),mouseCursor:"zoomIn",rounding:2,onTap:({event:e,dangerouslyDisableOnNavigation:i})=>{var n,t;i(),S?(y({event_type:8948,view_type:v||P.viewType,view_parameter:g||P.viewParameter,component:null,object_id_str:m.id,aux_data:{closeup_navigation_type:"click",lead_form_id:null===(n=m.promoted_lead_form)||void 0===n?void 0:n.lead_form_id,is_lead_ad:1}}),y({event_type:12,view_type:v||P.viewType,view_parameter:g||P.viewParameter,component:null,object_id_str:m.id,aux_data:{lead_form_id:null===(t=m.promoted_lead_form)||void 0===t?void 0:t.lead_form_id,is_lead_ad:1,...(0,a.Kl)(m)||{}}})):(y({event_type:101,component:p||P.componentType,element:h,object_id_str:b,view_type:v||P.viewType,view_parameter:g||P.viewParameter,aux_data:{...u,...(0,a.Kl)(m,u)||{}}}),y({event_type:8948,view_type:v||P.viewType,view_parameter:g||P.viewParameter,component:p||P.componentType,element:h,object_id_str:b,aux_data:{closeup_navigation_type:"click",...u,...(0,a.Kl)(m,u)||{}}})),A({event:e})},fullWidth:"fullSize"===e,fullHeight:"fullSize"===e,href:T,role:"link",children:i})}},946543:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(883119),o=n(785893);function a({children:e,additionalStyles:i={}}){return(0,o.jsx)(t.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...i}},"data-test-id":"contentLayer",children:e})}},520333:(e,i,n)=>{n.d(i,{Z:()=>b});var t=n(667294),o=n(616550),a=n(802071),r=n(883119),s=n(604094),l=n(633917),d=n(643183),c=n(806681),_=n(970588),p=n(536042),u=n(63262),h=n(550140),m=n(785893);function g(e){const i=(0,p.ZP)(),{onHide:n}=e,t=(0,m.jsx)(r.xv,{children:i._('Thank you for helping improve signal detection on Pinterest!', 'pinRep.actionBar.signalDetector.toast', 'Toast text displayed when a user submits a signal for review')});return(0,m.jsx)(h.ZP,{onHide:n,text:t})}const v=function({anchor:e,onDismiss:i,pinId:n,signals:o}){const s=(0,p.ZP)(),[l,d]=(0,t.useState)(0),c=(0,a.Z)(),{showOneToast:h}=(0,u.F9)();if(!c.isEmployee)return null;const v=o.map((({signal_message:e})=>({href:"#",text:null!=e?e:""}))),{background_color:f,icon_url:y,signal_id:P,signal_message:x}=o[l];return(0,m.jsx)(r.mh,{children:(0,m.jsx)(r.J2,{anchor:e,idealDirection:"right",onDismiss:i,positionRelativeToAnchor:!1,size:"lg",children:(0,m.jsxs)(r.xu,{padding:4,width:"100%",children:[o.length>1&&(0,m.jsx)(r.xu,{overflow:"scrollX",padding:1,marginBottom:4,children:(0,m.jsx)(r.mQ,{activeTabIndex:l,onChange:({event:e,activeTabIndex:i,dangerouslyDisableOnNavigation:n})=>{n(),(({activeTabIndex:e,event:i})=>{i.preventDefault(),d(e)})({activeTabIndex:i,event:e})},tabs:v})}),(0,m.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,m.jsx)(r.X6,{size:"400",children:s._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,m.jsx)(r.xu,{paddingY:3,children:(0,m.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,m.jsx)(r.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:y?(0,m.jsx)(r.Ee,{alt:s._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:y}):(0,m.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:f}},height:40,width:40})}),(0,m.jsx)(r.xv,{size:"200",children:x})]})}),(0,m.jsx)(r.xu,{marginBottom:3,children:(0,m.jsx)(r.xv,{size:"200",children:s._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,m.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,m.jsx)(r.zx,{fullWidth:!0,color:"red",size:"md",text:s._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review'),onClick:()=>{(0,_.Z)({url:`/v3/pins/${n}/signal_request_review/`,method:"POST",data:{signal_id:P,user:c.id}}),i(),h((({hideToast:e})=>(0,m.jsx)(g,{onHide:e})))}}),(0,m.jsx)(r.zx,{fullWidth:!0,color:"gray",size:"md",text:s._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel'),onClick:i})]})]})})})};function f({signals:e,pinId:i}){const{background_color:n,icon_url:o,signal_message:a}=e[0],[_,p]=(0,t.useState)(!1),u=(0,t.useRef)();return(0,m.jsxs)(t.Fragment,{children:[(0,m.jsx)(s.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,m.jsx)(d.Z,{children:(0,m.jsx)(r.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,m.jsx)(l.Z,{children:(0,m.jsx)(c.q,{children:({hovered:e,onMouseEnter:i,onMouseLeave:t})=>(0,m.jsx)(r.iP,{onTap:()=>p((e=>!e)),rounding:"pill",onMouseEnter:i,onMouseLeave:t,children:(0,m.jsxs)(r.xu,{color:e?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:u,children:[(0,m.jsx)(r.xu,{display:"flex",width:24,height:24,rounding:"circle",color:"default",marginEnd:1,justifyContent:"center",alignItems:"center",children:(0,m.jsx)(r.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,m.jsx)(r.Ee,{alt:"",color:n,src:null!=o?o:"",naturalHeight:1,naturalWidth:1})})}),(0,m.jsx)(r.xv,{color:"inverse",size:"200",weight:"bold",children:a})]})})})})})})}),_&&u&&u.current&&(0,m.jsx)(v,{anchor:u.current,onDismiss:()=>p(!1),pinId:i,signals:e})]})}const y=({signal:e,anchor:i,setShowFlyout:n,setStore:t})=>{var o;const{hovered:a,onMouseEnter:s,onMouseLeave:l}=(0,c.Z)();return(0,m.jsx)(r.iP,{onTap:()=>(e=>{n((e=>!e)),t(e)})(e),rounding:"pill",onMouseEnter:s,onMouseLeave:l,children:(0,m.jsxs)(r.xu,{color:a?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:i,children:[(0,m.jsx)(r.xu,{display:"flex",minWidth:24,height:24,rounding:"circle",marginEnd:1,color:"default",justifyContent:"center",alignItems:"center",children:(0,m.jsx)(r.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,m.jsx)(r.Ee,{alt:"",color:e.background_color,src:null!==(o=e.icon_url)&&void 0!==o?o:"",naturalHeight:1,naturalWidth:1})})}),(0,m.jsx)(r.xv,{color:"inverse",size:"200",weight:"bold",children:e.signal_message})]})})};const P=function({anchor:e,onDismiss:i,pinId:n,signal:t}){const o=(0,p.ZP)(),s=(0,a.Z)(),{showOneToast:l}=(0,u.F9)();if(!s.isEmployee)return null;const{background_color:d,icon_url:c,signal_id:h,signal_message:v}=t;return(0,m.jsx)(r.mh,{children:(0,m.jsx)(r.J2,{anchor:e,idealDirection:"right",onDismiss:i,positionRelativeToAnchor:!1,size:"lg",children:(0,m.jsxs)(r.xu,{padding:4,width:"100%",children:[(0,m.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,m.jsx)(r.X6,{size:"400",children:o._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,m.jsx)(r.xu,{paddingY:3,children:(0,m.jsxs)(r.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,m.jsx)(r.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:c?(0,m.jsx)(r.Ee,{alt:o._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:c}):(0,m.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:d}},height:40,width:40})}),(0,m.jsx)(r.xv,{size:"200",children:v})]})}),(0,m.jsx)(r.xu,{marginBottom:3,children:(0,m.jsx)(r.xv,{size:"200",children:o._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,m.jsxs)(r.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,m.jsx)(r.zx,{fullWidth:!0,color:"red",size:"md",text:o._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review'),onClick:()=>{(0,_.Z)({url:`/v3/pins/${n}/signal_request_review/`,method:"POST",data:{signal_id:h,user:s.id}}),i(),l((({hideToast:e})=>(0,m.jsx)(g,{onHide:e})))}}),(0,m.jsx)(r.zx,{fullWidth:!0,color:"gray",size:"md",text:o._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel'),onClick:i})]})]})})})};function x({signals:e,pinId:i}){const[n,o]=(0,t.useState)(!1),a=(0,t.useRef)(null),[c,_]=(0,t.useState)(e[0]);return(0,m.jsxs)(t.Fragment,{children:[(0,m.jsx)(s.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,m.jsx)(d.Z,{children:(0,m.jsx)(r.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,m.jsx)(l.Z,{children:(0,m.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",children:e.map((e=>(0,m.jsx)(r.xu,{marginEnd:2,children:(0,m.jsx)(y,{signal:e,anchor:a,setShowFlyout:o,setStore:_})},e.signal_id)))})})})})}),n&&(0,m.jsx)(P,{anchor:a.current,onDismiss:()=>o(!1),pinId:i,signal:c})]})}function b({pin:e}){const i=(0,a.Z)(),{search:n}=(0,o.useLocation)(),r=(0,t.useMemo)((()=>new URLSearchParams(n)),[n]);if(!i.isEmployee)return null;const{id:s,deb_ads:l,deb_content_quality:d,deb_inclusive_product:c,deb_shopping:_,deb_trust_and_safety:p}=e;if(l)return(0,m.jsx)(f,{pinId:s,signals:l});if(d)return(0,m.jsx)(f,{pinId:s,signals:d});if(c){if("skin_tone"===r.get("type")){const e=c.filter((e=>"visual_signals_hair_pattern_v1"!==e.signal_id));return(0,m.jsx)(x,{pinId:s,signals:e})}{const e=c.filter((e=>"visual_body_analyses_v2_0"!==e.signal_id));return(0,m.jsx)(x,{pinId:s,signals:e})}}return _?(0,m.jsx)(f,{pinId:s,signals:_}):p?(0,m.jsx)(f,{pinId:s,signals:p}):null}},299402:(e,i,n)=>{n.d(i,{Z:()=>s});var t=n(883119),o=n(885669),a=n(785893);function r(e,i){return{hidden:{opacity:0,transition:i?`opacity ${i}ms ease`:void 0},visible:{opacity:1,transition:e?`opacity ${e}ms ease`:void 0}}}function s({children:e,fadeInDuration:i=0,fadeOutDuration:n=o.X,visibility:s}){return"none"!==s&&e?(0,a.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:r(i,n)[s]},children:e}):null}},126645:(e,i,n)=>{n.d(i,{ZP:()=>h});var t=n(667294),o=n(883119),a=n(388011),r=n(536042),s=n(649796),l=n(176172),d=n(946543),c=n(785893);const _={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:l.Oc,filter:"blur(10px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}}},p=["followed","related","search"],u=["pfy","pfyBoard"];function h({feedbackType:e,pin:i,hideContents:n=!1}){var h;const{logContextEvent:m}=(0,a.v)(),g=(0,r.ZP)(),[v,f]=(0,t.useState)(!1),[y,P]=(0,t.useState)(!1);(0,t.useEffect)((()=>f(!0)),[]);const x=()=>P(!0),{feedbackText:b,images:S,showFeedbackOverlay:w,undoAction:T}=i,I=S&&(null===(h=S["236x"])||void 0===h?void 0:h.url),{image:A,subTitle:E,title:R,unfollow:k}=null!=b?b:{},C=!p.includes(e),j=u.includes(e),O="Reported"===R,N=()=>{m({event_type:101,view_type:1,view_parameter:92,element:11347})};return(0,c.jsxs)(o.xu,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:l.Oc}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,c.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:l.Oc}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[I&&(0,c.jsx)(d.Z,{additionalStyles:{..._.background.base,...v?_.background.blurred:{},backgroundImage:`url("${I}")`}}),(0,c.jsx)(d.Z,{additionalStyles:{..._.backdrop.base,..._.backdrop.blurred}})]}),(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{..._.feedbackOverlayContainer.base,...!w&&v?_.feedbackOverlayContainer.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!n&&(0,c.jsx)(o.xu,{height:"100%",children:(0,c.jsxs)(o.xu,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[(0,c.jsx)(o.xu,{marginBottom:2,children:(0,c.jsx)(o.X6,{color:"light",size:"400",children:R})}),(0,c.jsxs)(o.xu,{display:"flex",marginBottom:1,children:[A&&(0,c.jsx)(o.xu,{marginEnd:3,children:(0,c.jsx)(o.zd,{width:A.width,height:A.height,rounding:2,wash:!0,children:(0,c.jsx)(o.Ee,{alt:E||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:A.url||""})})}),(0,c.jsx)(o.xv,{color:"light",overflow:"normal",children:E})]}),(0,c.jsxs)(t.Fragment,{children:[T&&!O&&(0,c.jsx)(o.xu,{children:(0,c.jsx)(o.iP,{onTap:T,children:(0,c.jsx)(o.xv,{color:"inverse",weight:"bold",overflow:"normal",children:g._('Undo', 'Text on the button to navigate to undo hiding a pin', 'Text on the button to navigate to undo hiding a pin')})})}),(0,c.jsxs)(o.xu,{marginTop:"auto",children:[!T&&!y&&k&&!j&&(0,c.jsx)(o.zx,{fullWidth:!0,color:"white",onClick:()=>(0,s.t)(k.action,k.actionOptions,x),text:g._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user')}),C&&(0,c.jsx)(o.zx,{role:"link",color:"white",fullWidth:!0,href:"/edit",onClick:N,text:g._('Tune your feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})]})]})]})})})]})}},181453:(e,i,n)=>{n.d(i,{Z:()=>_});var t=n(883119),o=n(388011),a=n(536042),r=n(649796),s=n(958083),l=n(325438),d=n(154522),c=n(785893);function _({anchor:e,feedbackData:i,feedbackType:n,pinId:_,onDismiss:p,onHide:u,recommendationReason:h,viewParameter:m,viewType:g}){const{logContextEvent:v}=(0,o.v)(),f=(0,a.ZP)(),y=(e,t)=>{const{action:o,actionOptions:a}=(0,l.Z)({feedbackData:i,feedbackType:n,pinId:_,recommendationReason:h&&{board:h.board&&{entityId:h.board.entityId},reasonId:h.reasonId,reason:h.reason,throughProperties:h.throughProperties},complaintReason:e});(e=>{v({event_type:101,view_type:g,view_parameter:m,element:e,component:(0,s.nb)(n)})})(t),(0,r.t)(o,a),u()},P="promoted"===n?[{text:f._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:f._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:11172},{text:f._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898}]:[{text:f._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:f._('Not in a language I understand', 'homefeed.hideReasons.reason.languageDontUnderstand', 'Feedback option for Pin that is in a language I dont understand'),reason:15,elementType:11178},{text:f._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:295},{text:f._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898},{text:f._('Other', 'homefeed.hideReasons.reason.other', 'Feedback option for Pin hidden for other reasons'),reason:8,elementType:11179}];return(0,c.jsx)(t.Lt,{anchor:e,idealDirection:"down",onDismiss:p,zIndex:d.lI,id:"pin-action-dropdown",children:(0,c.jsx)(t.Lt.Section,{label:f._('Got a moment? Tell us why.', 'homefeed.hideReasons.title', 'Title of follow up question after negative Pin feedback'),children:P.map((({text:e,reason:i,elementType:n})=>(0,c.jsx)(t.Lt.Item,{onSelect:()=>y(i,n),option:{value:`hide-reason-${e.split(" ").join("-")}`,label:e},dataTestId:`hide-reason-${e.split(" ").join("-")}`})))})})}},87663:(e,i,n)=>{n.d(i,{Z:()=>u});var t=n(667294),o=n(294184),a=n.n(o),r=n(883119),s=n(536042),l=n(874261),d=n(51536),c=n(28630),_=n(785893);class p extends t.Component{constructor(...e){var i,n,t;super(...e),t={showBoardName:!1},(n="state")in(i=this)?Object.defineProperty(i,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[n]=t}componentDidMount(){this.timer=setTimeout((()=>{this.setState({showBoardName:!0})}),950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isDenseView:i,isNewlySaved:n,name:o,shouldUseLegoStyles:s,type:p,url:u}=this.props;if(s&&i)return null;const h="boardless"===p?this.props.i18n._('Saved to Profile', 'Saved.render.title', 'Text indicating saved to your profile'):o;let m,g;if(!n||e||s){const e=s?(0,_.jsx)(r.xv,{color:"inverse",size:"300",weight:"bold",children:h.length<=20?h:(0,d.Z)(h,20)}):(0,_.jsx)(r.X6,{color:"inverse",size:"400",lineClamp:1,children:h}),i=(0,c.Z)({url:u})?"nofollow":"none";m=u?(0,_.jsx)(r.rU,{rel:i,href:u,children:e}):e}else m=(0,_.jsx)(r.xv,{color:"inverse",children:(0,_.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._('Saved!', 'Indication that a pin has been saved', 'Indication that a pin has been saved')})});return n&&(g=e?"board":"saved"),(0,_.jsxs)(t.Fragment,{children:[(0,_.jsx)(l.Z,{unsafeCSS:"\n.SavedAnimation {\n  &.saved {\n    animation: SavedAnimation--down-then-right 1s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n\n  &.board {\n    animation: SavedAnimation--to-right 0.12s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n}\n\n@keyframes SavedAnimation--down-then-right {\n  0% {\n    opacity: 0;\n    transform: translateY(-24px);\n  }\n\n  33% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  80% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  100% {\n    opacity: 0;\n    transform: translateX(24px);\n  }\n}\n\n@keyframes SavedAnimation--to-right {\n  from {\n    opacity: 0;\n    transform: translateX(-16px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n"}),(0,_.jsx)("div",{"data-test-id":"savedInfo",className:!s&&a()("SavedAnimation",g),children:m})]})}}const u=function(e){const i=(0,s.ZP)();return(0,_.jsx)(p,{...e,i18n:i})}},159262:(e,i,n)=>{n.d(i,{Z:()=>o});var t=n(958083);function o({feedbackType:e,viewParameter:i,boardFollowedByMe:n,hasPromoter:o,isDownstreamPromotion:a,pinnerFollowedByMe:r,hasRecommendationReason:s,recommendationReasonHasBoard:l,recommendationReasonReason:d}){return(0,t.hP)({boardFollowedByMe:n,feedbackType:e,promotion:o?{isDownstreamPromotion:a}:void 0,pinnerFollowedByMe:r,recommendationReason:s?{hasBoard:l,reason:d}:void 0,viewParameter:i})}},981628:(e,i,n)=>{n.d(i,{W:()=>s,Z:()=>l});var t=n(883119),o=n(536042),a=n(785893);const r={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},s={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function l({isCloseupButton:e,isDisabled:i,isFavorited:n,onTap:l,size:d}){const c=(0,o.ZP)();return e?(0,a.jsx)(t.hU,{accessibilityLabel:c._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),dangerouslySetSvgPath:n?s:r,disabled:i,iconColor:"darkGray",onClick:l,size:"lg"}):(0,a.jsx)(t.iP,{disabled:i,onTap:l,children:(0,a.jsx)(t.JO,{accessibilityLabel:c._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),color:"default",dangerouslySetSvgPath:n?s:r,size:d})})}},924255:(e,i,n)=>{function t(e){const i=e.split("/");return[i[2],i[1]]}function o(e,i){return!e||!e.some((e=>e.pin_type===i))}n.d(i,{E:()=>o,J:()=>t})},105848:(e,i,n)=>{n.d(i,{Z:()=>h});var t=n(883119),o=n(536042),a=n(734417),r=n(630089),s=n(31407),l=n(282802),d=n(846226),c=n(458870),_=n(785893);const p=({rating:e,textSize:i,type:n})=>{if("single"===n){const n=parseFloat(e);return Number.isNaN(n)?null:(0,_.jsxs)(t.kC,{alignItems:"center",children:[(0,_.jsx)(s.A,{fill:"full",width:12}),(0,_.jsx)(t.xv,{size:i,children:n.toFixed(1)})]})}return(0,_.jsx)(s.Z,{rating:e,width:12})},u=({bracket:e,count:i,countFormat:n,countType:s,marginStart:c,textSize:p,underline:u})=>{const{locale:h}=(0,l.B)(),m=(0,o.ZP)(),g=(0,a.Z)();if(null==i)return null;let v=g(h,i,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===n){const e="review"===s?m.ngettext('{{ count }} review', '{{ count }} reviews', i, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total reviews count'):m.ngettext('{{ count }} rating', '{{ count }} ratings', i, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total ratings count');v=(0,r.nk)(e,{count:i}).join("")}return e&&(v=`(${v})`),(0,_.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:u?"1px solid gray":"none"}},marginStart:c,children:(0,_.jsx)(t.xv,{color:u?"subtle":"default",size:p,underline:u,children:(0,_.jsx)(d.Z,{id:"ratings-count-text",display:"inlineBlock",children:v})})})};function h({bracket:e,count:i,countFormat:n,countType:o,rating:a,textSize:r,underline:s}){return(0,c.Z)({count:i,rating:a})?(0,_.jsxs)(t.kC,{alignItems:"center",justifyContent:"start",children:[(0,_.jsx)(p,{rating:a,textSize:r,type:"multiple"}),(0,_.jsx)(u,{bracket:e,count:i,countFormat:n,countType:o,textSize:r,underline:s})]}):null}},458870:(e,i,n)=>{function t({count:e,rating:i}){return Boolean(i&&"None"!==i&&Number.isFinite(e))}n.d(i,{Z:()=>t})},462887:(e,i,n)=>{n.d(i,{Z:()=>d,j:()=>l});var t=n(883119),o=n(536042),a=n(630089),r=n(245410),s=n(785893);const l=[0,2,3];function d({hasAffiliateProducts:e,href:i,isPromoted:n,onNavigateSponsorClick:d,sponsorName:c,sponsorUsername:_,sponsorshipStatus:p,textWeight:u="bold"}){const h=(0,o.ZP)(),m=(0,r.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,g=(0,r.F)().checkExperiment("web_remove_paid_partnership_in_rejected_state").anyEnabled,v=i||(_?`/${_}/`:null),f=v&&c?(0,s.jsx)(t.rU,{href:v,onClick:d,children:(0,s.jsx)(t.xv,{weight:u,size:"200",children:c})},c):void 0;let y;n?y=(0,a.nk)(h._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:f}):p||0===p?c&&!l.includes(p)?y=(0,a.nk)(h._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:f}):g&&2===p||(y=h._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(y=h._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));const P=m&&!n?"Ad • ":"";return(0,s.jsxs)(t.xv,{inline:!0,size:"200",lineClamp:2,children:[P,y]})}},27991:(e,i,n)=>{n.d(i,{Nb:()=>s,Of:()=>l,YO:()=>r,ZP:()=>_,x4:()=>c});var t=n(667294),o=n(310646),a=n(578702);const r=({showProductDetailPage:e,isLargerPane:i,showCloseupContentRight:n})=>e&&i?n?a.Uj:a.zT:1,s=(0,o.qe)((({paneWidth:e,pdpCarouselSlotToPaneRatio:i,showCloseupContentRight:n,showProductDetailPage:t,viewportSize:o,maxWidth:a,descriptionPaneWidth:r})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:i,showCloseupContentRight:n,showProductDetailPage:t,viewportSize:o,maxWidth:a,descriptionPaneWidth:r}))),l={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:a.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:a.u6,descriptionPaneWidth:a.u6-a.Gg},d=(0,t.createContext)(l);function c(){const e=(0,t.useContext)(d);if(!e)throw new Error("useCloseupContext must be used within CloseupContextProvider");return e}const _=d},578702:(e,i,n)=>{n.d(i,{$T:()=>g,CI:()=>a,Ch:()=>s,Gb:()=>l,Gg:()=>t,Ie:()=>p,KP:()=>u,Kn:()=>r,Uj:()=>d,bx:()=>h,d2:()=>_,g9:()=>m,iB:()=>v,u6:()=>o,zT:()=>c});const t=508,o=2*t,a=488,r=992,s=672,l=1176,d=.6,c=.84,_=40,p=72,u=740,h=912,m=32,g=24,v={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},251951:(e,i,n)=>{n.d(i,{R:()=>a,q:()=>o});var t=n(583592);const{Provider:o,useHook:a}=(0,t.Z)("CloseupPageContext")},979275:(e,i,n)=>{n.d(i,{Z:()=>s});var t=n(883119),o=n(536042),a=n(282802),r=n(785893);const s=({onSendButtonClick:e,trackShareTap:i,color:n,size:s,bgColor:l})=>{const d=(0,o.ZP)(),{userAgent:{platform:c}}=(0,a.B)(),_="android"===c;return(0,r.jsx)(t.hU,{accessibilityLabel:d._('Send', 'Board.Pin.SendButton', 'Accessible label for button to send a pin or a board'),onClick:({event:n})=>{e(n),i()},size:s||"lg",bgColor:l||"transparent",iconColor:n||"darkGray",icon:_?"android-share":"share"})}},925428:(e,i,n)=>{n.r(i),n.d(i,{default:()=>h});var t=n(702664),o=n(883119),a=n(572559),r=n(374749),s=n(388011),l=n(27991),d=n(533451),c=n(525104),_=n(785893);const p=(e,i,n,t=0,o,a,s,l,d,c,_)=>{if(!_){const{carousel_slots:_,id:p}=a;e({event_type:108,object_id_str:n,component:d,view_type:l,view_parameter:s,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==_?void 0:_[t])&&Number(_[t].id),carouselDataId:Number(p),carouselSlotIndex:t,toCarouselSlotIndex:o}},aux_data:{...c,...(0,r.Kl)(i)||{}}})}},u=8;function h({carouselData:e,carouselIndex:i,componentType:n,contextLogData:r,handleCarouselSwipe:h,isCloseup:m,isEditMode:g,pinId:v,viewParameter:f,viewType:y,variant:P}){const{logContextEvent:x}=(0,s.v)(),b=(0,c.S6)()(v),S=e||(0,a.Z)({carouselData:null==b?void 0:b.carousel_data,images:null==b?void 0:b.images,richMetadata:null==b?void 0:b.rich_metadata,richSummary:null==b?void 0:b.rich_summary}),w=(0,t.useDispatch)();if(!S)return null;const{carousel_slots:T=[],index:I}=S,A=void 0!==i?i:I,E="default"===P,R=E?"white":"#555",k=E?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,_.jsx)(l.ZP.Consumer,{children:({viewportSize:e})=>"sm"===e?null:(0,_.jsx)(o.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:m?"end":"center",paddingY:g?1:0,children:[...Array(T.length).keys()].map((e=>{var i;return(0,_.jsx)(o.xu,{paddingX:1,children:(0,_.jsx)(o.iP,{accessibilityLabel:null!==(i=T[e].title)&&void 0!==i?i:"",fullWidth:!1,onTap:({event:i})=>((e,i,t)=>{g||void 0===d.yR||(e.preventDefault(),e.stopPropagation(),w((0,d.yR)(String(v),t))),void 0!==h&&h(t),p(x,b,v,i,t,S,f,y,n,r,g)})(i,A,e),rounding:"circle",children:(0,_.jsx)(o.xu,{"data-test-id":"ellipsis-size",height:u,width:u,dangerouslySetInlineStyle:{__style:{backgroundColor:e===A?R:k}},rounding:"circle"})})},v+e)}))})})}},449879:(e,i,n)=>{n.d(i,{ZP:()=>s,tY:()=>d,Yh:()=>l});var t=n(702664),o=n(819079),a=n(802071);const r={SAVE_TO_PROFILE:0,SHOW_BOARD_PICKER:1};function s(e){var i;const n=(0,a.Z)(),t=n.isAuth&&n.id===e,r=(0,o.Z)(!n.isAuth||t?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}});return{showEnabledSaveBehavior:t&&n.has_quicksave_board||!(!n.isAuth||null===(i=(null!=r?r:{}).data)||void 0===i||!i.has_quicksave_board)}}function l(e){var i;const n=(0,t.useDispatch)(),r=(0,a.Z)(),s=r.isAuth&&!!r.boardCount&&r.boardCount<5&&e,l=(0,o.Z)(s&&e?{name:"UserResource",options:{field_set_key:"save_behavior",user_id:r.isAuth&&r.id}}:null);return r.isAuth&&void 0===r.save_behavior&&l&&null!==(i=l.data)&&void 0!==i&&i.id&&n({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:l.data.save_behavior}}),{showEnabledSaveBehavior:s}}function d(e){const i=(0,a.Z)();let n;return e&&(i.save_behavior===r.SAVE_TO_PROFILE?n={type:"classic"}:i.save_behavior===r.SHOW_BOARD_PICKER&&(n={type:"inline"})),{saveBehaviorType:n}}},838419:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(616550),o=n(819079);function a(){const{username:e}=(0,t.useParams)();return(0,o.Z)(null==e?null:{name:"UserResource",options:{username:e,field_set_key:"profile"}})}},533451:(e,i,n)=>{function t(e,i){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:i}}}function o(e,i){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:i}}}function a(e,i,n,t,o){return{type:"PIN_SAVE",payload:{id:e,boardId:i,title:n,url:t,localPinId:o}}}function r(e){return{type:"PIN_UNSAVE",payload:{id:e}}}function s(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function l({id:e,text:i,undoAction:n,undoActionOptions:t,undoText:o}){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:i,undoAction:n,undoActionOptions:t,undoText:o}}}function d(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function c(e,i){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:i}}}function _(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function p(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function u(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function h(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}n.d(i,{Gb:()=>r,I1:()=>d,Ib:()=>_,NA:()=>l,Ur:()=>a,Vw:()=>s,b9:()=>u,i0:()=>p,mO:()=>o,q1:()=>c,yR:()=>t,yj:()=>h})},755040:(e,i,n)=>{n.d(i,{k:()=>a,s:()=>r});var t=n(667294);const o=(0,t.createContext)(Object.freeze({})),a=o.Provider;function r(){return(0,t.useContext)(o)}},385929:(e,i,n)=>{n.d(i,{Ac:()=>a,c7:()=>o,cg:()=>t});const t=-1,o=5,a=6},196039:(e,i,n)=>{n.d(i,{Ai:()=>T,B5:()=>h,CR:()=>c,Cc:()=>r,HG:()=>x,R_:()=>l,Wz:()=>s,_P:()=>P,dX:()=>S,f5:()=>g,gx:()=>_,h8:()=>o,hk:()=>d,lp:()=>v,lt:()=>u,oe:()=>b,r4:()=>y,rM:()=>w,tD:()=>p});var t=n(883119);const o={GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},a={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},r={...a,font:{default_size:28,letter_spacing:-.4,line_height:1.25,name:"Graphik Regular",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Regular.otf"},font_size:28},s={...a,font:{default_size:48,letter_spacing:0,line_height:1,name:"Graphik Bold Italic",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Bold-Italic.otf"},font_size:48},l=64,d=64,c=48,_=48,p=new t.Ry(5),u=new t.H3([p]),h=new t.H3([u]),m=new t.H3([p]),g=new t.H3([m,new t.Ry(1)]),v=new t.H3([m]),f=2,y=4;function P(e){return e?{paddingX:0,paddingY:0}:{paddingX:f,paddingY:y}}const x=6,b=47,S=8,w=4,T=5}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/11671-58917dd40fa40cf1.mjs.map