(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[14865,97776,86058,92553,76373,72437,697,14716,58436,40006,24321,65460,41924,15071,54411],{240684:(e,t,n)=>{n.d(t,{TA:()=>k,ZP:()=>C});var i=n(667294),a=n(263366),r=n(487462),o=n(497326),l=n(875068),s=n(659864),c=n(108679),d=n.n(c);function u(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}function p(e){console.warn("loadable: "+e)}var h=i.createContext(),m="__LOADABLE_REQUIRED_CHUNKS__";function _(e){return""+e+m}var g={initialChunks:{}},y="PENDING",v="REJECTED";var f=function(e){return e};function x(e){var t=e.defaultResolveComponent,n=void 0===t?f:t,c=e.render,p=e.onLoad;function m(e,t){void 0===t&&(t={});var m=function(e){return"function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),_={};function f(e){return t.cacheKey?t.cacheKey(e):m.resolve?m.resolve(e):"static"}function x(e,i,a){var r=t.resolveComponent?t.resolveComponent(e,i):n(e);if(t.resolveComponent&&!(0,s.isValidElementType)(r))throw new Error("resolveComponent returned something that is not a React component!");return d()(a,r,{preload:!0}),r}var b,w=function(e){function n(n){var i;return(i=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:f(n)},u(!n.__chunkExtractor||m.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?(!1===t.ssr||(m.requireAsync(n).catch((function(){return null})),i.loadSync(),n.__chunkExtractor.addChunk(m.chunkName(n))),(0,o.Z)(i)):(!1!==t.ssr&&(m.isReady&&m.isReady(n)||m.chunkName&&g.initialChunks[m.chunkName(n)])&&i.loadSync(),i)}(0,l.Z)(n,e),n.getDerivedStateFromProps=function(e,t){var n=f(e);return(0,r.Z)({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var i=n.prototype;return i.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===v&&this.setCache(),this.state.loading&&this.loadAsync()},i.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},i.componentWillUnmount=function(){this.mounted=!1},i.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},i.getCacheKey=function(){return f(this.props)},i.getCache=function(){return _[this.getCacheKey()]},i.setCache=function(e){void 0===e&&(e=void 0),_[this.getCacheKey()]=e},i.triggerOnLoad=function(){var e=this;p&&setTimeout((function(){p(e.state.result,e.props)}))},i.loadSync=function(){if(this.state.loading)try{var e=x(m.requireSync(this.props),this.props,S);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:m.resolve(this.props),chunkName:m.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},i.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var n=x(t,e.props,{Loadable:S});e.safeSetState({result:n,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},i.resolveAsync=function(){var e=this,t=this.props,n=(t.__chunkExtractor,t.forwardedRef,(0,a.Z)(t,["__chunkExtractor","forwardedRef"])),i=this.getCache();return i||((i=m.requireAsync(n)).status=y,this.setCache(i),i.then((function(){i.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:m.resolve(e.props),chunkName:m.chunkName(e.props),error:t?t.message:t}),i.status=v}))),i},i.render=function(){var e=this.props,n=e.forwardedRef,i=e.fallback,o=(e.__chunkExtractor,(0,a.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),l=this.state,s=l.error,d=l.loading,u=l.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===y)throw this.loadAsync();if(s)throw s;var p=i||t.fallback||null;return d?p:c({fallback:p,result:u,options:t,props:(0,r.Z)({},o,{ref:n})})},n}(i.Component),P=(b=w,function(e){return i.createElement(h.Consumer,null,(function(t){return i.createElement(b,Object.assign({__chunkExtractor:t},e))}))}),S=i.forwardRef((function(e,t){return i.createElement(P,Object.assign({forwardedRef:t},e))}));return S.preload=function(e){m.requireAsync(e)},S.load=function(e){return m.requireAsync(e)},S}return{loadable:m,lazy:function(e,t){return m(e,(0,r.Z)({},t,{suspense:!0}))}}}var b=x({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return i.createElement(t,n)}}),w=b.loadable,P=b.lazy,S=x({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),T=S.loadable,I=S.lazy,A="undefined"!=typeof window;function k(e,t){void 0===e&&(e=function(){});var n=(void 0===t?{}:t).namespace,i=void 0===n?"":n;if(!A)return p("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var a=null;if(A){var r=_(i),o=document.getElementById(r);if(o){a=JSON.parse(o.textContent);var l=document.getElementById(r+"_ext");if(!l)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(l.textContent).namedChunks.forEach((function(e){g.initialChunks[e]=!0}))}}if(!a)return p("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var s=!1;return new Promise((function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,n=t.push.bind(t);function i(){a.every((function(e){return t.some((function(t){return t[0].indexOf(e)>-1}))}))&&(s||(s=!0,e()))}t.push=function(){n.apply(void 0,arguments),i()},i()})).then(e)}var E=w;E.lib=T,P.lib=I;const C=E},294184:(e,t)=>{var n;!function(){var i={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)&&n.length){var o=a.apply(null,n);o&&e.push(o)}else if("object"===r)for(var l in n)i.call(n,l)&&n[l]&&e.push(l)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},701305:e=>{var t=[],n=[];function i(e,t,n,a){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if("object"!=typeof e||"object"!=typeof t)return!1;var r=Object.prototype.toString,o=r.call(e);if(o!=r.call(t))return!1;switch(o){case"[object String]":return e==String(t);case"[object Number]":return!isNaN(e)&&!isNaN(t)&&e==Number(t);case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}for(var l=n.length;l--;)if(n[l]==e)return a[l]==t;n.push(e),a.push(t);var s=0;if("[object Array]"===o){if((s=e.length)!==t.length)return!1;for(;s--;)if(!i(e[s],t[s],n,a))return!1}else{if(e.constructor!==t.constructor)return!1;if(e.hasOwnProperty("valueOf")&&t.hasOwnProperty("valueOf"))return e.valueOf()==t.valueOf();var c=Object.keys(e);if(c.length!=Object.keys(t).length)return!1;for(var d=0;d<c.length;d++)if(!i(e[c[d]],t[c[d]],n,a))return!1}return n.pop(),a.pop(),!0}e.exports=function(e,a){var r=t.length?t.pop():[],o=n.length?n.pop():[],l=i(e,a,r,o);return r.length=0,o.length=0,t.push(r),n.push(o),l}},60139:e=>{function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},663620:(e,t,n)=>{var i=n(60139);e.exports=i},538282:e=>{e.exports="https://s.pinimg.com/webapp/handle_bottom_left-80eb8fea.svg"},129261:e=>{e.exports="https://s.pinimg.com/webapp/handle_bottom_right-61aecc74.svg"},346184:e=>{e.exports="https://s.pinimg.com/webapp/handle_top_left-892a69ad.svg"},136880:e=>{e.exports="https://s.pinimg.com/webapp/handle_top_right-ee54bc08.svg"},108679:(e,t,n)=>{var i=n(121296),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function s(e){return i.isMemo(e)?o:l[e.$$typeof]||a}l[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[i.Memo]=o;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,i){if("string"!=typeof n){if(m){var a=h(n);a&&a!==m&&e(t,a,i)}var o=d(n);u&&(o=o.concat(u(n)));for(var l=s(t),_=s(n),g=0;g<o.length;++g){var y=o[g];if(!(r[y]||i&&i[y]||_&&_[y]||l&&l[y])){var v=p(n,y);try{c(t,y,v)}catch(f){}}}}return t}},396103:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.memo"):60115,_=n?Symbol.for("react.lazy"):60116;function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case u:case r:case l:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case s:return e;default:return t}}case _:case m:case a:return t}}}function y(e){return g(e)===u}t.typeOf=g,t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=s,t.Element=i,t.ForwardRef=p,t.Fragment=r,t.Lazy=_,t.Memo=m,t.Portal=a,t.Profiler=l,t.StrictMode=o,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===u||e===l||e===o||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===_||e.$$typeof===m||e.$$typeof===s||e.$$typeof===c||e.$$typeof===p)},t.isAsyncMode=function(e){return y(e)||g(e)===d},t.isConcurrentMode=y,t.isContextConsumer=function(e){return g(e)===c},t.isContextProvider=function(e){return g(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return g(e)===p},t.isFragment=function(e){return g(e)===r},t.isLazy=function(e){return g(e)===_},t.isMemo=function(e){return g(e)===m},t.isPortal=function(e){return g(e)===a},t.isProfiler=function(e){return g(e)===l},t.isStrictMode=function(e){return g(e)===o},t.isSuspense=function(e){return g(e)===h}},121296:(e,t,n)=>{e.exports=n(396103)},562705:(e,t,n)=>{var i=n(555639).Symbol;e.exports=i},896874:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},228483:(e,t,n)=>{var i=n(225063)();e.exports=i},644239:(e,t,n)=>{var i=n(562705),a=n(789607),r=n(902333),o=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):r(e)}},105976:(e,t,n)=>{var i=n(406557),a=n(545357),r=n(430061);e.exports=function(e,t){return r(a(e,t,i),e+"")}},356560:(e,t,n)=>{var i=n(575703),a=n(538777),r=n(406557),o=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:r;e.exports=o},727561:(e,t,n)=>{var i=n(567990),a=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(a,""):e}},225063:e=>{e.exports=function(e){return function(t,n,i){for(var a=-1,r=Object(t),o=i(t),l=o.length;l--;){var s=o[e?l:++a];if(!1===n(r[s],s,r))break}return t}}},538777:(e,t,n)=>{var i=n(610852),a=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},431957:(e,t,n)=>{var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=i},789607:(e,t,n)=>{var i=n(562705),a=Object.prototype,r=a.hasOwnProperty,o=a.toString,l=i?i.toStringTag:void 0;e.exports=function(e){var t=r.call(e,l),n=e[l];try{e[l]=void 0;var i=!0}catch(s){}var a=o.call(e);return i&&(t?e[l]=n:delete e[l]),a}},816612:(e,t,n)=>{var i=n(977813),a=n(498612),r=n(565776),o=n(513218);e.exports=function(e,t,n){if(!o(n))return!1;var l=typeof t;return!!("number"==l?a(n)&&r(t,n.length):"string"==l&&t in n)&&i(n[t],e)}},902333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},545357:(e,t,n)=>{var i=n(896874),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,l=a(r.length-t,0),s=Array(l);++o<l;)s[o]=r[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=r[o];return c[t]=n(s),i(e,this,c)}}},555639:(e,t,n)=>{var i=n(431957),a="object"==typeof self&&self&&self.Object===Object&&self,r=i||a||Function("return this")();e.exports=r},430061:(e,t,n)=>{var i=n(356560),a=n(521275)(i);e.exports=a},521275:e=>{var t=Date.now;e.exports=function(e){var n=0,i=0;return function(){var a=t(),r=16-(a-i);if(i=a,r>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},567990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},575703:e=>{e.exports=function(e){return function(){return e}}},23279:(e,t,n)=>{var i=n(513218),a=n(707771),r=n(14841),o=Math.max,l=Math.min;e.exports=function(e,t,n){var s,c,d,u,p,h,m=0,_=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=s,i=c;return s=c=void 0,m=t,u=e.apply(i,n)}function f(e){var n=e-h;return void 0===h||n>=t||n<0||g&&e-m>=d}function x(){var e=a();if(f(e))return b(e);p=setTimeout(x,function(e){var n=t-(e-h);return g?l(n,d-(e-m)):n}(e))}function b(e){return p=void 0,y&&s?v(e):(s=c=void 0,u)}function w(){var e=a(),n=f(e);if(s=arguments,c=this,h=e,n){if(void 0===p)return function(e){return m=e,p=setTimeout(x,t),_?v(e):u}(h);if(g)return clearTimeout(p),p=setTimeout(x,t),v(h)}return void 0===p&&(p=setTimeout(x,t)),u}return t=r(t)||0,i(n)&&(_=!!n.leading,d=(g="maxWait"in n)?o(r(n.maxWait)||0,t):d,y="trailing"in n?!!n.trailing:y),w.cancel=function(){void 0!==p&&clearTimeout(p),m=0,s=h=c=p=void 0},w.flush=function(){return void 0===p?u:b(a())},w}},406557:e=>{e.exports=function(e){return e}},701469:e=>{var t=Array.isArray;e.exports=t},637005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},707771:(e,t,n)=>{var i=n(555639);e.exports=function(){return i.Date.now()}},14841:(e,t,n)=>{var i=n(727561),a=n(513218),r=n(733448),o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=l.test(e);return n||s.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},869921:(e,t)=>{var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,_=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,f=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case u:case r:case l:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case g:case _:case s:return e;default:return t}}case a:return t}}}function w(e){return b(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=s,t.Element=i,t.ForwardRef=p,t.Fragment=r,t.Lazy=g,t.Memo=_,t.Portal=a,t.Profiler=l,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||b(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return b(e)===p},t.isFragment=function(e){return b(e)===r},t.isLazy=function(e){return b(e)===g},t.isMemo=function(e){return b(e)===_},t.isPortal=function(e){return b(e)===a},t.isProfiler=function(e){return b(e)===l},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===u||e===l||e===o||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===_||e.$$typeof===s||e.$$typeof===c||e.$$typeof===p||e.$$typeof===v||e.$$typeof===f||e.$$typeof===x||e.$$typeof===y)},t.typeOf=b},659864:(e,t,n)=>{e.exports=n(869921)},615071:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(487462),a=n(263366),r=n(875068);n(45697);function o(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var l=n(667294),s=n(973935);const c=!1;var d=n(500220),u="unmounted",p="exited",h="entering",m="entered",_="exiting",g=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var a,r=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?r?(a=p,i.appearStatus=h):a=m:a=t.unmountOnExit||t.mountOnEnter?u:p,i.state={status:a},i.nextCallback=null,i}(0,r.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:p}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==h&&n!==m&&(t=h):n!==h&&n!==m||(t=_)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!=typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===h?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===p&&this.setState({status:u})},n.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,a=this.props.nodeRef?[i]:[s.findDOMNode(this),i],r=a[0],o=a[1],l=this.getTimeouts(),d=i?l.appear:l.enter;!e&&!n||c?this.safeSetState({status:m},(function(){t.props.onEntered(r)})):(this.props.onEnter(r,o),this.safeSetState({status:h},(function(){t.props.onEntering(r,o),t.onTransitionEnd(d,(function(){t.safeSetState({status:m},(function(){t.props.onEntered(r,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:s.findDOMNode(this);t&&!c?(this.props.onExit(i),this.safeSetState({status:_},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:p},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:p},(function(){e.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],r=a[0],o=a[1];this.props.addEndListener(r,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===u)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,a.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return l.createElement(d.Z.Provider,{value:null},"function"==typeof n?n(e,i):l.cloneElement(l.Children.only(n),i))},t}(l.Component);function y(){}g.contextType=d.Z,g.propTypes={},g.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:y,onEntering:y,onEntered:y,onExit:y,onExiting:y,onExited:y},g.UNMOUNTED=u,g.EXITED=p,g.ENTERING=h,g.ENTERED=m,g.EXITING=_;const v=g;var f=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return i=t,void((n=e).classList?n.classList.remove(i):"string"==typeof n.className?n.className=o(n.className,i):n.setAttribute("class",o(n.className&&n.className.baseVal||"",i)));var n,i}))},x=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var i=t.resolveArguments(e,n),a=i[0],r=i[1];t.removeClasses(a,"exit"),t.addClass(a,r?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var i=t.resolveArguments(e,n),a=i[0],r=i[1]?"appear":"enter";t.addClass(a,r,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var i=t.resolveArguments(e,n),a=i[0],r=i[1]?"appear":"enter";t.removeClasses(a,r),t.addClass(a,r,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,i="string"==typeof n,a=i?""+(i&&n?n+"-":"")+e:n[e];return{baseClassName:a,activeClassName:i?a+"-active":n[e+"Active"],doneClassName:i?a+"-done":n[e+"Done"]}},t}(0,r.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var i=this.getClassNames(t)[n+"ClassName"],a=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&a&&(i+=" "+a),"active"===n&&e&&e.scrollTop,i&&(this.appliedClasses[t][n]=i,function(e,t){e&&t&&t.split(" ").forEach((function(t){return i=t,void((n=e).classList?n.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,i)||("string"==typeof n.className?n.className=n.className+" "+i:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+i)));var n,i}))}(e,i))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],i=n.base,a=n.active,r=n.done;this.appliedClasses[t]={},i&&f(e,i),a&&f(e,a),r&&f(e,r)},n.render=function(){var e=this.props,t=(e.classNames,(0,a.Z)(e,["classNames"]));return l.createElement(v,(0,i.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.Component);x.defaultProps={classNames:""},x.propTypes={};const b=x},500220:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(667294).createContext(null)},560053:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,a=e[i];if(!(0<r(a,t)))break e;e[i]=t,e[n]=a,n=i}}function i(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,a=e.length,o=a>>>1;i<o;){var l=2*(i+1)-1,s=e[l],c=l+1,d=e[c];if(0>r(s,n))c<a&&0>r(d,s)?(e[i]=d,e[c]=n,i=c):(e[i]=s,e[l]=n,i=l);else{if(!(c<a&&0>r(d,n)))break e;e[i]=d,e[c]=n,i=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var c=[],d=[],u=1,p=null,h=3,m=!1,_=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,f="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=i(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=i(d)}}function b(e){if(g=!1,x(e),!_)if(null!==i(c))_=!0,R(w);else{var t=i(d);null!==t&&F(b,t.startTime-e)}}function w(e,n){_=!1,g&&(g=!1,v(I),I=-1),m=!0;var r=h;try{for(x(n),p=i(c);null!==p&&(!(p.expirationTime>n)||e&&!E());){var o=p.callback;if("function"==typeof o){p.callback=null,h=p.priorityLevel;var l=o(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?p.callback=l:p===i(c)&&a(c),x(n)}else a(c);p=i(c)}if(null!==p)var s=!0;else{var u=i(d);null!==u&&F(b,u.startTime-n),s=!1}return s}finally{p=null,h=r,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var P,S=!1,T=null,I=-1,A=5,k=-1;function E(){return!(t.unstable_now()-k<A)}function C(){if(null!==T){var e=t.unstable_now();k=e;var n=!0;try{n=T(!0,e)}finally{n?P():(S=!1,T=null)}}else S=!1}if("function"==typeof f)P=function(){f(C)};else if("undefined"!=typeof MessageChannel){var j=new MessageChannel,D=j.port2;j.port1.onmessage=C,P=function(){D.postMessage(null)}}else P=function(){y(C,0)};function R(e){T=e,S||(S=!0,P())}function F(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,R(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,r){var o=t.unstable_now();switch("object"==typeof r&&null!==r?r="number"==typeof(r=r.delay)&&0<r?o+r:o:r=o,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:r,expirationTime:l=r+l,sortIndex:-1},r>o?(e.sortIndex=r,n(d,e),null===i(c)&&e===i(d)&&(g?(v(I),I=-1):g=!0,F(b,r-o))):(e.sortIndex=l,n(c,e),_||m||(_=!0,R(w))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},363840:(e,t,n)=>{e.exports=n(560053)},653250:(e,t,n)=>{var i=n(667294);var a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=i.useState,o=i.useEffect,l=i.useLayoutEffect,s=i.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(i){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=r({inst:{value:n,getSnapshot:t}}),a=i[0].inst,d=i[1];return l((function(){a.value=n,a.getSnapshot=t,c(a)&&d({inst:a})}),[e,n,t]),o((function(){return c(a)&&d({inst:a}),e((function(){c(a)&&d({inst:a})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:d},950139:(e,t,n)=>{var i=n(667294),a=n(61688);var r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=a.useSyncExternalStore,l=i.useRef,s=i.useEffect,c=i.useMemo,d=i.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,i,a){var u=l(null);if(null===u.current){var p={hasValue:!1,value:null};u.current=p}else p=u.current;u=c((function(){function e(e){if(!s){if(s=!0,o=e,e=i(e),void 0!==a&&p.hasValue){var t=p.value;if(a(t,e))return l=t}return l=e}if(t=l,r(o,e))return t;var n=i(e);return void 0!==a&&a(t,n)?t:(o=e,l=n)}var o,l,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,i,a]);var h=o(e,u[0],u[1]);return s((function(){p.hasValue=!0,p.value=h}),[h]),d(h),h}},61688:(e,t,n)=>{e.exports=n(653250)},552798:(e,t,n)=>{e.exports=n(950139)},17314:(e,t,n)=>{n.d(t,{Z:()=>c});var i,a,r=n(813653),o=n(861470),l=0,s=0;const c=function(e,t,n){var c=t&&n||0,d=t||new Array(16),u=(e=e||{}).node||i,p=void 0!==e.clockseq?e.clockseq:a;if(null==u||null==p){var h=e.random||(e.rng||r.Z)();null==u&&(u=i=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=a=16383&(h[6]<<8|h[7]))}var m=void 0!==e.msecs?e.msecs:Date.now(),_=void 0!==e.nsecs?e.nsecs:s+1,g=m-l+(_-s)/1e4;if(g<0&&void 0===e.clockseq&&(p=p+1&16383),(g<0||m>l)&&void 0===e.nsecs&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=m,s=_,a=p;var y=(1e4*(268435455&(m+=122192928e5))+_)%4294967296;d[c++]=y>>>24&255,d[c++]=y>>>16&255,d[c++]=y>>>8&255,d[c++]=255&y;var v=m/4294967296*1e4&268435455;d[c++]=v>>>8&255,d[c++]=255&v,d[c++]=v>>>24&15|16,d[c++]=v>>>16&255,d[c++]=p>>>8|128,d[c++]=255&p;for(var f=0;f<6;++f)d[c+f]=u[f];return t||(0,o.Z)(d)}},542473:e=>{var t=function(){};e.exports=t},456778:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubbleStory_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"referringSource",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"ExploreArticle",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"identifierIconName",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"BubblesGridRep_story"}],type:"Story",abstractKey:null,hash:"1c6b4e45a045976cb346fc1824fa2578"};e.exports=t},103018:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubblesGridRep_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{args:null,kind:"FragmentSpread",name:"ExploreBubble_exploreArticle"}],type:"ExploreArticle",abstractKey:null}],storageKey:null}],type:"Story",abstractKey:null,hash:"bc3408725d4de6a75e59ac3d2aefd4b2"};e.exports=t},366234:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentCarouselDisplayOptions",kind:"LinkedField",name:"carouselDisplayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"navigationType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,concreteType:"StoryTilesGridLayout",kind:"LinkedField",name:"gridLayout",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cols",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselFadeEnds",storageKey:null},{alias:null,args:null,concreteType:"StoryItemViewRepStyle",kind:"LinkedField",name:"itemViewRepStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"exploreArticleRepStyle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moreIdeasRepStyle",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null}],storageKey:null}],storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[t,{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"ItemRep_pin"}],type:"Pin",abstractKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};n.hash="072808c1c07d49edcefd460b451e4162",e.exports=n},67153:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ExploreBubble_exploreArticle",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColors",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identifierIconType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyCategory",storageKey:null},{alias:"articleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:"coverImage236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"236x")'},{alias:"coverImage474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"474x")'},{alias:"coverImage136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"136x136")'},{alias:"coverImage170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"170x")'},{alias:"coverImage222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"222x")'},{alias:"coverImage90x90",args:[{kind:"Literal",name:"spec",value:"90x90"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"90x90")'}],type:"ExploreArticle",abstractKey:null};n.hash="bc8b8afb394eb9f724930319c776249a",e.exports=n},126210:e=>{var t,n,i,a,r,o,l,s,c,d,u,p,h,m,_,g,y,v,f,x,b,w,P,S={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"FlashlightPagePinQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},s={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},u={alias:"imageOrig",args:c=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},h={alias:"image736x",args:p=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"736x")'},_={alias:"image564x",args:m=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"564x")'},y={alias:"image474x",args:g=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"474x")'},f={alias:"image236x",args:v=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"236x")'},w={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:b=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"additionalImageOrig",args:c,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x=[r,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:d,storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},{alias:"additionalImage564x",args:m,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImage736x",args:p,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"736x")'},{alias:"additionalImage474x",args:g,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImage236x",args:v,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"canonicalImages",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},P={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:b,storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"FlashlightPagePinQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a,r,o,l,s,u,h,_,y,f,w,P,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"2fbe7c612e0b9e55147a27059ea1cb52fb3420abce761a50d75549302dd620bd",metadata:{},name:"FlashlightPagePinQuery",operationKind:"query",text:null}};S.hash="3e072d3a492316c79a629968e8cd0a07",e.exports=S,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}(S)},414700:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"HeaderModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"subtitle",plural:!1,selections:t,storageKey:null},{alias:"storyDescription",args:null,concreteType:"StoryText",kind:"LinkedField",name:"description",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"titleTextColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleTextColor",storageKey:null},{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"textAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titlePosition",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleStyle",storageKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};n.hash="4bee3a400f6e868da4c768b56562f0ea",e.exports=n},502763:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ItemRep_pin",selections:[{alias:"pinId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null,hash:"696867be037ab8477fab30bc1731946e"};e.exports=t},839914:e=>{var t,n,i,a,r,o,l,s,c,d,u,p,h,m,_,g,y,v,f,x,b,w,P,S,T={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},l={alias:"imageOrig",args:r=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},c={alias:"image736x",args:s=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"736x")'},u={alias:"image564x",args:d=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"564x")'},h={alias:"image474x",args:p=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"474x")'},_={alias:"image236x",args:m=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[g={alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},v={alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[y={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageOrig",args:r,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"orig")'},{alias:"image736x",args:s,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"736x")'},{alias:"image564x",args:d,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"564x")'},{alias:"image474x",args:p,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"474x")'},{alias:"image236x",args:m,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"236x")'}],storageKey:null}],storageKey:null},b={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:x=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:"additionalImageOrig",args:r,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f=[y,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:o,storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},{alias:"additionalImage564x",args:d,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImage736x",args:s,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"736x")'},{alias:"additionalImage474x",args:p,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImage236x",args:m,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"236x")'}],storageKey:null}],storageKey:null},w={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:x,storageKey:null},P={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i,a,l,c,u,h,_,{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[g,v,S={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},b,w,P,S],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"c849c16890001791719605eee00998b40fff9507756fec792bdb95a1a6c3feeb",metadata:{},name:"MobileFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}};T.hash="724f360ccc5e62a89e40f566310c2ff9",e.exports=T,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}(T)},991102:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardDetails_pin",selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:n=[t],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PriceLego_pin"}],type:"Pin",abstractKey:null};i.hash="e127c8f5f9fafd31c5dce4a9a7f66089",e.exports=i},441959:e=>{var t,n,i,a,r,o,l,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"invite_code"}],kind:"Fragment",metadata:null,name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteCode",variableName:"invite_code"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a={alias:"first_name",args:null,kind:"ScalarField",name:"firstName",storageKey:null},r={alias:"is_default_image",args:null,kind:"ScalarField",name:"isDefaultImage",storageKey:null},o={alias:"image_medium_url",args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a,r,o,l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},l],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"6ecc0f5ef5b300806765351890d4c30338f4cba0f2ed6262aebb971f8d13cedd",metadata:{},name:"PinCardSharedHeaderQuery",operationKind:"query",text:null}};s.hash="6113bb3593481961950c5053449014f3",e.exports=s,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}(s)},182964:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardVisual_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"c4db8a7b324600a215bc35cef16f2f83"};e.exports=t},256468:e=>{var t,n,i,a,r,o,l,s,c,d,u,p,h,m,_,g,y={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},t,s={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c=[o,l,a,s],storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[n,d={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:m=[n,d,u,p,h],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},d,u,p,h],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:m,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[r,_={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},g={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[i,{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[n,i,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:m,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:m,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},_,{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[n,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},l,s,a],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i,a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextualMenu_pin"},{args:null,kind:"FragmentSpread",name:"UnauthProductAttribution_pin"},{args:null,kind:"FragmentSpread",name:"SeoPageMetadataText_pin"},{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"},{args:null,kind:"FragmentSpread",name:"PinCardDetails_pin"},{args:null,kind:"FragmentSpread",name:"PinCardVisual_pin"},{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"}],type:"Pin",abstractKey:null};y.hash="8f5c360fe38ed7451f2c7c534e01c592",e.exports=y},788536:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PriceLego_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="5b16e8d36c1fe0135f65a9c3aaec6092",e.exports=n},599271:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeeMoreButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"VaseSection_pin"}],type:"Pin",abstractKey:null,hash:"8d0233fe1acbc77ec2b5a1754e0a6e36"};e.exports=t},937711:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeoPageMetadataText_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null,hash:"8f9d12b0eee9d408e23c20c11af28777"};e.exports=t},359433:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StructuredFeedStoryModule_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"CarouselModule_story"}],type:"Story",abstractKey:null,hash:"975714093f2b429b06d47cdfccbec3c2"};e.exports=t},944488:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null,hash:"b5b71fb4390c1d3835e468a25f687669"};e.exports=t},897614:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null,hash:"e5a0b7dce2aa2313e4cf2c9871cbedf7"};e.exports=t},823722:e=>{var t,n,i,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopContextMenu_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t,i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null};a.hash="69c8282217ea70788d1578a6885fe8bd",e.exports=a},608614:e=>{var t,n,i,a,r,o,l,s,c,d,u,p,h,m,_,g,y,v,f,x,b,w,P,S,T,I,A,k,E,C,j,D,R,F,L,O,z,M,N,Z,U,B,K,H,G,W,$,V,q,Y,X,J,Q,ee,te={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"UnauthDesktopFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"repinCount",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},y={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[_={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[v={alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:P=[f={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:P,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:S=[i,f,x,b,w],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:S,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:S,storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i,T={alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},_,I={alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},g],storageKey:null},D={alias:"imageOrig",args:A=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:j=[k={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},g,E={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null}],storageKey:'images(spec:"orig")'},F={alias:"image564x",args:R=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:j,storageKey:'images(spec:"564x")'},O={alias:"image736x",args:L=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:j,storageKey:'images(spec:"736x")'},M={alias:"image474x",args:z=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:j,storageKey:'images(spec:"474x")'},Z={alias:"image236x",args:N=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:j,storageKey:'images(spec:"236x")'},U={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},Y={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[r,s,{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[_,{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:[_,E],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[_,B={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null}],storageKey:null},H={alias:"additionalImageOrig",args:A,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:K=[a,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[C,g,k],storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},G={alias:"additionalImage564x",args:R,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:K,storageKey:'additionalImagesPerSpec(spec:"564x")'},W={alias:"additionalImage736x",args:L,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:K,storageKey:'additionalImagesPerSpec(spec:"736x")'},$={alias:"additionalImage474x",args:z,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:K,storageKey:'additionalImagesPerSpec(spec:"474x")'},V={alias:"additionalImage236x",args:N,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:K,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[a,q={alias:null,args:null,kind:"ScalarField",name:"canonicalImages",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},X={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[_,B,H,G,W,$,V,{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[q,a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"UnauthDesktopFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i,a,r,o,l,s,c,d,u,p,h,m,y,{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[v,J={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:Q=[f,x,b,w,J],storageKey:null},J],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:Q,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:ee=[i,f,x,b,w,J],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:ee,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:ee,storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i,T,_,I,g,J],storageKey:null},D,F,O,M,Z,U,Y,X,J],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"5f09d38fcc19ea4defe9a2ced0ea73c23f12ec0bc0e6d4bd4f24974e35d6e8ea",metadata:{},name:"UnauthDesktopFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}};te.hash="41066749b18be6f77425904cd44e3d69",e.exports=te,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}(te)},143453:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthProductAttribution_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null,hash:"2fb133623620997264f81544f7f43636"};e.exports=t},717988:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseAnnotations_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null,hash:"594237c2ea6ccfb8bbc0e3e8c62cac9f"};e.exports=t},298262:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseSection_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t,n={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},n,{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"}],type:"Pin",abstractKey:null};i.hash="dda341dce5f1fa956d1837dec35496de",e.exports=i},782194:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAnnotationsWithLinksFragment_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"35075da6e1f4b526ac4314727015c44d"};e.exports=t},277334:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImagesFragment_pin",selections:[{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};n.hash="8dd4c9c753d2a67c0606dfff23b820e9",e.exports=n},806387:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/visual-search"]=function(){return n(449687).Z}},482203:(e,t,n)=>{n.d(t,{$:()=>d,r:()=>u});var i=n(667294),a=n(583592),r=n(624799),o=n(282802),l=n(272109),s=n(785893);const{Provider:c,useHook:d}=(0,a.Z)("PinRep");function u({children:e}){const{isAuthenticated:t}=(0,o.B)(),[n,a]=(0,i.useState)(!0),[d,u]=(0,i.useState)(!1),p=(0,r.Z)(1000069);(0,l.Z)((()=>{(async()=>{var e,n,i,r;if(!t)return void a(!1);const o=await p.fetchAllExperiences();o&&o.payload&&500417===(null===(e=o.payload.experiences)||void 0===e||null===(n=e[1000069])||void 0===n?void 0:n.experience_id)&&null!==(i=o.payload.experiences)&&void 0!==i&&null!==(r=i[1000069])&&void 0!==r&&r.display_data.hide_footer?p.viewExperience(1000069,500417):a(!1),u(!0)})()}));const h=(0,i.useMemo)((()=>({hasSimplifiedPinGridExpLoaded:d,hidePinRepFooter:n})),[d,n]);return(0,s.jsx)(c,{value:h,children:e})}},555495:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var i=n(667294),a=n(616550),r=n(111671),o=n(946618),l=n(374749),s=n(965472),c=n(898252),d=n(245410),u=n(950695);var p=n(684913),h=n(525104),m=n(883119),_=n(709512),g=n(785893);const y={overlay:{__style:{backgroundColor:"#000"}}};function v({image:e,pinId:t,title:n,videoDuration:a,videoStatusMessage:r}){var o,l,s;return(0,g.jsx)(i.Fragment,{children:(0,g.jsx)(m.st,{children:(0,g.jsxs)(m.iP,{role:"link",href:`/pin/${t}`,rounding:2,children:[(0,g.jsxs)(m.xu,{overflow:"hidden",position:"relative",rounding:2,children:[e&&(0,g.jsx)(m.Ee,{alt:n||"",color:"lightGray",naturalHeight:null!==(o=e.height)&&void 0!==o?o:1,naturalWidth:null!==(l=e.width)&&void 0!==l?l:1,src:null!==(s=e.url)&&void 0!==s?s:""}),!!a&&(0,g.jsx)(m.xu,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:(0,g.jsx)(_.Z,{duration:a})}),(0,g.jsx)(m.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:y.overlay}),(0,g.jsxs)(m.xu,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[(0,g.jsx)(m.X6,{color:"light",overflow:"normal",size:"400",children:null==r?void 0:r.title}),(0,g.jsx)(m.xu,{marginTop:4,children:(0,g.jsx)(m.xv,{color:"light",size:"200",overflow:"normal",children:null==r?void 0:r.subtitle})})]})]}),(0,g.jsx)(m.xu,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:(0,g.jsx)(m.xu,{flex:"grow",children:n&&(0,g.jsx)(m.xu,{paddingY:1,children:(0,g.jsx)(m.xv,{inline:!0,size:"200",weight:"bold",children:n})})})})]})})})}function f({trackingParams:e,objectIdStr:t,impressionData:n,auxData:m,componentType:_,slotIndex:y,viewData:f,viewParameter:x,viewType:b,pin:w,pinId:P,...S}){var T,I,A,k,E,C,j,D,R,F;const L=(0,a.useLocation)(),O=(0,h.S6)(),z=(P?O(P):null)||w,M=!(null===(T=z.story_pin_data)||void 0===T||!T.is_deleted),N=e||(0,o.Z)({boardUrl:null===(I=z.board)||void 0===I?void 0:I.url,location:L,pinId:z.id,pinnerUserName:null===(A=z.pinner)||void 0===A?void 0:A.username,storyPinDataId:z.story_pin_data_id,trackingParams:z.tracking_params,trackingParamsMap:z.tracking_params_map}),Z=function(e){const t=e.videos&&e.videos.video_list;return t&&Object.keys(t).length?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}(z),U=!!(Z&&Z.url&&Z.height&&Z.width)||void 0,B=Z&&z.videos?z.videos.id:void 0,[K,H]=(0,i.useState)(!1),G=(0,i.useCallback)((()=>H(!M)),[M]),W=(0,i.useCallback)((()=>H(!1)),[]),$=(0,u.yz)();var V;!z.promoted_is_lead_ad||(m={lead_form_id:null===(V=z.promoted_lead_form)||void 0===V?void 0:V.lead_form_id,is_lead_ad:1});const{anyEnabled:q}=(0,d.F)().checkExperiment("m10n_view_event_conversion_measurement_chrome");return(0,g.jsx)(s.Z,{componentType:_,contextLogData:{pwa_type:$,...m,...(0,l.Kl)(z,{contextLogData:m})},impressionAuxFields:{...n||{},isNativeVideoAndWatchable:U,chromeAraViewExp:q,videoIdStr:B,clientTrackingParams:N||`${z.tracking_params||""}-0`,imageURL:null!==(k=null===(E=z.images)||void 0===E||null===(C=E["236x"])||void 0===C?void 0:C.url)&&void 0!==k?k:"",richTypes:(0,l.GT)(z)},impressionType:"Pin",isPaused:!K,loggingId:z.id,slotIndex:y,objectIdStr:t,viewData:f,viewParameter:x,viewType:b,children:(0,c._J)(z.video_status)?(0,g.jsx)(v,{image:(null===(j=z.images)||void 0===j?void 0:j["236x"])&&{width:z.images["236x"].width,height:z.images["236x"].height,url:z.images["236x"].url},pinId:z.id,title:z.title,videoDuration:null===(D=z.videos)||void 0===D||null===(R=D.video_list)||void 0===R||null===(F=R[p.Z.V_HLSV4])||void 0===F?void 0:F.duration,videoStatusMessage:z.video_status_message&&{title:z.video_status_message.title,subtitle:z.video_status_message.subtitle}}):(0,g.jsx)(r.Z,{...S,debugImpressionState:K?"started":"paused",onError:W,onLoad:G,pin:z,pinId:P,trackingParameters:{componentType:_,contextLogData:m,slotIndex:y,viewParameter:x,viewType:b}})})}},340906:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(245410),a=n(549201),r=n(802071),o=n(329689),l=n(384722);const s="sce_lightswitch_organic",c="sce_lightswitch_monetized",d=Object.freeze({dweb:{organic:"web_sce_organic_pinbuilder_dep",monetized:"web_sce_monetized_pinbuilder_dep"},mweb:{organic:"mweb_sce_organic_pinbuilder_dep",monetized:"mweb_sce_monetized_pinbuilder_dep"}});function u(e){const t=(0,a.HG)(),{checkExperiment:n}=(0,i.F)(),u=(0,o.Z)(),p=(0,r.Z)(),h=(0,l.lJ)(p,u),m=d[t?"dweb":"mweb"];return e&&!h&&(n(s),n(c)),!h&&(n(m.organic).anyEnabled||n(m.monetized).anyEnabled)}},976641:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(616550),a=n(883119),r=n(388011),o=n(310561),l=n(536042),s=n(785893);function c({arrowType:e,pinId:t,viewParameter:n,viewType:c}){const d=(0,l.ZP)(),u=(0,i.useHistory)(),{previous:p}=(0,o.Hv)(),{logContextEvent:h}=(0,r.v)();return(0,s.jsx)(a.hU,{accessibilityLabel:d._('Go back', 'Accessible icon for close button', 'Accessible icon for close button'),icon:null!=e?e:"directional-arrow-left",iconColor:"darkGray",onClick:()=>{h({event_type:101,view_type:c,element:34,view_parameter:n}),0!==p.length?u.goBack():u.replace(`/pin/${t}/`)}})}},29152:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(739425);function a(e){const t=(0,i.mB)(e.search),n=parseInt(t.x,10),a=parseInt(t.y,10),r=parseInt(t.w,10),o=parseInt(t.h,10);return function(...e){return e.every(Number.isInteger)}(n,a,r,o)?{x:n,y:a,w:r,h:o}:null}},675187:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(488167),a=n(525010);const r=({initialCropArea:e,pin:t,disableInitialCrop:n,imageSignature:r})=>{let o;if(e)o={...e};else{const{visual_objects:e}=t,{width:l,height:s}=(0,i.Z)({pin:t,imageSignature:r});if(n)o={x:0,y:0,w:l,h:s};else if(e&&e.length){const{x:t,y:n,w:i,h:r}=e[0];o=(0,a.Z)({cropArea:{x:t,y:n,w:i,h:r},scaledWidth:l,scaledHeight:s})}else{const[e,t]=[l/6,s/6],[n,i]=[l-2*e,s-2*t];o={x:e,y:t,w:n,h:i}}}return{x:Math.floor(o.x),y:Math.floor(o.y),w:Math.floor(o.w),h:Math.floor(o.h)}}},303318:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(883119),a=n(555495),r=n(388011),o=n(24286),l=n(769340),s=n(666331),c=n(785893);function d({action:e,component:t,dangerouslySetActionUrl:n,element:d,contextLogData:u,id:p,objects:h,viewType:m,viewParameter:_}){const{logContextEvent:g}=(0,r.v)(),y=null!=e&&e.url&&e.text?i=>(0,c.jsx)(s.Z,{coverImages:i.images,height:o.yF,onClick:()=>g({event_type:101,view_type:m,view_parameter:_,component:t,element:d,aux_data:{story_id:p,...u}}),text:e.text,url:null!=n?n:e.url,width:o.yF},"actionBubble"):null,{containerRef:v,itemsToRender:f,actionItem:x}=(0,l.n)({items:h,itemWidth:o.yF,itemGap:o.oX,actionItemType:y?"one":void 0});return(0,c.jsxs)(l.Z,{itemGap:o.oX,containerRef:v,children:[f.map(((e,n)=>(0,c.jsx)(i.xu,{flex:"none",width:o.yF,"data-grid-item":"true",children:(0,c.jsx)(a.default,{pin:e,pinId:e.id,authDesktopSurface:"ShoppingDynamicHeightGrid",auxData:u,componentType:t,slotIndex:n,viewParameter:_,viewType:m,pinImageCrop:{height:o.yF,width:o.yF}})},e.id))),x&&(null==y?void 0:y(x))]})}},873213:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(616550),a=n(883119),r=n(388011),o=n(911386),l=n(272109),s=n(826935),c=n(602531),d=n(620368),u=n(838419),p=n(785893);function h(e){const{logContextEvent:t}=(0,r.v)(),{data:n}=(0,u.Z)(),{search:h}=(0,i.useLocation)(),{pin:m}=(0,o.Z)(h),_=m?"pdp":"profile",g=null==n?void 0:n.username,y=(0,c.N0)();if((0,l.Z)((()=>{d.Z.StructuredFeed.ProductGroups.viewProductGroup({productGroupId:e.item.id,source:_,groupType:e.item.group_type,componentType:13698},t)})),!g)return null;const v=`/${g}/_shop/${e.item.id}/`;return(0,p.jsx)(a.iP,{onTap:()=>{d.Z.StructuredFeed.ProductGroups.tapProductGroup({productGroupId:e.item.id,source:_,groupType:e.item.group_type,componentType:13698,index:e.slotIndex},t)},href:v,role:"link",children:(0,p.jsx)(s.Z,{productGroup:e.item,showControls:y})})}},941191:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(497051),r=n(785893);function o({fetchMore:e,isAtEnd:t,isFetching:n,items:o,leftAlign:l,loadingLabel:s,marginBottom:c,renderItem:d}){return(0,r.jsxs)(i.xu,{"data-test-id":"square-shopping-grid",display:"flex",direction:"row",justifyContent:l?void 0:"center",marginBottom:c,wrap:!0,children:[(0,r.jsx)(i.gr,{isAtEnd:t,isFetching:n,fetchMore:e}),(o||[]).map(((e,t)=>d({item:e,itemIdx:t}))),Array.apply(0,Array(12)).map(((e,t)=>(0,r.jsx)(i.xu,{width:a.jh,margin:a.iO},t))),(0,r.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,r.jsx)(i.$j,{accessibilityLabel:s,show:n})})]})}},570266:(e,t,n)=>{n.d(t,{M:()=>y,Z:()=>v});var i=n(667294),a=n(883119),r=n(976641),o=n(536042),l=n(630089),s=n(245410);var c=n(818577),d=n(785893);function u({title:e,variant:t}){const n=(0,o.ZP)(),{checkExperiment:r}=(0,s.F)(),{anyEnabled:u}=r("web_unified_visual_feed"),p={default:(0,l.nk)(n._('Shop {{ category }}', 'relatedProducts.stela.header', 'header for related products stela feed'),{category:(e||"").toLowerCase()}).join("").trim(),"unified-feed":(0,l.nk)(n._('{{ category }}', 'unifiedHeader.stela.header', 'header for related products stela feed'),{category:(h=e||"",h.toLowerCase().charAt(0).toUpperCase()+h.toLowerCase().slice(1))}).join("").trim(),"closeup-shop":"","unified-feed-no-label":"","closeup-shop-idea-pin":n._('Shop similar items', 'relatedProducts.header', 'header for related products stela feed'),"related-products":"",flashlight:e};var h;const m={"closeup-shop":n._('Shop similar items', 'relatedProducts.header', 'header for related products stela feed'),"unified-feed":"","unified-feed-no-label":"","related-products":n._('More to shop', 'relatedProducts.header', 'header for related products feed'),"closeup-shop-idea-pin":n._('Shop similar items', 'relatedProducts.header', 'header for related products stela feed'),flashlight:""},_=e?p[["flashlight","unified-feed","closeup-shop-idea-pin"].includes(t)?t:"default"]:m[t];return(0,d.jsx)(i.Fragment,{children:_?(0,d.jsx)(a.X6,{size:u&&"flashlight"!==t?"500":"400",accessibilityLevel:1,children:_}):(0,d.jsx)(c.Z,{text:n._('Related products page', 'relatedProducts.unifiedFeed.accessibilityhiddenheading', 'accessibility label for related products page')})})}var p=n(388011),h=n(906215),m=n(282802),_=n(870601),g=n(556076);const y=60;function v({filtersText:e,handleDrawerClose:t,handleDrawerOpen:n,isDrawerOpen:o,isProductOnlyFeed:l,pinId:s,showFilter:c,title:v,variant:f,viewParameter:x,viewType:b}){const{logContextEvent:w}=(0,p.v)(),{isRTL:P}=(0,m.B)(),S=(0,i.useRef)();(0,i.useEffect)((()=>(c&&w({event_type:120,view_type:b,component:13467,element:11735,view_parameter:x}),S.current&&h.Z.addObstruction("top",S.current),()=>{S.current&&h.Z.removeObstruction("top",S.current)})),[c]);const T=()=>{w({event_type:101,view_type:b,component:13467,element:11735,view_parameter:x}),n&&n()};return(0,d.jsx)(_.Z,{position:"fixed",style:{width:"100%",zIndex:3,backgroundColor:"#ffffff"},children:(0,d.jsxs)(a.xu,{alignItems:"center",color:"default",display:"flex",height:y,justifyContent:"center",paddingY:4,position:"absolute",top:!0,width:"100%","data-test-id":"related-products-header",ref:S,children:[(0,d.jsx)(a.xu,{marginStart:5,position:"absolute",left:!P,right:P,children:(0,d.jsx)(r.Z,{pinId:s,arrowType:l?"directional-arrow-left":"cancel",viewType:b,viewParameter:x})}),(0,d.jsx)(u,{title:v,variant:f}),c&&"boolean"==typeof o&&T&&e&&t&&(0,d.jsx)(a.xu,{marginEnd:12,position:"absolute",left:P,right:!P,children:(0,d.jsx)(g.Z,{isDrawerOpen:o,onClick:T,buttonText:e,handleDrawerClose:t})})]})})}},920394:(e,t,n)=>{n.d(t,{Z:()=>A});var i=n(667294),a=n(883119),r=n(941191),o=n(555495),l=n(705882),s=n(738783),c=n(785893);const d=function({config:{commerce_data:e,image_signature:t,pinId:n,pinImageCrop:i,searchId:a,shoppingSurface:r,viewParameter:d,viewType:u},pin:p,slotIndex:h}){const m=`/pin/${n}/related-products/domain/`;let _=[];switch("BUBBLE_ONE_COL"===p.story_type&&(_=p.objects.slice(0,2)),p.type){case"story":switch(p.story_type){case"related_domain_collage":return(0,c.jsx)(l.Z,{story:p,dangerouslySetActionUrl:m,slotIndex:h});case"BUBBLE_ONE_COL":return(0,c.jsx)(s.Z,{bubbles:_,id:p.id,referringSource:p.referring_source,slotIndex:h,storyType:p.story_type,title:p.title,viewType:u,viewParameter:d});default:return null}case"pin":return(0,c.jsx)(o.default,{pin:p,pinId:p.id,pinImageCrop:i,authDesktopSurface:r,auxData:{search_identifier:a,image_signature:t,commerce_data:{entrypoint:"shopping",...e||{}}},componentType:0,slotIndex:h,viewData:{search_identifier:a},viewParameter:d,viewType:u});default:return null}};var u=n(497051),p=n(388011),h=n(536042),m=n(963375),_=n(552369),g=n(272109);function y({commerceData:e,pinId:t,viewParameter:n,viewType:o,visualSearchFlashlightUnifiedResource:l,imageSignature:s,searchId:y}){var v;const{logContextEvent:f}=(0,p.v)(),x=(0,h.ZP)(),b=(0,i.useRef)(),{auxData:w,data:P,isAtEnd:S,isFetching:T,fetchMore:I}=l,A=null==P?void 0:P.results,k=()=>(0,_.Z)((()=>{f({event_type:110,view_type:o,view_parameter:n})}),100);(0,g.Z)((()=>(window.addEventListener("scroll",k),()=>{window.removeEventListener("scroll",k)}))),!b.current&&null!=w&&null!==(v=w.grid_layout)&&void 0!==v&&v.w_h_ratio&&(b.current=w.grid_layout.w_h_ratio);const E=b.current?"ShoppingDynamicHeightGrid":"ShoppingGridShippedMetadata",C={height:m.zX*(b.current||1),width:m.zX},j={commerce_data:e,image_signature:s,pinId:t,pinImageCrop:C,searchId:y,shoppingSurface:E,viewParameter:n,viewType:o};return(0,c.jsx)(a.xu,{direction:"row",display:"flex",justifyContent:"center",marginStart:1,wrap:!0,children:(0,c.jsx)(r.Z,{fetchMore:I,isAtEnd:S,isFetching:T,loadingLabel:x._('Loading search results...', 'Accessibility label for loading visual search results', 'Accessibility label for loading visual search results'),items:A||[],renderItem:({item:e,itemIdx:t})=>(0,c.jsx)(a.xu,{height:"pin"===e.type?C.height+u.s_+u.dA:void 0,width:C.width,marginEnd:4,"data-grid-item":!0,children:(0,c.jsx)(d,{config:j,pin:e,slotIndex:t})},`RelatedProductsUnifiedFeed-${e.id}`)})})}var v=n(616550),f=n(303318);function x({title:e}){return(0,c.jsx)(a.xu,{"data-test-id":"unified-feed-stela-header",display:"flex",justifyContent:"center",dangerouslySetInlineStyle:{__style:{marginLeft:55}},children:(0,c.jsx)(a.X6,{size:"400",accessibilityLevel:2,children:e})})}var b=n(328939);const w={flashlight:72,shop:427,stela:427};function P({pinId:e,variant:t,visualSearchFlashlightUnifiedResource:n}){const r=(0,v.useLocation)(),{data:o}=n,l=(null==o?void 0:o.results)||[],s=`/pin/${e}/related-products/all/${r.search}${"flashlight"===t?"&entry=flashlight":""}`;return(0,c.jsx)(i.Fragment,{children:l.map(((e,n)=>{if("story"===e.type){const{action:i,id:r,objects:o,story_type:l,title:d}=e;switch(l){case"unified_visual_feed_product_upsell":const u=d.format||"";return(0,c.jsx)(b.qS,{auxData:{story_type:l},component:14339,loggingId:r,objectIdStr:r,slotIndex:n,viewParameter:3462,viewType:w[t],children:({impressionTrackerRef:e})=>(0,c.jsxs)(a.xu,{ref:e,children:[u&&(0,c.jsx)(x,{title:u}),(0,c.jsx)(a.xu,{marginTop:4,marginBottom:12,"data-test-id":"unified-feed-stela-story",children:(0,c.jsx)(f.Z,{action:i,component:14339,contextLogData:{story_type:l},dangerouslySetActionUrl:s,element:179,id:r,objects:o,viewType:w[t],viewParameter:3462})})]})},r);case"unified_visual_feed_organic_header":return(0,c.jsx)(b.qS,{auxData:{story_type:l},component:14339,loggingId:r,objectIdStr:r,slotIndex:n,viewParameter:3462,viewType:w[t],children:({impressionTrackerRef:t})=>(0,c.jsx)(a.xu,{ref:t,marginBottom:4,"data-test-id":"unified-feed-organic-header",children:(0,c.jsx)(x,{title:e.title.format||""})})},r);default:return null}}return null}))})}function S({commerceData:e,isProductFeed:t,searchId:n,viewParameter:r,viewType:l,visualSearchFlashlightUnifiedResource:s}){const d=(0,h.ZP)(),{logContextEvent:u}=(0,p.v)(),[m,g]=(0,i.useState)(),[y,v]=(0,i.useState)(!1),f=(0,i.useRef)(null),x=(0,_.Z)((()=>{f.current&&g(f.current.getBoundingClientRect().y)}),100);(0,i.useEffect)((()=>{if(!y)return window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)})),(0,i.useEffect)((()=>{var e,t;const n=(null===(e=window)||void 0===e?void 0:e.innerHeight)||(null===(t=document.body)||void 0===t?void 0:t.clientHeight);!y&&m<n&&(v(!0),u({event_type:110,view_type:l,view_parameter:r}))}),[m,u,y,v,l,r]);const{data:b,isFetching:w,fetchMore:P}=s,S=((null==b?void 0:b.results)||[]).filter((e=>"pin"===e.type));return(0,c.jsxs)(a.xu,{"data-test-id":"visual-search-feed",children:[(0,c.jsx)(a.xu,{marginTop:2,ref:f,children:(0,c.jsx)(a.Rk,{renderItem:({data:i,itemIdx:a})=>"pin"===i.type?(0,c.jsx)(o.default,{auxData:{commerce_data:e},pin:i,pinId:i.id,authDesktopSurface:t?"ShoppingDynamicHeightGrid":"SearchItem",componentType:0,slotIndex:a,viewData:{search_identifier:n},viewParameter:r,viewType:l}):null,items:S||[],loadItems:P,scrollContainer:()=>window})}),(0,c.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,c.jsx)(a.$j,{accessibilityLabel:d._('Loading visual search results', 'visualSearch.spinner.label', 'Accessibility label for spinner when loading the visual search results'),show:w})})]})}var T=n(374749),I=n(245410);function A({imageSignature:e,isProductOnlyFeed:t,pin:n,variant:a,viewParameter:r,viewType:o,visualSearchFlashlightUnifiedResource:l}){const{checkExperiment:s}=(0,I.F)(),{logContextEvent:d}=(0,p.v)(),u=s("web_masonry_product_feed").anyEnabled,h="shop"===a,m=h||t,{data:_}=l,v=null==_?void 0:_.search_identifier,f={is_product_only_feed:m};(0,g.Z)((()=>{d({event_type:13,view_type:o,view_parameter:r,aux_data:(0,T.Kl)(n,{contextLogData:{commerce_data:f}})})}));const{id:x}=n;return(0,c.jsxs)(i.Fragment,{children:[!h&&(0,c.jsx)(P,{pinId:x,variant:a,visualSearchFlashlightUnifiedResource:l}),u||!m?(0,c.jsx)(S,{commerceData:f,isProductFeed:m,searchId:v,viewParameter:r,viewType:o,visualSearchFlashlightUnifiedResource:l}):(0,c.jsx)(y,{commerceData:m?f:{},imageSignature:e,pinId:x,searchId:v,viewParameter:r,viewType:o,visualSearchFlashlightUnifiedResource:l})]})}},678546:(e,t,n)=>{function i(e){const{category_filters:t,domain_filters:n,price_filters:i}=e||{};return!!t||!!n||!!i}n.d(t,{Z:()=>i})},636125:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),a=n(678546),r=n(819079);function o({resourceOptions:e}){const[t,n]=(0,i.useState)(),[o,l]=(0,i.useState)(""),[s,c]=(0,i.useState)(),d=(0,r.Z)(e?{name:"VisualSearchFlashlightUnifiedResource",options:e}:null);return(0,i.useEffect)((()=>{const{data:e}=d,t=null==e?void 0:e.search_identifier;t&&l(t),n(e)}),[d]),(0,i.useEffect)((()=>{const{data:e}=d,n=null==e?void 0:e.search_identifier,i=null==t?void 0:t.search_identifier;e&&(n&&i&&n===i||!(0,a.Z)(t)&&(0,a.Z)(e)&&c({category_filters:e.category_filters,domain_filters:e.domain_filters,price_filters:e.price_filters}))}),[s,t,d]),{visualSearchFlashlightUnifiedResource:d,filters:s,searchId:o,setSearchId:l}}},497051:(e,t,n)=>{n.d(t,{Je:()=>i,dA:()=>r,iO:()=>o,jh:()=>l,s_:()=>a,wq:()=>s});const i=350,a=134,r=16,o=2,l=236,s=20},705882:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(667294),a=n(883119),r=n(785893);const o={backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:"18px",color:"#111",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"};function l({productPin:e,isTopRow:t,disablePrice:n}){var i,l,s,c,d;const{title:u,description:p,images:h}=e,m=null===(i=e.rich_summary)||void 0===i?void 0:i.products,_=m&&m[0]||null,g=((null==_?void 0:_.offer_summary)||{}).price,y=null!==(l=null==h?void 0:h["474x"])&&void 0!==l?l:{};return(0,r.jsxs)(a.zd,{wash:!0,height:t?217:168,width:t?236:117,children:[(0,r.jsx)(a.Ee,{alt:u||p||"",fit:"cover",naturalHeight:null!==(s=y.height)&&void 0!==s?s:1,naturalWidth:null!==(c=y.width)&&void 0!==c?c:1,src:null!==(d=y.url)&&void 0!==d?d:""}),!!g&&!n&&(0,r.jsx)(a.xu,{margin:1,paddingY:1,paddingX:2,dangerouslySetInlineStyle:{__style:{...o}},"data-test-id":"shopping-upsell-price",left:!0,top:!0,position:"absolute",children:g})]})}var s=n(388011),c=n(621699),d=n(965472),u=n(176172),p=n(28630),h=n(946543),m=n(299402);const _={container:{borderRadius:`${u.Oc}px ${u.Oc}px 25px 25px`,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},content:{marginBottom:"2px"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, .1)"}},g=({pins:e,firstPinIdx:t})=>{const n=t+1,i=t+2;return(0,r.jsxs)(a.xu,{overflow:"hidden",rounding:4,children:[(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:_.content},children:e.at(t)?(0,r.jsx)(l,{productPin:e[t],isTopRow:!0}):null}),e.length>i?(0,r.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,r.jsx)(l,{productPin:e[n]}),(0,r.jsx)(l,{productPin:e[i]})]}):null]})};function y({dangerouslySetActionUrl:e,query:t,story:n,slotIndex:o}){const{logContextEvent:l}=(0,s.v)(),{action:u,id:y,objects:v,story_type:f,subtitle:x}=n,{text:b,url:w}=u||{},[P,S]=(0,i.useState)(!1),T=(0,i.useCallback)((()=>S(!0)),[S]),I=(0,i.useCallback)((()=>S(!1)),[S]),A=(v||[]).reduce(((e,t)=>"pin"===t.type?[...e,t]:e),[]),k=["related_domain_collage","related_products_collage"].includes(f)?1:0,E=A.length>0&&A[0].domain||void 0;let C,j,D={story_type:f};["search_product_collage_story","shop_article_story"].includes(f)?(C=2,j=43,D={...D,story_id:y,entered_query:t}):"shop_brand_story"===f||"shop_brand_affinity_story"===f?(C=1,j=92,E&&(D={...D,commerce_data:JSON.stringify({domain:E})})):["stela_in_flashlight_card","stela_in_flashlight_onecol"].includes(f)?(C=72,j=3050):"related_domain_collage"===f?(C=72,j=3455):"related_products_collage"===f&&(C=1,j=3177);const R=x?4:2;let F,L;if(["related_domain_collage","shop_brand_story","shop_brand_affinity_story"].includes(f)&&u){const e=u.user;F=e&&(e.image_medium_url||e.image_large_url),L=e&&e.full_name}const O=e||w;if(!O)return null;const z=(0,p.Z)({url:O})?"nofollow":"none";return(0,r.jsx)(d.Z,{componentType:200,contextLogData:D||{},impressionType:"Story",loggingId:f,slotIndex:o,viewParameter:j,viewType:C,children:(0,r.jsx)(a.iP,{role:"link",rel:z,href:O,onTap:()=>l({event_type:101,element:372,component:200,view_type:C,view_parameter:j,aux_data:{story_type:f}}),children:(0,r.jsxs)(a.xu,{overflow:"hidden",position:"relative",onMouseEnter:T,onMouseLeave:I,dangerouslySetInlineStyle:{__style:_.container},children:[(0,r.jsx)(g,{pins:A,firstPinIdx:k}),(0,r.jsx)(a.xu,{color:"secondary",display:"flex",paddingX:3,alignItems:"center",justifyContent:"center",marginTop:2,paddingY:R,rounding:"pill",children:(0,r.jsxs)(a.xu,{justifyContent:"center",alignContent:"start",display:"flex",direction:"column",margin:2,children:[x?(0,r.jsx)(a.xu,{marginBottom:1,children:(0,r.jsx)(a.xv,{align:"start",color:"subtle",children:x.format})}):null,(0,r.jsx)(a.xv,{align:"start",weight:"bold",children:b})]})}),L&&F&&(0,r.jsx)(a.xu,{position:"absolute",right:!0,top:!0,margin:2,children:(0,r.jsx)(c.Z,{name:L,size:"md",src:F,outline:!0})}),(0,r.jsx)(m.Z,{visibility:P?"visible":"none",children:(0,r.jsx)(h.Z,{additionalStyles:_.visualOverlay})})]})})})}},316196:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(785893);function r({hovered:e,rounding:t}){return(0,a.jsx)(i.xu,{display:e?"block":"none",height:"100%",width:"100%",left:!0,top:!0,position:"fixed",zIndex:new i.Ry(1),color:"transparentDarkGray",rounding:t,opacity:.2})}},645048:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(245410),a=n(549201),r=n(802071);const o=e=>{const{checkExperiment:t}=(0,i.F)(),n="desktop"===(0,a.ZP)(),{country:o,isAuth:l}=(0,r.Z)();return!(!e||!l)&&(!n||(!(!n||"US"!==o)||t("pdpplus_intl").anyEnabled))}},293926:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),a=n(883119),r=n(785893);function o({color:e="red",duration:t,finalProgress:n,shape:o="pill"}){const[l,s]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=setTimeout((()=>{s(!0)}),0);return()=>{clearTimeout(e)}}),[]);const c="pill"===o;return(0,r.jsx)(a.xu,{color:e,height:c?8:6,rounding:c?"pill":2,width:`${n}%`,dangerouslySetInlineStyle:{__style:{transform:c?`translateX(${l?"-5px":"-100%"})`:`scaleX(${l?1:0})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}}})}},40045:(e,t,n)=>{n.d(t,{Z:()=>i});const i={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_IFRAME_ID:"video-iframe"}},709509:(e,t,n)=>{n.d(t,{S:()=>x,Z:()=>P});var i=n(667294),a=n(615071),r=n(883119),o=n(563962),l=n(785893);const s=6,c={nw:0,ne:90,se:180,sw:270},d={ne:[6,-6],se:[6,6],sw:[-6,6],nw:[-6,-6]},u={nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},p=(e,t,n,i)=>{if("rounded"===i){const[i,a]=d[e];return`translate(${t+i}, ${n+a}), rotate(${c[e]})`}return`translate(${t}, ${n}), rotate(${c[e]})`};function h({corner:e,x:t,y:n,size:i,cornerStyle:a}){return(0,l.jsxs)("g",{transform:p(e,t,n,a),style:{cursor:u[e]},children:[(0,l.jsx)("rect",{fill:"rgba(0,0,0,0)",stroke:"none",x:0,y:0,width:i,height:i,className:`v2cropperHandle ${e}`}),"rounded"===a?(0,l.jsx)("path",{d:"M5,0C2.2,0,0,2.2,0,5v15h6V6h14V0H5z",fill:"#fff",className:`v2cropperHandle ${e}`}):(0,l.jsx)("path",{d:`M ${i} 0 L 0 0 L 0 ${i}`,fill:"none",stroke:"#fff",strokeWidth:s,className:`v2cropperHandle ${e}`})]})}const m={n:"ns-resize",s:"ns-resize",e:"ew-resize",w:"ew-resize"};function _({edge:e,x:t,y:n,w:i,h:a}){return(0,l.jsx)("rect",{fill:"rgba(0,0,0,0)",stroke:"none",x:t,y:n,width:i,height:a,className:`v2cropperHandle ${e}`,style:{cursor:m[e]}})}const g=20;function y({x:e,y:t,w:n,h:a}){const r="rounded";return(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(h,{corner:"nw",x:e,y:t,size:g,cornerStyle:r}),(0,l.jsx)(h,{corner:"ne",x:e+n,y:t,size:g,cornerStyle:r}),(0,l.jsx)(h,{corner:"sw",x:e,y:t+a,size:g,cornerStyle:r}),(0,l.jsx)(h,{corner:"se",x:e+n,y:t+a,size:g,cornerStyle:r}),(0,l.jsx)(_,{edge:"n",x:e+g,y:t-10,w:n-40,h:30}),(0,l.jsx)(_,{edge:"e",x:e+n-g,y:t+g,w:30,h:a-40}),(0,l.jsx)(_,{edge:"s",x:e+g,y:t+a-10,w:n-40,h:30}),(0,l.jsx)(_,{edge:"w",x:e-g,y:t+g,w:30,h:a-40})]})}var v=n(874261);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const x=10,b=48;class w extends i.Component{constructor(...e){super(...e),f(this,"state",{cropArea:this.props.initialCropArea||{h:0,w:0,x:0,y:0},cropChangeType:null}),f(this,"cropResizeDirection",null),f(this,"_cropperOverlay",(0,i.createRef)()),f(this,"_checkCropHandleValid",((e,t)=>{const{cropArea:{h:n,w:i,x:a,y:r}}=this.state;switch(this.cropResizeDirection){case"ne":e<a&&t>r+n?this.cropResizeDirection="sw":e<a?this.cropResizeDirection="nw":t>r+n&&(this.cropResizeDirection="se");break;case"nw":e>a+i&&t>r+n?this.cropResizeDirection="se":e>a+i?this.cropResizeDirection="ne":t>r+n&&(this.cropResizeDirection="sw");break;case"se":e<a&&t<r?this.cropResizeDirection="nw":e<a?this.cropResizeDirection="sw":t<r&&(this.cropResizeDirection="ne");break;case"sw":e>a+i&&t<r?this.cropResizeDirection="ne":e>a+i?this.cropResizeDirection="se":t<r&&(this.cropResizeDirection="nw");break;case"n":t>r+n&&(this.cropResizeDirection="s");break;case"s":t<r&&(this.cropResizeDirection="n");break;case"e":e<a&&(this.cropResizeDirection="w");break;case"w":e>a+i&&(this.cropResizeDirection="e")}})),f(this,"handleOnMouseDown",(e=>{var t;e.preventDefault(),e.stopPropagation();const{clientX:n,clientY:i}=e,{target:a}=e,r=n-this._cropperOverlayCoor.x,o=i-this._cropperOverlayCoor.y,l=a.classList?Array.from(a.classList):a instanceof Element&&(null===(t=a.getAttribute("class"))||void 0===t?void 0:t.split(" "))||[];l.includes("v2cropperHandle")?(this.setState({cropChangeType:"resize"}),l.includes("ne")&&(this.cropResizeDirection="ne"),l.includes("nw")&&(this.cropResizeDirection="nw"),l.includes("se")&&(this.cropResizeDirection="se"),l.includes("sw")&&(this.cropResizeDirection="sw"),l.includes("n")&&(this.cropResizeDirection="n"),l.includes("s")&&(this.cropResizeDirection="s"),l.includes("e")&&(this.cropResizeDirection="e"),l.includes("w")&&(this.cropResizeDirection="w")):l.includes("v2cropSection")?(this.setState({cropChangeType:"move"}),this.cropChangeStartCoor={x:r,y:o}):l.includes("v2shadowMask")&&(this.cropChangeStartCoor={x:r,y:o},this.setState({cropArea:{h:0,w:0,x:r,y:o},cropChangeType:"select"}))})),f(this,"handleOnMouseMove",(e=>{const{cropArea:{h:t,w:n,x:i,y:a},cropChangeType:r}=this.state,{imageSize:o}=this.props,{clientX:l,clientY:s}=e,c=l-this._cropperOverlayCoor.x,d=s-this._cropperOverlayCoor.y;if("resize"===r){var u,p;const e=Math.max(Math.min(c,(null!==(u=o.w)&&void 0!==u?u:1)-x),x),r=Math.max(Math.min(d,(null!==(p=o.h)&&void 0!==p?p:1)-x),x);switch(this._checkCropHandleValid(e,r),this.cropResizeDirection){case"ne":{const n=Math.max(t+(a-r),b),o=Math.max(e-i,b);this.setState({cropArea:{h:n,w:o,x:i,y:n<=b?a:r}});break}case"nw":{const o=Math.max(n+(i-e),b),l=Math.max(t+(a-r),b);this.setState({cropArea:{h:l,w:o,x:o===b?i:e,y:l===b?a:r}});break}case"se":{const t=Math.max(r-a,b),n=Math.max(e-i,b);this.setState({cropArea:{h:t,w:n,x:i,y:a}});break}case"sw":{const t=Math.max(r-a,b),o=Math.max(n+(i-e),b);this.setState({cropArea:{h:t,w:o,x:o===b?i:e,y:a}});break}case"n":{const e=Math.max(a-r+t,b);this.setState({cropArea:{h:e,w:n,x:i,y:e===b?a:r}});break}case"s":{const e=Math.max(r-a,b);this.setState({cropArea:{h:e,w:n,x:i,y:a}});break}case"e":{const n=Math.max(e-i,b);this.setState({cropArea:{h:t,w:n,x:i,y:a}});break}case"w":{const r=Math.max(n-e+i,b);this.setState({cropArea:{h:t,w:r,x:r===b?i:e,y:a}});break}}}else if("move"===r){var h,m;const e=c-this.cropChangeStartCoor.x,r=d-this.cropChangeStartCoor.y,l=Math.max(Math.min(i+e,(null!==(h=o.w)&&void 0!==h?h:1)-n-x),x),s=Math.max(Math.min(a+r,(null!==(m=o.h)&&void 0!==m?m:1)-t-x),x);this.cropChangeStartCoor={x:c,y:d},this.setState({cropArea:{h:t,w:n,x:l,y:s}})}else if("select"===r){var _,g;const e=Math.max(Math.min(c,null!==(_=o.w)&&void 0!==_?_:1),0),t=Math.max(Math.min(d,null!==(g=o.h)&&void 0!==g?g:1),0),n=e-this.cropChangeStartCoor.x,i=t-this.cropChangeStartCoor.y;this.setState({cropArea:{h:Math.abs(i),w:Math.abs(n),x:Math.min(this.cropChangeStartCoor.x,e),y:Math.min(this.cropChangeStartCoor.y,t)}})}})),f(this,"handleOnMouseUp",(()=>{const{cropChangeType:e}=this.state;"resize"!==e&&"move"!==e&&"select"!==e||this.handleCrop(),this.cropResizeDirection=null}))}componentDidMount(){const{body:e}=document,t=this._cropperOverlay.current;if(t&&e){if(t){const e=t.getBoundingClientRect();this._cropperOverlayCoor={x:e.left,y:e.top}}window.addEventListener("mouseup",this.handleOnMouseUp),e.addEventListener("mousemove",this.handleOnMouseMove),t.addEventListener("mousedown",this.handleOnMouseDown)}}componentWillUnmount(){const{body:e}=document,t=this._cropperOverlay.current;t&&e&&(window.removeEventListener("mouseup",this.handleOnMouseUp),e.removeEventListener("mousemove",this.handleOnMouseMove),t.removeEventListener("mousedown",this.handleOnMouseDown))}handleCrop(){const{imageSize:e,onChange:t,viewParameter:n,logContextEvent:i}=this.props,{cropChangeType:a,cropArea:r}=this.state;if(0===r.w&&0===r.h){var o,l;this.setState({cropChangeType:null}),t({origCrop:{h:(null!==(o=e.h)&&void 0!==o?o:1)-2*x,w:(null!==(l=e.w)&&void 0!==l?l:1)-2*x,x,y:x}})}else{var s,c,d,u;this.setState({cropChangeType:null});const o=Math.max(Math.min(r.x,(null!==(s=e.w)&&void 0!==s?s:1)-b-x),x),l=Math.max(Math.min(r.y,(null!==(c=e.h)&&void 0!==c?c:1)-b-x),x);let m,_;if(r.h<b)m=b;else if(l+r.h>(null!==(d=e.h)&&void 0!==d?d:1)-x){var p;m=(null!==(p=e.h)&&void 0!==p?p:1)-l-x}else m=r.h;if(r.w<b)_=b;else if(o+r.w>(null!==(u=e.w)&&void 0!==u?u:1)-x){var h;_=(null!==(h=e.w)&&void 0!==h?h:1)-o-x}else _=r.w;switch(a){case"move":i({event_type:7603,view_type:72,view_parameter:n});break;case"resize":i({event_type:7604,view_type:72,view_parameter:n})}t({origCrop:{h:m,w:_,x:o,y:l}})}}render(){const{children:e,previewCropArea:t,showPreviewArea:n}=this.props,{cropArea:{h:i,w:o,x:s,y:c},cropChangeType:d}=this.state;return(0,l.jsxs)(r.xu,{ref:this._cropperOverlay,position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{cursor:"crosshair"}},children:[(0,l.jsx)(v.Z,{unsafeCSS:"\n.preview-crop-area-enter {\n  opacity: 0;\n}\n\n.preview-crop-area-enter-active {\n  opacity: 1;\n  transition: opacity 300ms;\n}\n\n.preview-crop-area-exit {\n  opacity: 1;\n}\n\n.preview-crop-area-exit-active {\n  opacity: 0;\n  transition: opacity 300ms;\n}\n\n.preview-crop-area-exit-done {\n  opacity: 0;\n}\n"}),(0,l.jsxs)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:[(0,l.jsx)("defs",{children:(0,l.jsxs)("mask",{id:"Mask",children:[(0,l.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",rx:"0",ry:"0",fill:"#fff"}),(0,l.jsx)("rect",{x:s,y:c,width:o,height:i,id:"hole",rx:0,ry:0},`${s}${c}`),(0,l.jsx)(a.Z,{in:n&&!d,timeout:300,classNames:"preview-crop-area",mountOnEnter:!0,unmountOnExit:!0,children:(0,l.jsx)("rect",{x:t.x,y:t.y,width:t.w,height:t.h,id:"preview",rx:4,ry:4},`${t.x}${t.y}`)})]})}),(0,l.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",style:{fill:"rgba(0,0,0,0.5)"},mask:"url(#Mask)",className:"v2shadowMask"}),(0,l.jsx)("use",{href:"#hole",fill:"rgba(0,0,0,0)",stroke:"#fff",strokeWidth:"2",className:"v2cropSection",style:{cursor:"move"}}),"select"!==d&&(0,l.jsx)(y,{x:s,y:c,w:o,h:i})]}),e]})}}function P(e){const t=(0,o.Z)();return(0,l.jsx)(w,{logContextEvent:t,...e})}},389838:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),a=n(883119),r=n(536042),o=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=16,c=32;class d extends i.Component{constructor(...e){super(...e),l(this,"state",{isHovering:!1}),l(this,"handleMouseEnter",(e=>{this.setState({isHovering:!0}),this.props.onMouseEnter&&this.props.onMouseEnter(e)})),l(this,"handleMouseLeave",(e=>{this.setState({isHovering:!1}),this.props.onMouseLeave&&this.props.onMouseLeave(e)}))}render(){const{forwardedRef:e,icon:t,onClick:n,onMouseDown:i,onMouseUp:r,selected:l,style:d,text:u,x:p,y:h,zIndex:m,backdropDiameter:_=c,dotDiameter:g=s}=this.props,{isHovering:y}=this.state,v=y?_+4:_,f={zIndex:m,position:"absolute",top:h-v/2,left:p-v/2,outline:"none"};return(0,o.jsx)("div",{"data-test-id":"flashlight-dot",onClick:n,onKeyPress:n,onMouseDown:i,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:r,ref:e,role:"button",style:f,tabIndex:"0","aria-label":this.props.i18n._('Search this item', 'flashlight.dot.a11ylabel', 'accessibility label for flashlight dot'),children:(0,o.jsx)("div",{"data-test-id":"flashlight-dot-style",style:d,children:(0,o.jsxs)(a.xu,{alignItems:"center",borderStyle:"none",color:"default",display:"flex",height:g,justifyContent:"center",position:"absolute",padding:0,width:g,dangerouslySetInlineStyle:{__style:{boxShadow:l?"0 0 0 3px #e60023":"none",borderRadius:g,top:(v-g)/2,left:(v-g)/2}},children:[!!u&&(0,o.jsx)(a.xv,{align:"center",color:"default",inline:!0,size:"100",weight:"bold",children:u}),t&&(0,o.jsx)(a.JO,{accessibilityLabel:this.props.i18n._('Tag anchor', 'accessibility label for an anchor for an object in a pin', 'accessibility label for an anchor for an object in a pin'),color:"error",icon:t,size:g/2,inline:!0})]})})})}}const u=(0,i.forwardRef)(((e,t)=>{const n=(0,r.ZP)();return(0,o.jsx)(d,{...e,forwardedRef:t,i18n:n})}))},153263:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),a=n(616550),r=n(709509),o=n(374749),l=n(563962),s=n(389838),c=n(272109),d=n(785893);function u({showAnimation:e,auxData:t,index:n,isStela:i,onClick:a,onHover:r,onUnhover:o,spotlightCenter:u,viewParameter:p,viewType:h}){const m=(0,l.Z)(),_=i?1221:1260;(0,c.Z)((()=>{m({event_type:120,element:_,aux_data:t,view_parameter:p,view_type:h})}));const g=parseFloat((.1*(n+1)).toFixed(2)),y={animation:e?`spotlightDotPop 0.6s ease-out ${g}s both`:"none"};return(0,d.jsx)(s.Z,{x:u.x,y:u.y,onClick:e=>{e&&(e.stopPropagation(),e.preventDefault()),m({aux_data:t,element:_,event_type:101,view_parameter:p,view_type:h}),a(n)},onMouseEnter:e=>{e&&(e.stopPropagation(),e.preventDefault()),r(n)},onMouseLeave:e=>{e&&(e.stopPropagation(),e.preventDefault()),o()},style:y})}var p=n(874261),h=n(525010);const m=({showAnimation:e,pin:t,imageSignature:n,imageSize:a,currentSpotlightIdx:r,spotlightAreas:l,handleSpotlightClick:s,handleSpotlightHover:c,handleSpotlightUnhover:m,viewParameter:_,viewType:g})=>(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(p.Z,{unsafeCSS:"\n@keyframes spotlightDotPop {\n  0% {\n    opacity: 0;\n    transform: scale(0);\n  }\n\n  100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n}"}),l.map(((i,l)=>{var p,y;if(l===r)return null;const v=(0,h.Z)({cropArea:i,scaledWidth:null!==(p=a.w)&&void 0!==p?p:0,scaledHeight:null!==(y=a.h)&&void 0!==y?y:0}),f={x:v.x+v.w/2,y:v.y+v.h/2},x={commerce_data:JSON.stringify({...(0,o.Zs)(t),entrypoint:"flashlight"}),pin_id:t.id,image_signature:n,visual_objects:JSON.stringify([{x:i.x,y:i.y,w:i.w,h:i.h}])},b=`${f.x}${f.y}`;return(0,d.jsx)(u,{showAnimation:e,auxData:x,index:l,isStela:!!i.is_stela,onClick:s,onHover:c,onUnhover:m,spotlightCenter:f,viewParameter:_,viewType:g},b)}))]});var _=n(490152),g=n(351116),y=n(732719);const v=4;function f({customCropper:e,imageSize:t,imageSignature:n,initialCropArea:o,pin:l,showAnimation:s,spotlightAreas:c=[],trafficSource:u,viewParameter:p,viewType:f}){const x=(0,a.useHistory)(),[b,w]=(0,i.useState)(!1),[P,S]=(0,i.useState)({w:0,h:0,x:0,y:0}),[T,I]=(0,i.useState)(0);(0,i.useEffect)((()=>{const e=c.findIndex((e=>{var n,i;return(0,_.Z)(o,(0,h.Z)({cropArea:e,scaledWidth:null!==(n=t.w)&&void 0!==n?n:0,scaledHeight:null!==(i=t.h)&&void 0!==i?i:0}),v)}));I(e)}),[t,o,c]);const A=({origCrop:e,cropSource:t,trafficSource:i,title:a})=>{const{id:r}=l,o=window.location.pathname+window.location.search,s=(0,y.Z)({cropArea:e,pinId:r,cropSource:null!=t?t:6,isUnified:!1,imageSignature:n,title:a,trafficSource:i});s!==o&&(x.replace(s),x.replace({pathname:`/pin/${r}/visual-search/`,query:{...e,cropSource:t,imageSignature:n},search:(0,g.Z)({cropArea:e,cropSource:null!=t?t:6,imageSignature:n,title:a,trafficSource:i}),state:{internalNavigation:!0}}))},k=c&&!!c.length;return(0,d.jsx)(r.Z,{imageSize:t,initialCropArea:o,onChange:null!=e?e:A,previewCropArea:P,showPreviewArea:!1,viewParameter:p,children:k&&(0,d.jsx)(m,{handleSpotlightClick:n=>{var i,a;const r=c[n],o={origCrop:(0,h.Z)({cropArea:r,scaledWidth:null!==(i=t.w)&&void 0!==i?i:0,scaledHeight:null!==(a=t.h)&&void 0!==a?a:0}),cropSource:r.is_stela?4:1,trafficSource:u,title:r.title};e?e(o):A(o)},handleSpotlightHover:e=>{var n,i;e!==T&&(w(!0),S((0,h.Z)({cropArea:c[e],scaledWidth:null!==(n=t.w)&&void 0!==n?n:0,scaledHeight:null!==(i=t.h)&&void 0!==i?i:0})))},handleSpotlightUnhover:()=>{w(!1)},imageSignature:n,imageSize:t,currentSpotlightIdx:T,pin:l,showAnimation:s,spotlightAreas:c,viewParameter:p,viewType:f})},JSON.stringify(o))}},310561:(e,t,n)=>{n.d(t,{Hv:()=>s,aX:()=>u,nK:()=>p});var i=n(667294),a=n(616550),r=n(583592),o=n(785893);const{Provider:l,useHook:s}=(0,r.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),c=e=>e&&e.pathname?e.pathname+(e.search||""):"";function d(e,t){var n;const i={action:t.type,location:t.location,match:t.match};if(t.location===(null===(n=e.current)||void 0===n?void 0:n.location))return e;switch(t.type){case"POP":return e.forward.length>0&&c(e.forward[0].location)===c(i.location)?{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous}:{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:i,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:i};default:return e}}function u(){const{current:e,previous:t}=s();return(0,i.useMemo)((()=>e?t.concat(e):t),[e,t])}function p({children:e}){const t=(0,a.useHistory)(),n=(0,a.useLocation)(),r=(0,a.useRouteMatch)(),s={forward:[],current:{action:t.action,location:n,match:r},previous:[]},[c,u]=(0,i.useReducer)(d,s);return(0,i.useEffect)((()=>{const{action:e}=t;u({type:e,location:n,match:r})}),[n]),(0,o.jsx)(l,{value:c,children:e})}},176172:(e,t,n)=>{n.d(t,{Dv:()=>r,Ml:()=>o,Oc:()=>i,mv:()=>a});const i=16,a=4,r={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},o=120},281993:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),a=n(883119),r=n(388011),o=n(24286),l=n(536042),s=n(223228),c=n(846226),d=n(785893);const u=({contentIds:e,previewImageSrc:t,url:n,buttonText:u,shape:p="square",storyId:h,storyType:m,view:_,viewParameter:g,component:y,element:v})=>{const f="square"===p?4:"circle",x=(0,s.Z)()?o.tG:o.yF,{logContextEvent:b}=(0,r.v)(),w=(0,l.ZP)(),P=(0,i.useMemo)((()=>!(Number.isNaN(_)||Number.isNaN(g)||Number.isNaN(y)||Number.isNaN(v))),[_,g,y,v]),S=y;return(0,i.useEffect)((()=>{P&&b({event_type:120,view_type:_,view_parameter:g,component:S,element:v,aux_data:{content_ids:e,story_id:h,story_type:m}})}),[e,b,_,g,S,v,P,h,m]),(0,d.jsx)(c.Z,{id:"sf-action-item-rep",children:(0,d.jsx)(a.xu,{width:x,height:x,color:"secondary",rounding:f,overflow:"hidden",children:(0,d.jsx)(a.zd,{height:"100%",width:"100%",wash:!0,rounding:f,children:(0,d.jsx)(a.Ee,{src:t,alt:w._('Action Item Rep Preview Image', 'actionItemRep.image', 'alt text for a preview image image in action item'),color:"#fff",fit:"cover",naturalHeight:50,naturalWidth:50,children:(0,d.jsx)(a.xu,{height:"100%",width:"100%",left:!0,top:!0,alignItems:"center",justifyContent:"center",display:"flex",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.3)"}},children:(0,d.jsx)(a.zx,{onClick:()=>{P&&b({event_type:101,view_type:_,view_parameter:g,component:S,element:v,aux_data:{content_ids:e,story_id:h,story_type:m}})},text:u,role:"link",href:n,color:"white",size:"lg"})})})})})})}},407109:(e,t,n)=>{n.d(t,{Z:()=>A});var i=n(667294),a=n(616550),r=n(883119),o=n(388011),l=n(833122),s=n(316196),c=n(24286),d=n(536042),u=n(941819),p=n(806681),h=n(785893);function m({item:e={},imagePlaceholderColor:t=u.hK,onTap:n}){var a,o;const l=(0,d.ZP)(),m=null==e||null===(a=e.cover_images)||void 0===a?void 0:a[0],_=null==m?void 0:m["236x"];return(0,h.jsx)(r.iP,{onTap:n,children:(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(p.q,{children:({hovered:e,onMouseEnter:n,onMouseLeave:i})=>(0,h.jsx)(r.xu,{marginBottom:2,"data-test-id":"category-bubble",onMouseEnter:n,onMouseLeave:i,children:(0,h.jsxs)(r.zd,{height:c.yF,rounding:"circle",wash:!0,width:c.yF,children:[(0,h.jsx)(s.Z,{hovered:e,rounding:"circle"}),(0,h.jsx)(r.Ee,{alt:l._('Image previewing contents of an item', 'itemRep.userRep.previewImage', 'alt text for an image previewing the contents of an item'),color:t,fit:"cover",naturalHeight:c.yF,naturalWidth:c.yF,src:(null==_?void 0:_.url)||""})]})})}),(null==e||null===(o=e.title)||void 0===o?void 0:o.format)&&(0,h.jsx)(r.xu,{width:c.yF,children:(0,h.jsx)(r.xv,{align:"center",weight:"bold",children:e.title.format})})]})})}var _=n(364187),g=n(345990),y=n(294347),v=n(549201);const f=157,x=({item:e={},onTap:t})=>{var n,i,a,o;const l=(0,d.ZP)(),s=(0,v.HG)(),u=null===(n=e.action)||void 0===n?void 0:n.url;if(!u)return null;const p=e.curator||{},m=p.full_name||"",x=p.username||"",b=p.image_medium_url||"",w=(null===(i=p.verified_identity)||void 0===i?void 0:i.verified)||!1,P=p.is_verified_merchant||!1,[S,T]=e.cover_images||[],I=(null===(a=S["170x"])||void 0===a?void 0:a.url)||"",A=(null===(o=T["170x"])||void 0===o?void 0:o.url)||"",k=s?c.yF:c.tG;return(0,h.jsxs)(r.xu,{width:k,"data-test-id":"default-brand-article",children:[(0,h.jsx)(r.iP,{role:"link",rounding:3,href:u,accessibilityLabel:"",onTap:t,children:(0,h.jsxs)(r.xu,{height:f,children:[(0,h.jsx)(r.zd,{rounding:4,height:f,width:k,wash:!0,children:(0,h.jsxs)(r.kC,{children:[(0,h.jsx)(_.Z,{height:f,width:k/2,src:I}),(0,h.jsx)(r.xu,{color:"default",width:1}),(0,h.jsx)(_.Z,{height:f,width:k/2,src:A})]})}),(0,h.jsx)(r.xu,{display:"flex",justifyContent:"center",marginTop:-8,children:(0,h.jsx)(g.Z,{size:64,src:b||"",color:"gray",fullName:m||x})})]})}),(0,h.jsx)(r.xu,{height:40}),m&&(0,h.jsx)(y.Z,{name:m,isDomainVerified:w,isVerifiedMerchant:P}),(0,h.jsx)(r.xu,{marginTop:2,marginBottom:2,justifyContent:"center",width:"100%",display:"flex",children:(0,h.jsx)(r.zx,{text:l._('Shop', 'StructuredFeed.ItemReps.ExploreArticleRep.DefaultBrandArticle.ButtonText', 'Text on a button under a brand article that leads to a feed of products from that brand'),size:"lg",role:"link",href:u,accessibilityLabel:l._('Navigate to a feed of products from this brand', 'StructuredFeed.ItemReps.ExploreArticleRep.DefaultBrandArticle.linkAccessibilityLabel', 'Accessibility label on a brand article that leads to a feed of products from that brand')})})]})},b="pill";var w=n(22299),P=n(740612),S=n(687376);const T=()=>{},I={2:m,3:function({item:e={},onTap:t}){const n=(0,d.ZP)(),i=null==e?void 0:e.identifier_icon_type,{icon:a,text:o}=((e,t)=>{switch(e){case 2:return{icon:"workflow-status-all",text:t._('Categories', 'NavigationBubble.NavigationIcon.utils', 'Categories navigation button text')};case 3:return{icon:"shopping-bag",text:t._('Stores', 'ExploreArticleRep.NavigationBubble.utils', 'Stores navigation button text')};case 4:return{icon:"terms",text:t._('Your items', 'ExploreArticleRep.NavigationBubble.utils', 'Your items navigation button text')};default:return{icon:null}}})(i,n);return(0,h.jsx)(r.iP,{onTap:t,tapStyle:"compress",rounding:a?5:b,children:(0,h.jsx)(p.q,{children:({active:t,hovered:n,onMouseEnter:i,onMouseLeave:l,onFocus:d,onBlur:u})=>{var p,m,_;return(0,h.jsxs)(r.xu,{"data-test-id":"navigation-bubble",onMouseEnter:i,onMouseLeave:l,onFocus:d,onBlur:u,rounding:5,children:[a&&(0,h.jsxs)(r.zd,{height:85,rounding:5,wash:!0,width:85,children:[(0,h.jsx)(s.Z,{hovered:n}),(0,h.jsx)(r.xu,{alignItems:"center",color:"secondary",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%",children:(0,h.jsx)(r.JO,{accessibilityLabel:o||"",color:"default",icon:a,size:32})})]}),o&&(0,h.jsx)(r.xu,{marginTop:2,width:85,children:(0,h.jsx)(r.xv,{align:"center",weight:"bold",children:o})}),!a&&!o&&(null==e||null===(p=e.title)||void 0===p?void 0:p.format)&&(0,h.jsx)(r.xu,{rounding:b,dangerouslySetInlineStyle:{__style:{backgroundColor:null===(m=e.aux_fields)||void 0===m?void 0:m.button_background_color}},children:(0,h.jsx)(r.xu,{rounding:b,padding:4,dangerouslySetInlineStyle:{__style:{backgroundColor:(t?"rgba(0, 0, 0, 0.15)":n&&"rgba(0, 0, 0, 0.06)")||void 0}},children:(0,h.jsx)(r.xv,{align:"center",weight:"normal",color:"#ffffff"===(null===(_=e.aux_fields)||void 0===_?void 0:_.button_text_color)?"inverse":"default",children:(0,h.jsx)(r.xu,{maxWidth:c.yF-16,overflow:"hidden",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},children:e.title.format})})})})]})}})})},1:function({item:e={},onTap:t}){var n;const i=(0,d.ZP)(),a=null==e||null===(n=e.cover_images)||void 0===n?void 0:n[0],o=null==a?void 0:a["236x"];return(0,h.jsx)(r.iP,{onTap:t,tapStyle:"compress",rounding:3,children:(0,h.jsx)(p.q,{children:({hovered:t,onMouseEnter:n,onMouseLeave:a})=>{var l;return(0,h.jsx)(r.xu,{"data-test-id":"search-bubble",onMouseEnter:n,onMouseLeave:a,rounding:3,children:(0,h.jsxs)(r.zd,{height:150,rounding:3,wash:!0,width:300,children:[(0,h.jsx)(s.Z,{hovered:t}),(0,h.jsx)(r.Ee,{alt:i._('Image previewing contents of an item', 'itemRep.userRep.previewImage', 'alt text for an image previewing the contents of an item'),fit:"cover",naturalHeight:150,naturalWidth:300,role:"presentation",src:(null==o?void 0:o.url)||"",children:(0,h.jsx)(r.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",justifyContent:"center",height:150,padding:3,position:"absolute",top:!0,width:300,children:(null==e||null===(l=e.title)||void 0===l?void 0:l.format)&&(0,h.jsx)(r.X6,{color:"inverse",size:"400",children:e.title.format})})})]})})}})})},4:P.Z,13:x,19:S.ZP,20:w.ZP};function A(e){var t,n;const{component:s,slotIndex:c,item:d,showExpandedHeader:u,story:p,view:_,viewParameter:g}=e,{display_options:y,story_type:v,id:f,content_ids:x}=p||{},{logContextEvent:b}=(0,o.v)(),w=(0,a.useHistory)(),P=null==d?void 0:d.id,S=(0,i.useMemo)((()=>({story_type:v,story_id:f,content_ids:x,article_id:P})),[P,x,f,v]),A=(0,l.Z)({componentType:s,contextLogData:S,impressionType:"Article",loggingId:P,objectIdStr:P,slotIndex:c,viewParameter:g,viewType:_}),k=u?null==y||null===(t=y.item_view_rep_style)||void 0===t?void 0:t.expanded_explore_article_rep_style:null==y||null===(n=y.item_view_rep_style)||void 0===n?void 0:n.explore_article_rep_style,{action:E}=d||{},{url:C=""}=E||{},j=Object.hasOwnProperty.call(I,k)?I[k]:m,D=u?T:()=>{w.push(C),b({event_type:101,component:s,view_type:_,view_parameter:g,aux_data:S})};return(0,h.jsx)(r.xu,{ref:A,children:(0,h.jsx)(j,{...e,onTap:D})})}},22299:(e,t,n)=>{n.d(t,{ZP:()=>f,dZ:()=>y,mR:()=>v});var i=n(883119),a=n(9507),r=n(393272),o=n(549201),l=n(785893);const s=118,c=137,d=80,u=92,p=160,h=186,m=108,_=126,g=4,y=216,v=258;function f({item:e,onTap:t}){const n=(0,o.HG)(),{action:f,cover_images:x,aux_fields:b,title:w,subtitle:P,dominant_colors:S=[]}=e,T=(null==w?void 0:w.format)||"",{background_color:I}=b||{};if(!(T&&x&&f&&I))return null;const A=n?v:y,k=n?h:p,E=n?_:m,C=n?c:s,j=n?u:d,D=(null==P?void 0:P.format)||"",R=x.slice(0,3).map((e=>{var t;return(null===(t=(0,r.Z)({images:e,resolutionPreferences:["200x","236x","400x"]}))||void 0===t?void 0:t.url)||""})),F=(0,a.zI)(I)?"light":"dark";return(0,l.jsx)(i.iP,{onTap:t,tapStyle:"compress",rounding:g,children:(0,l.jsx)(i.xu,{"data-test-id":"stacked-collage-display-card",rounding:g,width:A,height:A,dangerouslySetInlineStyle:{__style:{backgroundColor:I}},overflow:"hidden",children:(0,l.jsxs)(i.xu,{position:"relative",height:A,padding:2,children:[(0,l.jsxs)(i.xu,{marginTop:4,marginBottom:3,children:[(0,l.jsx)(i.kC,{justifyContent:"center",children:(0,l.jsx)(i.xv,{lineClamp:1,align:"center",size:"400",weight:"bold",color:F,children:T})}),D&&(0,l.jsx)(i.xu,{display:"flex",justifyContent:"center",marginTop:1,children:(0,l.jsx)(i.xv,{lineClamp:1,align:"center",size:"100",color:F,children:null==P?void 0:P.format})})]}),(0,l.jsx)(i.xu,{position:"absolute",left:!0,bottom:!0,children:(0,l.jsx)(i.zd,{height:C,wash:!0,width:j,rounding:g,children:(0,l.jsx)(i.xu,{height:C,width:j,children:(0,l.jsx)(i.Ee,{alt:"",color:S[1],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:R[1]})})})}),(0,l.jsx)(i.xu,{position:"absolute",right:!0,bottom:!0,children:(0,l.jsx)(i.zd,{height:C,wash:!0,width:j,rounding:g,children:(0,l.jsx)(i.xu,{height:C,width:j,children:(0,l.jsx)(i.Ee,{alt:"",color:S[2],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:R[2]})})})}),(0,l.jsx)(i.xu,{display:"flex",justifyContent:"center",left:!0,right:!0,dangerouslySetInlineStyle:{__style:{bottom:"-22px"}},position:"absolute",children:(0,l.jsx)(i.zd,{height:k,wash:!0,width:E,rounding:g,children:(0,l.jsx)(i.xu,{height:k,width:E,children:(0,l.jsx)(i.Ee,{alt:"",color:S[0],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:R[0]})})})})]})})})}},740612:(e,t,n)=>{n.d(t,{Z:()=>s,u:()=>o});var i=n(883119),a=n(785893);const r=258,o=369,l=4;function s({item:e,onTap:t,slotIndex:n}){const{action:s,aux_fields:c,cover_images:d,dominant_colors:u,title:p}=e;if(!p||!d||!s)return null;const h=d.length<=0?[{}]:d.slice(0,2);return(0,a.jsx)(i.iP,{onTap:t,tapStyle:"compress",rounding:l,children:(0,a.jsxs)(i.xu,{alignItems:"center","data-test-id":"style-bubble",display:"flex",height:r,justifyContent:"center",overflow:"hidden",position:"relative",rounding:l,width:o,children:[(0,a.jsx)(i.kC,{children:h.map(((e,t)=>{var l,s,c;return(0,a.jsx)(i.zd,{height:r,wash:!0,width:o/h.length,children:(0,a.jsx)(i.Ee,{alt:"",color:(u||[])[t],fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:(null===(l=e["474x"])||void 0===l?void 0:l.url)||(null===(s=e["736x"])||void 0===s?void 0:s.url)||(null===(c=e["236x"])||void 0===c?void 0:c.url)||""})},`styleCarousel_bubble${n}_pin${t}`)}))}),(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:null==c?void 0:c.button_background_color}},paddingX:4,paddingY:3,position:"absolute",rounding:"pill",children:(0,a.jsx)(i.xv,{align:"center",weight:"bold",children:(0,a.jsx)("span",{style:{color:null==c?void 0:c.button_text_color,margin:"0"},children:p.format})})})]})})}},687376:(e,t,n)=>{n.d(t,{Gd:()=>p,ZP:()=>m,d:()=>h});var i=n(883119),a=n(393272),r=n(549201),o=n(785893);const l=150,s=200,c=108,d=124,u=4,p=3*c,h=3*d;function m({item:e,onTap:t}){const n=(0,r.HG)(),{action:m,cover_images:_,dominant_colors:g,title:y,subtitle:v}=e,f=null==y?void 0:y.format;if(!f||!_||!m)return null;const x=n?s:l,b=n?d:c,w=n?h:p,P=(null==v?void 0:v.format)||"",S=_.slice(0,3);return(0,o.jsx)(i.iP,{onTap:t,tapStyle:"compress",rounding:u,children:(0,o.jsxs)(i.xu,{"data-test-id":"triple-preview-display-card",rounding:u,width:w,children:[(0,o.jsx)(i.zd,{height:x,wash:!0,width:w,rounding:u,children:(0,o.jsx)(i.kC,{alignItems:"stretch",justifyContent:"start",children:S.map(((e,t)=>{var n;const r=(null===(n=(0,a.Z)({images:e,resolutionPreferences:["200x","236x","400x"]}))||void 0===n?void 0:n.url)||"";return(0,o.jsx)(i.xu,{height:x,width:b,children:(0,o.jsx)(i.Ee,{alt:"",color:(g||[])[t],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:r})},r)}))})}),(0,o.jsxs)(i.xu,{marginTop:4,children:[(0,o.jsx)(i.kC,{justifyContent:"center",children:(0,o.jsx)(i.xv,{size:"400",weight:"bold",align:"center",children:f})}),P&&(0,o.jsx)(i.xu,{display:"flex",justifyContent:"center",marginTop:1,children:(0,o.jsx)(i.xv,{size:n?"200":"100",color:"subtle",align:"center",children:P})})]})]})})}},527793:(e,t,n)=>{n.d(t,{ZP:()=>g,lf:()=>m,wg:()=>_,xR:()=>h});var i=n(883119),a=n(628062),r=n(279203),o=n(134661),l=n(784980),s=n(19494),c=n(549201),d=n(785893);const u=110,p=90,h=299,m=270,_=232;function g(e){var t;const{pinCards:n,isClicked:g,isHovered:y,item:v={},story:f}=e,x=(0,c.HG)(),b=(0,s.Z)(),w=f&&(null===(t=f.objects)||void 0===t?void 0:t.length),{board_name:P,header_text:S,top_image_dominant_color_rgb:T}=v;let I=g?u-4:u,A=g?h-4:h;x||(I=p,A=1===w?"100%":b?_:m);let k=155;return x||(k=b?108:148),(0,d.jsxs)(i.xu,{height:I,display:"flex",paddingY:2,position:"relative",rounding:a.N3,width:A,dangerouslySetInlineStyle:{__style:(0,o.f)(T,g,y)},children:[(0,d.jsx)(l.Z,{}),(0,d.jsx)(i.xu,{width:x?112:100,position:"relative",children:n.map(((e,t)=>(0,d.jsx)(r.Z,{fanOut:y||g,card:e,index:t,size:x?"SMALL":"MOBILE"},t)))}),(0,d.jsxs)(i.xu,{display:"flex",direction:"column",justifyContent:"center",marginStart:x?2:3,width:k,children:[(0,d.jsx)(i.xv,{size:x?"200":"100",children:S}),(0,d.jsx)(i.xv,{lineClamp:2,size:"400",weight:"bold",children:P})]})]})}},849191:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),a=n(883119),r=n(388011),o=n(628062),l=n(527793),s=n(279203),c=n(134661),d=n(784980),u=n(785893);var p=n(549201);const h=700,m={1:l.ZP,3:function(e){const{pinCards:t,isClicked:n,isHovered:i,item:r}=e,{board_name:l,top_image_dominant_color_rgb:p}=r;return(0,u.jsxs)(a.xu,{height:n?165:169,display:"flex",alignItems:"end",justifyContent:"center",paddingX:4,paddingY:3,position:"relative",rounding:o.N3,width:n?232:236,dangerouslySetInlineStyle:{__style:(0,c.f)(p,n,i)},children:[(0,u.jsx)(d.Z,{}),t.map(((e,t)=>(0,u.jsx)(s.Z,{fanOut:i||n,card:e,index:t,size:"DEFAULT"},t))),(0,u.jsx)(a.xv,{align:"center",lineClamp:1,size:"200",weight:"bold",children:l})]})},4:function(e){var t;const{logContextEvent:n}=(0,r.v)(),{pinCards:i,isHovered:l,item:p,view:h,viewParameter:m}=e,{action:_,board_name:g,header_text:y,ideas_deep_link_url:v,top_image_dominant_color_rgb:f}=p,x=null!==(t=null==_?void 0:_.url)&&void 0!==t?t:v.concat("?ideas_referrer=25");return(0,u.jsxs)(a.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"end",marginBottom:6,minHeight:377,position:"relative",paddingX:4,paddingY:8,rounding:o.N3,width:236,dangerouslySetInlineStyle:{__style:(0,c.f)(f,!1,l)},children:[i.map(((e,t)=>(0,u.jsx)(s.Z,{fanOut:l,card:e,index:t,size:"LARGE"},t))),(0,u.jsx)(a.xu,{height:168,width:"100%"}),(0,u.jsx)(d.Z,{}),(0,u.jsxs)(a.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"end",children:[(0,u.jsxs)(a.xu,{display:"flex",direction:"column",alignItems:"center",marginTop:5,marginBottom:5,children:[(0,u.jsx)(a.xu,{marginBottom:1,children:(0,u.jsx)(a.xv,{size:"200",weight:"bold",children:y})}),(0,u.jsx)(a.xv,{align:"center",size:"500",weight:"bold",children:g})]}),(0,u.jsx)(a.xu,{display:"flex",justifyContent:"center",marginTop:1,position:"relative",width:"100%",children:(0,u.jsx)(a.zx,{color:"white",href:x,size:"lg",onClick:({event:e})=>{e.stopPropagation(),n({event_type:101,view_type:h,view_parameter:m,component:14268,element:13002,object_id_str:p.board_id})},role:"link",text:"Explore"})})]})]})}},_=["100%","60%"];function g(e){var t,n;const{component:l,isInViewOrNext:s,item:{action:d,board_id:g,ideas_deep_link_url:y,images:v,image_dominant_color_rgb:f},slotIndex:x,story:b={},view:w,viewParameter:P}=e,{logContextEvent:S}=(0,r.v)(),T=(0,p.ZP)(),{display_options:I,objects:A}=b,k=null==A?void 0:A.length,[E,C]=(0,i.useState)(!1),[j,D]=(0,i.useState)(!1),[R,F]=(0,i.useState)(!1);(0,i.useEffect)((()=>{if("desktop"===T){const e=setTimeout((()=>F(!0)),h);return()=>{clearTimeout(e)}}}),[T]);let L=[];const O="desktop"!==T?o.mS:o.S$;(s||"desktop"!==T)&&(L=R?[...v[O]]:[v[O][0]]);const z=3-L.length;for(let i=0;i<z;i+=1)L.push({colorRGB:f,opacity:_[i]});L.reverse();const M=null==I||null===(t=I.item_view_rep_style)||void 0===t?void 0:t.more_ideas_rep_style,N=m[M],Z=l||c.k[M],U=null!==(n=null==d?void 0:d.url)&&void 0!==n?n:y.concat("?ideas_referrer=25");return N&&(0,u.jsx)(a.iP,{href:U,role:"link",onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),onMouseDown:()=>D(!0),onTap:()=>S({event_type:101,view_type:w,view_parameter:P,component:Z,element:13002,object_id_str:g,aux_data:{index:x,total_object_count:k}}),children:(0,u.jsx)(N,{isClicked:j,isHovered:E,pinCards:L,...e})})}},279203:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),a=n(785893);const r={MOBILE:{HEIGHT_PX:64,WIDTH_PX:48},SMALL:{HEIGHT_PX:72,WIDTH_PX:54},DEFAULT:{HEIGHT_PX:96,WIDTH_PX:72},LARGE:{HEIGHT_PX:130,WIDTH_PX:98}},o=(e,t,n)=>{let i;switch(n){case"MOBILE":i={0:{transform:"rotate(-15deg)",top:"6px",left:"16px"},1:{transform:"rotate(0deg)",top:"3px",left:"30px"},2:{transform:"rotate(15deg)",top:"6px",left:"44px"}};break;case"SMALL":i={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"12px",left:"12px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"6px":"10px",left:"26px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"12px",left:"40px"}};break;case"LARGE":i={0:{transform:t?"rotate(-26deg)":"rotate(-15deg)",top:"50px",left:"44px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"36px":"40px",left:"68px"},2:{transform:t?"rotate(26deg)":"rotate(15deg)",top:"56px",left:"98px"}};break;default:i={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"20px",left:"64px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"10px":"14px",left:"82px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"20px",left:"100px"}}}const a=i[e];return a.border="1px solid #FFFFFF",a.transition="all 150ms ease-out",a};function l({fanOut:e,card:t,index:n,size:l}){const s=r[l],{height:c=s.HEIGHT_PX,url:d,width:u=s.WIDTH_PX,colorRGB:p,opacity:h}=t;let m;return d?m=(0,a.jsx)(i.Ee,{alt:d,fit:"cover",naturalHeight:c,naturalWidth:u,src:d}):p&&h&&(m=(0,a.jsx)(i.xu,{height:s.HEIGHT_PX,width:s.WIDTH_PX,dangerouslySetInlineStyle:{__style:{backgroundColor:`rgba(${p.join(", ")}, ${h})`}}})),(0,a.jsx)(i.xu,{rounding:5,position:"absolute",dangerouslySetInlineStyle:{__style:o(n,e,l)},children:(0,a.jsx)(i.zd,{height:s.HEIGHT_PX,rounding:5,width:s.WIDTH_PX,wash:!0,children:m})})}},784980:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(628062),r=n(785893);function o(){return(0,r.jsx)(i.xu,{position:"absolute",rounding:a.N3,top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.03)"}}})}},628062:(e,t,n)=>{n.d(t,{N3:()=>i,Ql:()=>a,S$:()=>o,a$:()=>r,mS:()=>l});const i=4,a=.35,r=.5,o="170x",l="136x136"},134661:(e,t,n)=>{n.d(t,{f:()=>a,k:()=>r});var i=n(628062);const a=(e,t,n)=>{return{backgroundColor:`rgba(${e.join(", ")}, ${a=n||t,a?i.a$:i.Ql})`,marginRight:t?"2px":"0px",marginLeft:t?"2px":"0px"};var a},r={1:14114,3:14074,4:14268}},294219:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(616550),a=n(883119),r=n(555495),o=n(24286),l=n(520636),s=n(938818),c=n(739425),d=n(549201),u=n(785893);const p=new Set(["shopping_module_closeup","product_pins","shopping_list","shop_tab_upsell"]),h=e=>null!=e&&e.shop_source||p.has(null==e?void 0:e.story_type)?"ShoppingDynamicHeightGrid":"StoryFeedNonProduct";function m(e){var t,n,p;const{pins_display:m}=(0,c.mB)((0,i.useLocation)().search),{component:_,slotIndex:g,item:y,story:v,surface:f,view:x,viewParameter:b}=e,w="desktop"===(0,d.ZP)(),P=w?o.yF:o.tG;if(!y)return null;const{story_type:S,id:T,content_ids:I,display_options:A}=v||{},{pins_display:k}=(null==A?void 0:A.content_display)||{},{id:E,debug:C}=y,j=![3,1].includes(null!=k?k:Number(m)),D={story_type:S,story_id:T,content_ids:I},R=(0,u.jsxs)(a.xu,{"data-test-id":l.Kb,children:[(0,u.jsx)(r.default,{pin:y,pinId:E,pinImageCrop:j?{height:P,width:P}:null,authDesktopSurface:f||h(v),impressionData:D,auxData:D,componentType:null!==(t=null==v||null===(n=v.display_options)||void 0===n||null===(p=n.content_display)||void 0===p?void 0:p.component_type)&&void 0!==t?t:_,slotIndex:g,viewData:{pin_id:E},viewParameter:b,viewType:x,disableHover:!w}),C&&(0,u.jsx)(s.Wu,{data:C})]});return j?(0,u.jsx)(a.xu,{flex:"none",width:P,children:R},E):R}},364187:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(785893);function r({height:e,width:t,src:n}){return(0,a.jsx)(i.xu,{height:e,width:t,children:(0,a.jsx)(i.Ee,{naturalHeight:e,naturalWidth:t,src:n,color:"lightGray",fit:"cover",alt:"",role:"presentation"})})}},435628:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(667294),a=n(616550),r=n(883119),o=n(388011),l=n(833122),s=n(24286),c=n(345990),d=n(294347),u=n(941819),p=n(785893);const h=({item:e,imagePlaceholderColor:t=u.hK})=>{const{username:n,image_large_url:i,full_name:a,domain_verified:o=!1,is_verified_merchant:l=!1}=e;return(0,p.jsxs)(r.xu,{width:s.yF,children:[(0,p.jsx)(r.xu,{display:"flex",justifyContent:"center",marginBottom:2,children:(0,p.jsx)(c.Z,{size:120,fullName:a||n,src:i||"",color:t})}),a&&(0,p.jsx)(d.Z,{name:a,isDomainVerified:o,isVerifiedMerchant:l})]})};var m=n(364187);const _=.4*s.yF,g=.75*s.yF,y={5:h,1:({item:e={},story:t,imagePlaceholderColor:n=u.hK})=>{var i,a,o;const{username:l,image_large_url:h,full_name:y,id:v,domain_verified:f=!1,is_verified_merchant:x=!1}=e,b=(null==t||null===(i=t.custom_properties)||void 0===i||null===(a=i.preview_image_map)||void 0===a||null===(o=a[v])||void 0===o?void 0:o[0])||"";return(0,p.jsxs)(r.xu,{width:s.yF,height:s.yF,children:[(0,p.jsx)(r.zd,{rounding:4,height:g,width:s.yF,wash:!0,children:(0,p.jsx)(m.Z,{height:s.yF,width:s.yF,src:b})}),(0,p.jsx)(r.xu,{display:"flex",justifyContent:"center",marginTop:-12,marginBottom:2,children:(0,p.jsx)(c.Z,{size:_,src:h||"",color:n,fullName:y||l})}),y&&(0,p.jsx)(d.Z,{name:y,isDomainVerified:f,isVerifiedMerchant:x})]})},2:({item:e={},story:t})=>{var n,i;const{username:a,image_large_url:o,full_name:l,id:u,domain_verified:h=!1,is_verified_merchant:y=!1}=e,[v="",f=""]=(null==t||null===(n=t.custom_properties)||void 0===n||null===(i=n.preview_image_map)||void 0===i?void 0:i[u])||[];return(0,p.jsxs)(r.xu,{width:s.yF,children:[(0,p.jsxs)(r.xu,{height:s.yF,children:[(0,p.jsx)(r.zd,{rounding:4,height:g,width:s.yF,wash:!0,children:(0,p.jsxs)(r.kC,{children:[(0,p.jsx)(m.Z,{height:s.yF,width:s.yF/2,src:v}),(0,p.jsx)(r.xu,{color:"default",width:2}),(0,p.jsx)(m.Z,{height:s.yF,width:s.yF/2,src:f})]})}),(0,p.jsx)(r.xu,{display:"flex",justifyContent:"center",marginTop:-12,marginBottom:2,children:(0,p.jsx)(c.Z,{size:_,src:o||"",color:"gray",fullName:l||a})})]}),l&&(0,p.jsx)(d.Z,{name:l,isDomainVerified:h,isVerifiedMerchant:y})]})}};function v(e){var t,n;const{logContextEvent:s}=(0,o.v)(),c=(0,a.useHistory)(),{story:d={},slotIndex:u,component:h,view:m,viewParameter:_,item:g}=e,v=(null===(t=d.display_options)||void 0===t||null===(n=t.item_view_rep_style)||void 0===n?void 0:n.user_rep_style)||5,f=y[v],x=(0,i.useMemo)((()=>({story_type:d.story_type,story_id:d.id,content_ids:d.content_ids,user_id:g.id})),[g,d]),b=(0,l.Z)({contextLogData:x,impressionType:"User",loggingId:g.id,objectIdStr:g.id,slotIndex:u,viewParameter:_,viewType:m});return f?(0,p.jsx)(r.iP,{ref:b,onTap:()=>{s({event_type:101,view_type:m,view_parameter:_,component:h,aux_data:x}),c.push(`/${g.username}`)},children:(0,p.jsx)(f,{...e})}):null}},345990:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(883119),a=n(316196),r=n(536042),o=n(630089),l=n(806681),s=n(785893);function c({color:e,fullName:t,size:n,src:c}){const d=(0,r.ZP)();return(0,s.jsx)(l.q,{children:({hovered:r,onMouseEnter:l,onMouseLeave:u})=>(0,s.jsx)(i.xu,{marginBottom:2,"data-test-id":"category-bubble",onMouseEnter:l,onMouseLeave:u,children:(0,s.jsxs)(i.zd,{height:n,rounding:"circle",width:n,wash:!0,children:[(0,s.jsx)(a.Z,{hovered:r,rounding:"circle"}),(0,s.jsx)(i.Ee,{naturalHeight:n,naturalWidth:n,src:c,color:e,alt:(0,o.nk)(d._('Logo of {{ fullName }}', 'itemRep.userRep.brandLogo', 'Alt text for the brand logo'),{fullName:t}).join("")})]})})})}},294347:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(251163),r=n(785893);function o({name:e,isDomainVerified:t,isVerifiedMerchant:n}){return(0,r.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"center",alignContent:"center",gap:1,children:[e&&(0,r.jsx)(i.xv,{inline:!0,weight:"bold",children:e}),(0,r.jsx)(a.Z,{size:"sm",isVerifiedMerchant:n,hasVerifiedIdentity:t})]})}},733245:(e,t,n)=>{n.d(t,{i:()=>l});var i=n(883119),a=n(24286),r=n(785893);function o(){return(0,r.jsx)(i.xu,{width:a.yF})}function l(e){return new Array(e).fill().map(((e,t)=>(0,r.jsx)(o,{},t)))}},93082:(e,t,n)=>{n.d(t,{Z:()=>w,v:()=>g});var i=n(167912),a=n.n(i),r=n(240684),o=n(873213),l=n(448709),s=n(407109),c=n(849191),d=n(294219),u=n(435628),p=n(785893),h;const m=(0,r.ZP)({resolved:{},chunkName:()=>"DefaultPinRep",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(97270),n.e(39921)]).then(n.bind(n,392553)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 392553}}),_={board_more_ideas_feed_upsell:c.Z,pin:d.Z,user:u.Z,explorearticle:s.Z,productgroup:o.Z};function g(e){return null==e||!e.type||"story"===e.type&&!(e.type in _)?null:"pin"===e.type?e.images["236x"].url:null}const y=void 0!==h?h:h=n(502763);function v(e){const{itemData:t,...n}=e,{slotIndex:i,view:a,item:r}=e,{pinId:o,pinGraphQLRef:l}=t;if(l)return o&&a?(0,p.jsx)(m,{duploQueryRef:l,slotIndex:i,pinId:o,viewType:a}):null;if(null==r||!r.type||"story"===r.type&&!(r.type in _))return null;{const e=_[r.type];return(0,p.jsx)(e,{...n})}}const f=e=>e?{item:e,pinGraphQLRef:null}:null,x=e=>{const t=(0,i.useFragment)(y,e),{pinId:n}=t;return{pinId:n,pinGraphQLRef:t}},b=(0,l.Z)({useGraphQLAdapter:x,useLegacyAdapter:f});function w({pinGraphQLRef:e,...t}){return(0,p.jsx)(b,{input:e?{enabled:!0,data:e}:{enabled:!1,data:t.item},children:({data:e})=>e&&(0,p.jsx)(v,{...t,itemData:e})})}},476108:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),a=n(941819),r=n(785893);const o=new Map([["pin",4]]);function l({children:e,itemType:t}){return(0,r.jsx)(i.xu,{marginBottom:o.get(t)||a.mT,children:e})}},941819:(e,t,n)=>{n.d(t,{g5:()=>o,hK:()=>a,mT:()=>r});var i=n(294219);const a="lightGray",r=8,o={itemRep:i.Z,shape:"square",getImage:()=>""}},45640:(e,t,n)=>{n.d(t,{Z:()=>z});var i,a=n(667294),r=n(167912),o=n(883119),l=n(448709),s=n(24286),c=n(281993),d=n(22299),u=n(740612),p=n(687376),h=n(527793),m=n(134661),_=n(93082),g=n(478860),y=n(583798),v=n(19494),f=n(619937),x=n(223228),b=n(549201),w=n(515213),P=n(310131),S=n(455256),T=n(164377),I=n(51283),A=n(785893);const k=new Set([3,4]),E=new Set([1]),C=({text:e,url:t})=>Boolean(e)&&Boolean(t),j=e=>C(e)&&k.has(e.location),D=e=>C(e)&&E.has(e.location),R=void 0!==i?i:i=n(366234),F=({isMoreIdeasListCard:e,isStyleBubble:t,isStorefrontSpotlightCarousel:n,isSfModuleOnMobile:i,isDesktop:a,isSmallMobileScreen:r,isStackedCollageDisplayCard:o,isTriplePreviewDisplayCard:l,totalObjectCount:c,containerRef:m})=>{return l?a?p.d:p.Gd:o?a?d.mR:d.dZ:e?a?h.xR:1===c?(null===(_=m.current)||void 0===_?void 0:_.clientWidth)||0:r?h.wg:h.lf:t?u.u:n?I.PRODUCT_GROUP_COVER_IMAGE_DIMENSIONS.WIDTH:i?s.tG:s.yF;var _};function L(e){var t,n,i,r,l,d,u,p,h,I,k,E,C,R;const{componentFallback:L,initialSlotIndex:O=0,storyData:z,surface:M,view:N,viewParameter:Z}=e,{displayOptions:U,title:B,objects:K,id:H="",action:G,storyId:W,storyType:$,rawStoryData:V,storyGraphqlRef:q}=z,[Y,X]=(0,a.useState)(0),J=(0,a.useRef)(null),Q=(0,x.Z)(),ee=(0,b.HG)(),te=(0,v.Z)();if(!Array.isArray(K))return null;const ne=null!==(t=null==U||null===(n=U.contentDisplay)||void 0===n?void 0:n.componentType)&&void 0!==t?t:L,ie=1===(null==U?void 0:U.carouselFadeEnds),ae=K,re=ae.length,oe={index:Y,carousel_slots:ae},{text:le,url:se,location:ce}=null!=G?G:{},de={backgroundColor:"default",hoverColor:"default",iconColor:"default"},ue={backgroundColor:"secondary",hoverColor:"secondary",iconColor:"subtle",size:32},pe=null==U||null===(i=U.itemViewRepStyle)||void 0===i?void 0:i.moreIdeasRepStyle,he=1===pe,me=m.k[pe],_e=4===(null==U||null===(r=U.itemViewRepStyle)||void 0===r?void 0:r.exploreArticleRepStyle),ge=13698===(null==U||null===(l=U.contentDisplay)||void 0===l?void 0:l.componentType),ye=19===(null==U||null===(d=U.itemViewRepStyle)||void 0===d?void 0:d.exploreArticleRepStyle),ve=20===(null==U||null===(u=U.itemViewRepStyle)||void 0===u?void 0:u.exploreArticleRepStyle),fe=null!==(null==U||null===(p=U.headerDisplay)||void 0===p?void 0:p.expandedTextAlignment),xe=F({containerRef:J,isMoreIdeasListCard:he,isStyleBubble:_e,isStorefrontSpotlightCarousel:ge,isSfModuleOnMobile:Q,isDesktop:ee,isSmallMobileScreen:te,totalObjectCount:re,isStackedCollageDisplayCard:ve,isTriplePreviewDisplayCard:ye}),be=null==U||null===(h=U.contentDisplay)||void 0===h||null===(I=h.carouselDisplayOptions)||void 0===I?void 0:I.navigationType,we=ee&&0===be,Pe=ee&&1===be,Se=!ee,Te=ee?s.oX:s.yt,Ie=ae.filter(Boolean),Ae=null==U||null===(k=U.contentDisplay)||void 0===k||null===(E=k.gridLayout)||void 0===E?void 0:E.cols,ke="number"==typeof Ae?Ae:-1,Ee=ke*(ee?s.yF:s.tG)+(ke-1)*Te,Ce=-1===ke||((null===(C=J.current)||void 0===C?void 0:C.clientWidth)||0)<Ee?void 0:Ee,je=(0,T.tD)({slotWidth:xe,containerWidth:(null===(R=J.current)||void 0===R?void 0:R.clientWidth)||0,gap:Te,numberOfSlides:Ie.length,index:Y});return(0,A.jsxs)(o.kC,{direction:"column",width:Ce,children:[B&&(0,A.jsx)(y.Z,{story:V,storyGraphqlRef:q,showExpanded:fe}),(0,A.jsxs)(o.xu,{position:"relative",ref:J,marginBottom:we?8:0,children:[we&&(0,A.jsx)(P.default,{backNode:(0,A.jsx)(S.Z,{...de,showFab:!0,iconType:"back"}),carouselData:oe,carouselIndex:Y,componentType:ne,forwardNode:(0,A.jsx)(S.Z,{...de,showFab:!0,iconType:"forward"}),handleCarouselSwipe:e=>{X(e)},isShowingLastSlide:je,pinId:H,viewParameter:Z,viewType:N,contextLogData:pe?{index:Y}:{}}),(0,A.jsx)(w.Z,{componentType:me,containerRef:J,gap:Te,id:"structured-feed-carousel-module",impressionType:pe?"BoardMoreIdeasRep":"Pin",index:Y,shouldBeDragCarousel:Se,slideWidth:xe,viewParameter:Z,view:N,children:Ie.map(((e,t)=>{var n;if(t===Ie.length-1&&G&&le&&se&&j(G)){const n=(0,_.v)(e)||"";return n&&(0,a.createElement)(c.Z,{...z.contentIds?{contentIds:z.contentIds}:{},buttonText:le,component:ne,element:179,previewImageSrc:n,url:se,storyId:W,storyType:$,view:N,viewParameter:Z,key:(0,f.Z)(e,t)})}return(0,A.jsx)(_.Z,{isInViewOrNext:(0,T.Iw)({slotWidth:xe,containerWidth:(null===(n=J.current)||void 0===n?void 0:n.clientWidth)||0,gap:Te,numberOfSlides:Ie.length,index:t,currentIndex:Y}),item:e,slotIndex:O+t,story:V,surface:M,view:N,viewParameter:Z,pinGraphQLRef:q?e:null},(0,f.Z)(e,t))}))}),ie&&Y>0&&(0,A.jsx)(o.xu,{height:"100%",position:"absolute",left:!0,top:!0,width:80,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(90deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%)"}}}),ie&&!je&&(0,A.jsx)(o.xu,{height:"100%",position:"absolute",right:!0,top:!0,width:80,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(270deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%)"}}})]}),Pe&&(0,A.jsx)(o.xu,{position:"relative",marginTop:3,marginBottom:8,width:"100%",children:(0,A.jsx)(P.default,{addEllipsis:!0,alwaysShowNavigationArrows:!0,backNode:(0,A.jsx)(S.Z,{...ue,showFab:!0,iconType:"back"}),carouselData:oe,carouselIndex:Y,componentType:ne,ellipsisVariant:"dark",forwardNode:(0,A.jsx)(S.Z,{...ue,showFab:!0,iconType:"forward"}),handleCarouselSwipe:e=>{X(e)},isShowingLastSlide:je,pinId:H,viewParameter:Z,viewType:N,contextLogData:pe?{index:Y}:{},sliderStyleOverride:{padding:"0px"}})}),G&&D(G)&&(0,A.jsx)(o.xu,{marginTop:4,children:(0,A.jsx)(g.Z,{text:le,location:ce,url:se})})]})}const O=(0,l.Z)({useGraphQLAdapter:e=>{const t=(0,r.useFragment)(R,e),{action:n,contentIds:i,displayOptions:a,storyTitle:o,objects:l,storyId:s,storyType:c}=t;return{action:n,contentIds:i,displayOptions:a,title:o,objects:l,rawStoryData:null,storyId:null!=s?s:"",storyType:null!=c?c:"",storyGraphqlRef:t}},useLegacyAdapter:e=>{var t,n,i,a,r,o,l,s;if(!e)return null;const{action:c,content_ids:d,display_options:u,title:p,objects:h,id:m,story_type:_}=e,g={contentDisplay:{gridLayout:{cols:null==u||null===(t=u.content_display)||void 0===t||null===(n=t.grid_layout)||void 0===n?void 0:n.cols},componentType:null==u||null===(i=u.content_display)||void 0===i?void 0:i.component_type,carouselDisplayOptions:{navigationType:null==u||null===(a=u.content_display)||void 0===a||null===(r=a.carousel_display_options)||void 0===r?void 0:r.navigation_type}},carouselFadeEnds:null==u?void 0:u.carousel_fade_ends,itemViewRepStyle:{exploreArticleRepStyle:null==u||null===(o=u.item_view_rep_style)||void 0===o?void 0:o.explore_article_rep_style,moreIdeasRepStyle:null==u||null===(l=u.item_view_rep_style)||void 0===l?void 0:l.more_ideas_rep_style},headerDisplay:{expandedTextAlignment:null==u||null===(s=u.header_display)||void 0===s?void 0:s.expanded_text_alignment}};return{action:c?{location:c.location,text:c.text,url:c.url}:null,contentIds:d,displayOptions:g,title:p?{__typename:""}:null,objects:h,rawStoryData:e,storyId:null!=m?m:"",storyType:null!=_?_:"",storyGraphqlRef:null}}});function z({storyGraphqlRef:e,...t}){return(0,A.jsx)(O,{input:e?{enabled:!0,data:e}:{enabled:!1,data:t.story},children:({data:e})=>e&&(0,A.jsx)(L,{...t,storyData:e})})}},478860:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(785893);function r({url:e,text:t,location:n}){return 1===n&&e&&t?(0,a.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,a.jsx)(i.zx,{text:t,role:"link",href:e})}):null}},583798:(e,t,n)=>{n.d(t,{Z:()=>w});var i,a=n(167912),r=n(616550),o=n(883119),l=n(388011),s=n(621699),c=n(448709),d=n(536042),u=n(846226),p=n(251163),h=n(785893);const m={1:"start",2:"center"},_={1:"100",2:"300"},g={1:"400",4:"200",3:"500",2:"600"},y=new Set([2,4]),v=void 0!==i?i:i=n(414700);function f({showExpanded:e=!1,view:t,viewParameter:n,storyData:i}){const a=(0,r.useHistory)(),{logContextEvent:c}=(0,l.v)(),{fullName:d,isVerifiedMerchant:v,verifiedIdentityVerified:f,username:b,imageMediumUrl:w}=i.user||Object.freeze({}),P=d||i.titleFormat,{url:S,text:T,location:I,style:A}=i.action||Object.freeze({}),k=S||b||"",E=i.displayOptions||Object.freeze({}),C=E.headerDisplay||Object.freeze({}),j=e?C.expandedTextAlignment:C.textAlignment,D=m[j||1],R=m[C.subtitleAlignment||1],F=_[C.headerSize||1],L=C.headerSize&&g[C.headerSize]?g[C.headerSize]:g[1],O=1===C.subtitleStyle?L:"200",z=(e,t)=>null!=e?e:t,M=z(E.titleTextColor,"default"),N=(Z=E.titleTextColor,U="default",null!=Z?Z:U);var Z,U;const B=z(E.subtitleTextColor,"subtle"),K=1===C.titlePosition,H=!!i.subtitleFormat,G=(0,h.jsx)(o.X6,{size:O,color:B,align:R,children:i.subtitleFormat}),W=(0,h.jsx)(o.X6,{accessibilityLevel:2,size:L,color:M,align:D,children:P});return(0,h.jsx)(o.xu,{marginBottom:4,children:(0,h.jsxs)(o.kC,{gap:{row:0,column:2},direction:"column",children:[H&&K&&G,(0,h.jsxs)(o.kC,{alignItems:"center",justifyContent:D,children:[b&&w&&(0,h.jsx)(s.Z,{name:b,size:"sm",src:w}),(0,h.jsxs)(o.xu,{marginStart:D===m[1]?2:0,alignItems:"baseline",justifyContent:D,display:"flex",flex:e?"grow":"shrink",children:[k?(0,h.jsx)(u.Z,{id:"sf-header-heading",children:(0,h.jsx)(o.iP,{role:"link",href:k,onTap:({event:e})=>{e.stopPropagation(),(e=>{c({component:E.contentDisplayComponentType,event_type:101,view_parameter:n,view_type:t});const i=e.replace(/^\/+/,"");a.push(`/${i}`)})(k)},tapStyle:"compress",children:W})}):W,v&&(0,h.jsx)(o.xu,{marginStart:2,children:(0,h.jsx)(p.Z,{hasVerifiedIdentity:Boolean(f),isVerifiedMerchant:v,size:"xs"})})]}),y.has(I)&&S&&(0,h.jsx)(o.xu,{"data-test-id":"sf-header-action-button",children:(0,h.jsx)(x,{url:S,text:T,style:A,headerTitle:P})})]}),H&&!K&&G,i.descriptionFormat?(0,h.jsx)(o.xv,{size:F,color:N,align:D,weight:"bold",children:i.descriptionFormat}):null]})})}function x({url:e,text:t,style:n,headerTitle:i}){const a=(0,d.ZP)();return 3!==n&&t?(0,h.jsx)(o.xu,{marginStart:6,children:(0,h.jsx)(o.zx,{text:t,role:"link",href:e})}):(0,h.jsx)(o.hU,{accessibilityLabel:i||a._('See more', 'headerModule.headerModuleActionButton.iconButton', 'An right arrow icon button to show more similar pins to the user in a new page'),bgColor:"transparent",iconColor:"darkGray",icon:"arrow-forward",size:"sm",role:"link",href:e})}const b=(0,c.Z)({useGraphQLAdapter:e=>{var t,n;const i=(0,a.useFragment)(v,e),{action:r,displayOptions:o,storyTitle:l,subtitle:s,storyDescription:c}=i,d=i.user?{fullName:i.user.fullName,isVerifiedMerchant:i.user.isVerifiedMerchant,verifiedIdentityVerified:null===(t=i.user.verifiedIdentity)||void 0===t?void 0:t.verified,imageMediumUrl:i.user.imageMediumUrl,username:i.user.username}:null,u=o?{titleTextColor:o.titleTextColor,subtitleTextColor:o.subtitleTextColor,contentDisplayComponentType:null===(n=o.contentDisplay)||void 0===n?void 0:n.componentType,headerDisplay:o.headerDisplay}:null;return{user:d,titleFormat:null==l?void 0:l.format,subtitleFormat:null==s?void 0:s.format,descriptionFormat:null==c?void 0:c.format,action:r,displayOptions:u}},useLegacyAdapter:e=>{var t,n;if(!e)return null;const{action:i,title:a,subtitle:r,description:o,display_options:l}=e,s=e.user?{fullName:e.user.full_name,isVerifiedMerchant:e.user.is_verified_merchant,verifiedIdentityVerified:null===(t=e.user.verified_identity)||void 0===t?void 0:t.verified,imageMediumUrl:e.user.image_medium_url,username:e.user.username}:null,c=i?{url:i.url,text:i.text,location:i.location,style:i.style}:null,d=null!=l&&l.header_display?{expandedTextAlignment:l.header_display.expanded_text_alignment,textAlignment:l.header_display.text_alignment,subtitleAlignment:l.header_display.subtitle_alignment,headerSize:l.header_display.header_size,titlePosition:l.header_display.title_position,subtitleStyle:l.header_display.subtitle_style}:null,u=l?{titleTextColor:l.title_text_color,subtitleTextColor:l.subtitle_text_color,contentDisplayComponentType:null===(n=l.content_display)||void 0===n?void 0:n.component_type,headerDisplay:d}:null;return{user:s,titleFormat:null==a?void 0:a.format,subtitleFormat:null==r?void 0:r.format,descriptionFormat:null==o?void 0:o.format,action:c,displayOptions:u}}});function w({storyGraphqlRef:e,...t}){return(0,h.jsx)(b,{input:e?{enabled:!0,data:e}:{enabled:!1,data:t.story},children:({data:e})=>e&&(0,h.jsx)(f,{...t,storyData:e})})}},709574:(e,t,n)=>{n.r(t),n.d(t,{default:()=>J});var i=n(167912),a=n(883119),r=n(448709),o=n(833122),l=n(45640),s=n(478860),c=n(24286),d=n(407109),u=n(294219),p=n(435628),h=n(941819),m=n(583798),_=n(785893);const g=()=>(0,_.jsx)(a.xu,{height:c.yF,width:c.yF,color:"secondary"}),y={1:{itemRep:u.Z,deprecatedActionShape:"square",deprecatedGetActionImage:e=>{var t,n;return(null===(t=e.images)||void 0===t||null===(n=t.orig)||void 0===n?void 0:n.url)||""}},4:{itemRep:d.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>{var t,n;return(null===(t=e.images)||void 0===t||null===(n=t.orig)||void 0===n?void 0:n.url)||""}},2:{itemRep:p.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.image_large_url}};var v=n(667294),f=n(281993),x=n(733245),b=n(476108),w=n(223228),P=n(769340),S=n(549201);const T="rgba(0, 0, 0, 0)",I=()=>(0,_.jsx)(a.xu,{height:c.yF,width:c.yF,color:"secondary"}),A={1:{itemRep:u.Z,deprecatedActionShape:"square",deprecatedGetActionImage:e=>{var t,n;return(null===(t=e.images)||void 0===t||null===(n=t.orig)||void 0===n?void 0:n.url)||""}},4:{itemRep:d.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>{var t,n;return(null===(t=e.images)||void 0===t||null===(n=t.orig)||void 0===n?void 0:n.url)||""}},2:{itemRep:p.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.image_large_url}};function k({componentFallback:e,dangerouslySetActionUrl:t,initialSlotIndex:n=0,showExpanded:i,story:r,view:o,viewParameter:l}){var s,d,u,p,g,y,k;const E=(0,S.HG)(),C=(null===(s=r.display_options)||void 0===s?void 0:s.content_display)||{},j=C.model_type,D=A[j]||h.g5,R=D.itemRep||I,{action:F}=r,L=t||(null===(d=r.action)||void 0===d?void 0:d.url)||"",O=null!==(u=null===(p=r.display_options)||void 0===p||null===(g=p.content_display)||void 0===g?void 0:g.component_type)&&void 0!==u?u:e,z=null===(y=C.grid_layout)||void 0===y?void 0:y.rows,M="number"==typeof z?z:1,N=null===(k=C.grid_layout)||void 0===k?void 0:k.cols,Z="number"==typeof N?N:-1,U=-1===Z,{containerRef:B,itemsToRender:K,actionItem:H}=(0,P.n)({items:r.objects||[],itemWidth:(0,w.Z)()?c.tG:c.yF,itemGap:c.oX,actionItemType:Boolean(F)?"one":void 0,numRows:M}),G=H&&D.deprecatedGetActionImage?D.deprecatedGetActionImage(H):void 0,W=U?K:r.objects||[],$=W.map(((e,t)=>(0,_.jsx)(b.Z,{itemType:"string"==typeof e.type?e.type:null,children:(0,_.jsx)(R,{component:O,imagePlaceholderColor:T,index:t,item:e,slotIndex:n+t,story:r,view:o,viewParameter:l})},t))),V=!!L&&!(null==F||!F.text)&&G&&(0,_.jsx)(f.Z,{contentIds:r.content_ids,buttonText:F.text,component:O,element:179,previewImageSrc:G,shape:D.deprecatedActionShape,storyId:r.id,storyType:r.story_type,url:L,view:o,viewParameter:l});return(0,_.jsxs)(a.xu,{display:"flex",color:"default",alignItems:"stretch",justifyContent:"start",direction:"column",children:[r.title&&(0,_.jsx)(m.Z,{story:r,showExpanded:i,storyGraphqlRef:null}),U?(0,_.jsxs)(P.Z,{itemGap:c.oX,containerRef:B,rowAlignment:"center",numRows:M,children:[$,V,M>1&&(0,x.i)(12)]}):(0,_.jsxs)(v.Fragment,{children:[new Array(M).fill(null).map(((e,t)=>(0,_.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",gap:E?c.jC:c.D6,wrap:Z<=1,children:Z>0&&new Array(Z).fill(null).map(((e,n)=>$[t*Z+n]))},W[t].id))),V]})]})}function E({componentFallback:e,showExpanded:t=!0,story:n,view:i,viewParameter:r}){var o,l,s,d;const u=((null===(o=n.display_options)||void 0===o?void 0:o.content_display)||{}).model_type,p=(A[u]||h.g5).itemRep||I,g=null!==(l=null===(s=n.display_options)||void 0===s||null===(d=s.content_display)||void 0===d?void 0:d.component_type)&&void 0!==l?l:e,y=(0,w.Z)()?c.tG:c.yF;return(0,_.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[n.title&&(0,_.jsx)(m.Z,{story:n,showExpanded:t,storyGraphqlRef:null}),(0,_.jsx)(a.Rk,{columnWidth:y,renderItem:({data:e,itemIdx:t})=>(0,_.jsx)(p,{component:g,imagePlaceholderColor:T,index:t,item:e,story:n,view:i,viewParameter:r},t),gutterWidth:c.oX,items:n.objects||[],layout:"flexible"})]})}var C=n(603801),j=n(616550),D=n(388011),R=n(621699),F=n(536042);const L=500,O=400;var z=n(846226),M=n(938818);const N=({actionText:e,actionUrl:t,articleId:n,author:i,authorAvatar:r,component:l,contentIds:s,coverImage:c,debug:d,index:u,isFullWidth:p=!1,onImageLoad:h,storyId:m,storyType:g,subtitle:y,title:f,view:x,viewParameter:b,width:w,windowWidth:P})=>{const S=(0,F.ZP)(),T=(0,j.useHistory)(),{logContextEvent:I}=(0,D.v)(),[A,k]=(0,v.useState)(!1),E=(0,o.Z)({loggingId:n,objectIdStr:n,impressionType:"Article",contextLogData:{content_ids:s,story_id:m,story_type:g,article_id:n},slotIndex:u,viewParameter:b,viewType:x,componentType:l});return(0,_.jsx)(z.Z,{id:"sf-hero",children:(0,_.jsxs)(a.xu,{ref:E,width:w,height:"auto",onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),children:[(0,_.jsx)(a.iP,{onTap:()=>{I({event_type:101,view_type:x,view_parameter:b,component:l,aux_data:{article_id:n,content_ids:s,story_id:m,story_type:g}}),T.push(t)},children:(0,_.jsxs)(a.xu,{height:p?400:"35vw",maxHeight:500,overflow:"hidden",position:"relative",children:[(0,_.jsx)(a.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:A?"scale(1.5)":"scale(1)"}},children:(0,_.jsx)(a.Ee,{src:c,alt:S._('Cover image of this shopping spotlight', 'hero.heroCoverImage', 'alt text for an image previewing the contents of a spotlight article'),color:"#fff",onLoad:h,fit:"cover",naturalHeight:400,naturalWidth:400,children:(0,_.jsx)(a.xu,{display:"block",height:"100%",width:"100%",color:"transparentDarkGray",opacity:.3})})}),(0,_.jsx)(a.xu,{width:"100%",position:"absolute",padding:6,marginBottom:p?12:0,bottom:!0,children:(0,_.jsxs)(a.kC,{direction:"column",height:"100%",justifyContent:"end",children:[(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:A?"translateY(-20px)":"translateY(20px)"}},children:(0,_.jsx)(a.X6,{size:P<=822?"600":P<1e3?"400":P<1100?"500":"600",color:"light",children:f})}),(0,_.jsxs)(a.xu,{display:"block",height:A?"auto":20,overflow:"hidden",dangerouslySetInlineStyle:{__style:{opacity:A?1:0,transition:A?"opacity 0.4s ease-in":"opacity 0.4s ease-out"}},children:[(0,_.jsx)(a.xv,{color:"inverse",children:y}),i&&(0,_.jsx)(a.xu,{marginTop:4,children:(0,_.jsxs)(a.kC,{direction:"row",alignItems:"center",children:[(0,_.jsx)(R.Z,{size:"md",src:r,name:i}),"",(0,_.jsx)(a.xv,{color:"inverse",children:i})]})})]}),(0,_.jsx)(a.xu,{width:"74px",marginTop:4,children:(0,_.jsx)(a.zx,{color:"white",size:"lg",onClick:()=>{T.push(t)},text:e})})]})})]})}),void 0!==d&&(0,_.jsx)(M.ZP,{data:d})]})})};var Z=n(515213),U=n(310131),B=n(455256);function K({onImageLoad:e,story:t,view:n,viewParameter:i,component:r,width:o}){var l;const[s,c]=(0,v.useState)(0),d=(0,v.useRef)(null),u=(null===(l=t.objects)||void 0===l?void 0:l.slice(0,3))||[],p={index:s,carousel_slots:u.map((e=>({id:e.id})))};return(0,_.jsxs)(a.xu,{position:"relative",display:"flex",width:o,height:O,justifyContent:"center",alignItems:"end",ref:d,children:[(0,_.jsx)(Z.Z,{id:t.id,index:s,slideWidth:o,containerRef:d,children:u.map(((a,l)=>{var s,c,d,u,p;return(0,_.jsx)(N,{actionText:(null===(s=a.action)||void 0===s?void 0:s.text)||"",actionUrl:(null===(c=a.action)||void 0===c?void 0:c.url)||"",articleId:a.id,coverImage:a.cover_images&&(null===(d=a.cover_images[0].originals)||void 0===d?void 0:d.url)||"",debug:a.debug,onImageLoad:e,storyId:t.id,storyType:t.story_type,subtitle:(null===(u=a.subtitle)||void 0===u?void 0:u.format)||"",title:(null===(p=a.title)||void 0===p?void 0:p.format)||"",index:l,isFullWidth:!0,view:n,viewParameter:i,component:r,width:o,windowWidth:o},a.id)}))}),(0,_.jsx)(a.xu,{display:"inlineBlock",height:"auto",position:"absolute",width:"60%",paddingY:5,children:(0,_.jsx)(U.default,{addEllipsis:!0,pinId:t.id,carouselIndex:s,carouselData:p,handleCarouselSwipe:e=>{c(e)},forwardNode:(0,_.jsx)(B.Z,{showFab:!0,iconType:"forward",iconColor:"inverse"}),backNode:(0,_.jsx)(B.Z,{showFab:!0,iconType:"back",iconColor:"inverse"})})})]})}function H({component:e,onImageLoad:t,story:n,view:i,viewParameter:r,windowWidth:o}){var l;const s=(null===(l=n.objects)||void 0===l?void 0:l.slice(0,3))||[];return(0,_.jsxs)(v.Fragment,{children:[(0,_.jsx)(a.xu,{flex:"grow",dangerouslySetInlineStyle:{__style:{backgroundColor:s[0].dominant_colors[0]}}}),s.map(((a,l)=>{var s,c,d,u,p;return(0,_.jsx)(N,{actionText:(null===(s=a.action)||void 0===s?void 0:s.text)||"",actionUrl:(null===(c=a.action)||void 0===c?void 0:c.url)||"",articleId:a.id,coverImage:a.cover_images&&(null===(d=a.cover_images[0].originals)||void 0===d?void 0:d.url)||"",debug:a.debug,index:l,onImageLoad:t,storyId:n.id,storyType:n.story_type,subtitle:(null===(u=a.subtitle)||void 0===u?void 0:u.format)||"",title:(null===(p=a.title)||void 0===p?void 0:p.format)||"",view:i,viewParameter:r,component:e,width:L,windowWidth:o},a.id)})),(0,_.jsx)(a.xu,{flex:"grow",dangerouslySetInlineStyle:{__style:{backgroundColor:s[2].dominant_colors[0]}}})]})}const G={90:l.Z,88:m.Z,89:s.Z,91:function(e){var t,n;switch(null===(t=e.story.display_options)||void 0===t||null===(n=t.content_display)||void 0===n?void 0:n.pins_display){case 3:case 1:return(0,_.jsx)(E,{...e});default:return(0,_.jsx)(k,{...e})}},101:function({component:e,pwtSurfaceContext:t,story:n,view:i,viewParameter:r}){const{width:o}=(0,C.Z)()||{},l=()=>{t&&t.markConstraintComplete("RenderHeroImages")},s=!o||o>822?3:1;return(0,_.jsx)(v.Fragment,{children:(0,_.jsx)(a.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",width:o,children:3===s?(0,_.jsx)(H,{component:e,onImageLoad:l,story:n,windowWidth:o,view:i,viewParameter:r}):(0,_.jsx)(K,{component:e,onImageLoad:l,story:n,width:o,view:i,viewParameter:r})})})},92:function({story:e}){var t;const n=(0,j.useHistory)(),{user:i,custom_properties:r,action:o}=e||{},{full_name:l,username:s,image_medium_url:d}=i||{},u=l||(null===(t=e.title)||void 0===t?void 0:t.format)||"",{url:p,text:h}=o||{},{image:m}=r||{};if(!p||!h)return null;const g=(0,_.jsxs)(a.xu,{height:"100%",padding:2,display:"flex",justifyContent:"center",alignItems:"center",color:"transparentDarkGray",position:"relative",children:[s&&d&&(0,_.jsx)(a.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,_.jsx)(R.Z,{name:s,size:"sm",src:d})}),u&&(0,_.jsx)(a.xv,{color:"inverse",weight:"bold",children:u})]});return(0,_.jsxs)(a.xu,{marginBottom:4,width:c.yF,children:[(0,_.jsx)(a.iP,{onTap:()=>n.push(p),children:(0,_.jsx)(a.zd,{rounding:2,wash:!0,height:c.yF,children:"string"==typeof m&&m?(0,_.jsx)(a.Ee,{naturalHeight:c.yF,naturalWidth:c.yF,src:m,fit:"contain",alt:u,children:g}):(0,_.jsx)(a.xu,{width:c.yF,height:c.yF,children:g})})}),(0,_.jsx)(a.xu,{marginTop:3,children:(0,_.jsx)(a.zx,{fullWidth:!0,text:h,role:"link",href:p})})]})},131:function({componentFallback:e,showExpanded:t=!0,story:n,view:i,viewParameter:r}){var o,l,s,c,d;const u=((null===(o=n.display_options)||void 0===o?void 0:o.content_display)||{}).model_type,p=(y[u]||h.g5).itemRep||g,v=null!==(l=null===(s=n.display_options)||void 0===s||null===(c=s.content_display)||void 0===c?void 0:c.component_type)&&void 0!==l?l:e;return(0,_.jsx)(a.xu,{marginBottom:2,children:(0,_.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"center",direction:"column",children:[n.title&&(0,_.jsx)(m.Z,{story:n,showExpanded:t,storyGraphqlRef:null}),(0,_.jsx)(a.kC,{wrap:!0,gap:2,justifyContent:"center",children:null===(d=n.objects)||void 0===d?void 0:d.map((function(e,t){return(0,_.jsx)(p,{component:v,imagePlaceholderColor:"rgba(0, 0, 0, 0)",index:t,item:e,story:n,view:i,viewParameter:r},t)}))})]})})}};const W=new Set([101]);function $(e){return W.has(e)}var V;const q=void 0!==V?V:V=n(359433);function Y(e){var t;const{componentFallback:n,story:i,view:r,viewParameter:s,width:c,initialSlotIndex:d}=e,{containerType:u,contentIds:p,displayOptions:h,rawStoryData:m,storyId:g,storyType:y,trackingParams:v,storyGraphqlRef:f}=i||{},x=null!==(t=null==h?void 0:h.contentDisplayComponentType)&&void 0!==t?t:n,b=(0,o.Z)({clientTrackingParams:v,componentType:x,contextLogData:{story_id:g,story_type:y,content_ids:p},impressionType:"Story",loggingId:g,slotIndex:d||0,viewParameter:s,viewType:r}),w=function(e){if(null==e)return null;const t=G[e];return t||null}(u);return w?90===u?(0,_.jsx)(a.xu,{ref:b,width:$(u)?void 0:c,children:(0,_.jsx)(l.Z,{...e,story:m,component:x,storyGraphqlRef:f})}):(0,_.jsxs)(a.xu,{ref:b,width:$(u)?void 0:c,children:[(0,_.jsx)(w,{...e,story:m,component:x}),(0,_.jsx)(a.xu,{})]}):null}const X=(0,r.Z)({useGraphQLAdapter:e=>{var t;const n=(0,i.useFragment)(q,e),{displayOptions:a,storyId:r,storyType:o,containerType:l,contentIds:s,trackingParams:c}=n;return{containerType:l,contentIds:s,displayOptions:a?{contentDisplayComponentType:null===(t=a.contentDisplay)||void 0===t?void 0:t.componentType}:null,rawStoryData:null,storyId:null!=r?r:"",storyType:null!=o?o:"",trackingParams:c,storyGraphqlRef:n}},useLegacyAdapter:e=>{var t;if(!e)return null;const{display_options:n,id:i,story_type:a,container_type:r,content_ids:o,tracking_params:l}=e;return{containerType:"number"==typeof r?r:void 0,contentIds:o,displayOptions:n?{contentDisplayComponentType:null===(t=n.content_display)||void 0===t?void 0:t.component_type}:null,rawStoryData:e,storyId:null!=i?i:"",storyType:null!=a?a:"",trackingParams:l,storyGraphqlRef:null}}});function J({storyGraphqlRef:e,...t}){return(0,_.jsx)(X,{input:e?{enabled:!0,data:e}:{enabled:!1,data:t.story},children:({data:e})=>e&&(0,_.jsx)(Y,{...t,story:e})})}},19494:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(549201);function r(){const[e,t]=(0,i.useState)(!1),n=(0,a.HG)();return(0,i.useEffect)((()=>{!n&&window.innerWidth<320&&t(!0)}),[n,t]),e}},619937:(e,t,n)=>{function i(e,t){var n;const i=`${e.type||""} ${t.toString()}`;switch(e.type){case"pin":return e.title||i;case"user":return e.username||i;case"explorearticle":return(null===(n=e.title)||void 0===n?void 0:n.format)||i;case"story":return e.id||i;default:return i}}n.d(t,{Z:()=>i})},223228:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(603801),a=n(24286);function r(){const{width:e}=(0,i.Z)()||{width:0};return e<2*a.yF+a.$H}},882973:(e,t,n)=>{n.d(t,{Pw:()=>i,SB:()=>a,ZP:()=>o,x9:()=>r});const i=80,a=56,r=e=>"phone"===e?a:i;function o(e,t){return t?0:r(e)}},793085:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),a=n(883119),r=n(563962),o=n(536042),l=n(262600),s=n(785893);const c={sm:12,md:16,lg:20,xl:24};function d({isVerifiedMerchant:e,size:t,showText:n,showVerifiedIdentity:d,inspirationalBadges:u,inspirationalBadgesColor:p}){const h=(0,o.ZP)(),[m,_]=(0,i.useState)(!1),{dangerousInlineStyle:g,iconColor:y}=(0,l.W)(!!e),v=(0,r.Z)();return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(a.iP,{onTap:()=>{v({component:13534,element:11717,event_type:102}),_(!0)},rounding:"circle",children:(0,s.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:g,display:"flex","data-test-id":"verified-badge-icon",children:[(0,s.jsx)(a.JO,{accessibilityLabel:e?h._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'):h._('Badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),icon:"workflow-status-ok",color:y,inline:!0,size:c[t]}),n&&!d&&(0,s.jsx)(a.xu,{marginStart:2,children:(0,s.jsx)(a.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:g,children:h._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})})]})}),(e||n&&!d)&&(0,s.jsx)(l.Z,{showModal:m,setShowModal:_,inspirationalBadges:u,inspirationalBadgesColor:p})]})}},262600:(e,t,n)=>{n.d(t,{W:()=>u,Z:()=>p});var i=n(667294),a=n(883119),r=n(770130),o=n(563962),l=n(88622),s=n(536042),c=n(837792),d=n(785893);const u=e=>{const t=e?"shopping":"error";return{iconColor:t,dangerousInlineStyle:{__style:{color:t}}}};function p({inspirationalBadges:e=[],inspirationalBadgesColor:t,showModal:n,setShowModal:p}){const h=(0,s.ZP)(),[m,_]=(0,i.useState)(!0),{dangerousInlineStyle:g,iconColor:y}=u(!0),v=(0,o.Z)();return(0,i.useEffect)((()=>{n&&m&&(_(!1),v({event_type:13,component:13534}))}),[n]),(0,d.jsx)(l.ZP,{accessibilityModalLabel:h._('Verified merchant information', 'creator.verifiedMerchant.accessibilityModalLabel', 'Accessibility label for modal informing about a verified merchant'),isOpen:n,mobileAccessibilityCloseIconLabel:h._('Close', 'Close modal window', 'Close modal'),onDismiss:()=>{v({component:13534,element:11716,event_type:102}),p(!1)},type:"verified_merchant_modal",children:(0,d.jsx)(a.xu,{padding:3,children:(0,d.jsxs)(a.xu,{display:"flex",direction:"column",padding:2,"data-test-id":"verified-badge-modal",children:[(0,d.jsx)(a.xu,{display:"flex",dangerouslySetInlineStyle:g,justifyContent:"center",children:(0,d.jsx)(a.JO,{accessibilityLabel:h._('Merchant verification badge icon', 'creator.verifiedMerchant.modalIcon', 'Badge indicating that a merchant or user is verified'),color:y,icon:"workflow-status-ok",size:24})}),(0,d.jsx)(a.xu,{marginTop:4,children:(0,d.jsx)(a.xv,{color:"shopping",weight:"bold",align:"center",children:(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:g,children:h._('Verified merchant', 'creator.verifiedMerchant.modalHeader', 'this merchant is a verified merchant')})})}),(0,d.jsx)(a.xu,{marginTop:4,marginBottom:4,children:(0,d.jsx)(a.xv,{align:"center",overflow:"normal",children:h._('This retailer meets Pinterest\'s Merchant Guidelines', 'creator.verifiedMerchant.modalText.', 'this merchant is a verified merchant')})}),e.map((e=>(0,d.jsxs)(a.xu,{display:"flex",direction:"column",marginTop:4,children:[(0,d.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",children:(0,d.jsx)(a.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,d.jsx)(a.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:2,dangerouslySetInlineStyle:{__style:(0,r.ym)(t)},"data-test-id":"verified-badge-modal-inspirational-badge",children:e.label})})}),(0,d.jsx)(a.xu,{marginTop:2,children:(0,d.jsx)(a.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id))),(0,d.jsx)(a.xu,{display:"flex",marginTop:8,justifyContent:"center",width:"100%","data-test-id":"verified-badge-modal-learn-more",children:(0,d.jsx)(a.zx,{role:"link",accessibilityLabel:h._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com'),target:"blank",size:"lg",href:c.vB,text:h._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com')})})]})})})}},387977:(e,t,n)=>{function i(e){return"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame")||e&&e(),window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e&&e()}))}))}n.d(t,{Z:()=>i})},798198:(e,t,n)=>{n.d(t,{CC:()=>i,Ll:()=>r,XF:()=>a});const i=(e,t)=>((e,t,n)=>({x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}))(t/2,e/2,2*Math.random()*Math.PI),a=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,r=e=>["@-webkit-keyframes","@keyframes"].map((t=>e.map((e=>t+" "+e)).join("\n"))).join("\n")},468e3:(e,t,n)=>{function i(e){return[0,24,21,26].includes(e)}function a({articleType:e,id:t,title:n}){const i=n.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${i}/${t}/`:`/discover/article/${i}/${t}/`}n.d(t,{x:()=>a,y:()=>i})},493214:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(883119),a=n(667294),r=n(874261),o=n(785893);const l="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",s=()=>Array(5).fill().map((()=>l[Math.floor(52*Math.random())])).join("");function c({children:e}){const t=(0,a.useMemo)((()=>e.replace("  "," ").split("").map((e=>({className:s(),content:e})))),[e]);return(0,o.jsxs)(a.Fragment,{children:[(0,o.jsx)(r.Z,{unsafeCSS:t.map((({className:e,content:t})=>`.${e}:before { content: "${t}"; }`)).join(" ")}),t.map((({className:e})=>(0,o.jsx)("span",{className:e},e)))]})}var d=n(282802);const u=e=>e.startsWith("Promoted");function p({children:e,lineClamp:t,size:n,underline:a,weight:r}){const{isAuthenticated:l}=(0,d.B)(),s=l&&u(e);return(0,o.jsx)(i.xv,{size:n,lineClamp:t,underline:a,weight:r,title:s?"":e,children:s?(0,o.jsx)(c,{children:e}):e})}},865173:(e,t,n)=>{n.d(t,{Z:()=>a,v:()=>i});const i=()=>"undefined"!=typeof navigator&&"getInstalledRelatedApps"in navigator;async function a(){if(!i())return[];try{return await navigator.getInstalledRelatedApps()}catch(e){return[]}}},463310:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(965533),a=n(98736),r=n(799665);const o=(e,t)=>{null!=t&&t.disableOriginCheck||(0,r.Z)(e)||(e="/",(0,a.My)("url_reset")),(0,i.Z)(e)}},603801:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294);function a(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function r(){return window.innerWidth}function o(){return window.innerHeight}function l(){return null}function s(){const e=(0,i.useSyncExternalStore)(a,o,l),t=(0,i.useSyncExternalStore)(a,r,l);return null!==e&&null!==t?{height:e,width:t}:null}},519677:(e,t,n)=>{n.d(t,{Z:()=>i});const i={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},980124:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r});class a{static reportGoogleConversion(e,t,n,i){i||(void 0!==window.gtag_report_conversion?window.gtag_report_conversion(e,t,n):a.queuedGoogleConversions.push({id:e,label:t,url:n}))}static reportFacebookConversion(e,t,n){void 0!==window.fbq?n?window.fbq("track",t,n):window.fbq("track",t):a.queuedFacebookConversions.push({id:e,event:t,data:n})}static reportCustomFacebookConversion(e,t,n){void 0!==window.fbq?n?window.fbq("trackCustom",t,n):window.fbq("trackCustom",t):a.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:t,data:n})}static reportPinterestConversion(e,t,n){void 0!==window.pintrk?n?window.pintrk("track",t,n):window.pintrk("track",t):a.queuedPinterestConversions.push({id:e,event:t,data:n})}static reportTwitterConversion(e,t){void 0!==window.twttr?t?window.twttr.conversion.trackPid(e,t):window.twttr.conversion.trackPid(e):a.queuedTwitterConversions.push({id:e,data:t})}static reportTheTradeDeskConversion(e,t){const n=document.createElement("img");n.setAttribute("height","1"),n.setAttribute("width","1"),n.setAttribute("role","presentation"),n.style.borderStyle="none",n.style.position="absolute",n.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${t}&fmt=3`),document.body.insertBefore(n,document.body.lastChild)}static reportLinkedInConversion(e,t){const n=document.createElement("img");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("role","presentation"),n.setAttribute("src",`https://dc.ads.linkedin.com/collect/?pid=${e}&conversionId=${t}&fmt=gif`),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}static reportDoubleClickConversion(e,t,n){const i=1e13*Math.random(),a=document.createElement("iframe");a.setAttribute("width","1"),a.setAttribute("height","1"),a.setAttribute("frameborder","0"),a.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};\n    type=${t};cat=${n};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${i}?`),a.style.display="none",document.body.insertBefore(a,document.body.lastChild)}static insertGoogleAdWordsTag(e,t){const n=document.createElement("script");t||(n.setAttribute("async",""),n.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=AW-${e}`),n.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,n){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,n){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==n&&window.location.assign(n)}}),!1};const n=a.queuedGoogleConversions;for(let i=0;i<n.length;i+=1){const r=n[i];r.id===e&&a.reportGoogleConversion(r.id,r.label,r.url,t)}}),document.body.insertBefore(n,document.body.firstChild)}static insertFacebookPixelTag(e){var t,n,i,r,o,l;t=window,n=document,i="script",t.fbq||(r=t.fbq=function(){r.callMethod?r.callMethod.apply(r,arguments):r.queue.push(arguments)},t._fbq||(t._fbq=r),r.push=r,r.loaded=!0,r.version="2.0",r.queue=[],(o=n.createElement(i)).async=!0,o.src="//connect.facebook.net/en_US/fbevents.js",(l=n.getElementsByTagName(i)[0]).parentNode.insertBefore(o,l)),window.fbq("init",e),window.fbq("track","PageView");const s=a.queuedFacebookConversions;for(let c=0;c<s.length;c+=1){const t=s[c];t.id===e&&(t.isCustomEvent?a.reportCustomFacebookConversion(e,t.event,t.data):a.reportFacebookConversion(e,t.event,t.data))}}static insertTwitterUniversalTag(e){var t,n,i,a,r,o;t=window,n=document,i="script",t.twq||(a=t.twq=function(){a.exe?a.exe.apply(a,arguments):a.queue.push(arguments)},a.version="1.1",a.queue=[],(r=n.createElement(i)).async=!0,r.src="//static.ads-twitter.com/uwt.js",(o=n.getElementsByTagName(i)[0]).parentNode.insertBefore(r,o)),window.twq("init",e),window.twq("track","PageView")}static insertLinkedInInsightTag(e){window._linkedin_data_partner_id=e;const t=document.createElement("script");t.setAttribute("src","//snap.licdn.com/li.lms-analytics/insight.min.js"),document.body.insertBefore(t,document.body.firstChild)}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};const e=window.pintrk;e.queue=[],e.version="3.0";const t=document.createElement("script");t.async=!0,t.src="https://s.pinimg.com/ct/core.js";const n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}(),window.pintrk("load",e),window.pintrk("page");const t=a.queuedPinterestConversions;for(let n=0;n<t.length;n+=1){const i=t[n];i.id===e&&a.reportPinterestConversion(e,i.event,i.data)}}}i(a,"queuedGoogleConversions",[]),i(a,"queuedFacebookConversions",[]),i(a,"queuedPinterestConversions",[]),i(a,"queuedTwitterConversions",[]);const r=a},770130:(e,t,n)=>{n.d(t,{Bu:()=>m,Dm:()=>l,I:()=>y,NG:()=>p,QP:()=>d,S4:()=>c,Xe:()=>u,_f:()=>h,eT:()=>_,hm:()=>g,yQ:()=>s,ym:()=>f});var i=n(9507);const a=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),r=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),o=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),l=[...Object.keys(a).map((e=>a[e])),...Object.keys(r).map((e=>r[e]))],s=[...Object.keys(o).map((e=>o[e]))],c=3,d=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],u={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:d[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},p="https://help.pinterest.com/article/merchant-details",h="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function m({verifiedMerchant:e}){var t,n;const i=null==e?void 0:e.isVerifiedMerchant,a=null==e||null===(t=e.inspirational_signal)||void 0===t?void 0:t.is_inspirational,r=null==e||null===(n=e.inspirational_signal)||void 0===n?void 0:n.is_eligible_for_storefront_badges;return Boolean(i&&a&&r)}function _(e){return e.badge_details?e.badge_details.map((e=>e.id)):[]}function g(e){return(null==e?void 0:e.profile_badges)||[]}function y(e,t,n){return t&&n?t.map((e=>n.find((t=>t.id===e.trim())))).filter(Boolean):[]}function v(e){const t=(0,i.oo)(e);if(!t)return"white";const[n,a,r]=t;return(0,i.DW)(n,a,r)<=i.I?"white":"black"}function f(e){const t=e||d[0];return{backgroundColor:t,color:v(t)}}},777610:(e,t,n)=>{n.d(t,{Q:()=>c,Z:()=>d});var i=n(667294),a=n(682492),r=n.n(a),o=n(563962),l=n(788241),s=n(282802);function c(e,t){const{setViewContextData:n}=(0,l.sV)(),{requestIdentifier:a}=(0,s.B)(),c=(0,o.Z)(),{viewData:d}=(0,l.SU)();(0,i.useEffect)((()=>{var t;e&&(n({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?r()(d,e.view_data):r()({},d),component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c({...e,event_type:13,request_identifier:a}))}),[t])}function d(e){const{children:t,log:n}=e;return c(n),t||null}},388011:(e,t,n)=>{n.d(t,{B:()=>s,v:()=>l});var i=n(788241),a=n(583592),r=n(785893);const{Provider:o,useHook:l}=(0,a.Z)("ContextLogger");function s({children:e,value:t}){const{setViewContextData:n}=(0,i.sV)();return t.injectSetViewContextDataFromHook=n,(0,r.jsx)(o,{value:t,children:e})}},563962:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(388011);const a=()=>(0,i.v)().logContextEvent},788241:(e,t,n)=>{n.d(t,{BE:()=>c,Ih:()=>d,SU:()=>u,sV:()=>l});var i=n(667294),a=n(583592),r=n(785893);const{Provider:o,useHook:l}=(0,a.Z)("View");let s;function c(){return s}function d({children:e,initialState:t={}}){const[n,a]=(0,i.useState)(t),l=(0,i.useCallback)((()=>{s={},a({})}),[]),c=(0,i.useCallback)((e=>{s={...s,...e},a((t=>({...t,...e})))}),[]),d=(0,i.useMemo)((()=>({viewContextData:n,clearViewContextData:l,setViewContextData:c})),[n,c,l]);return(0,r.jsx)(i.Fragment,{children:(0,r.jsx)(o,{value:d,children:e})})}function u(){const{viewContextData:e}=l();return e}},583592:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294);function a(e,t){return`\n  ${"consumer"===t?`${e}Consumer`:`use${e}`} must be used within a ${e}Provider.\n  Please see https://pdocs.pinadmin.com/docs/webapp/testing-jest#createhydra-errors for more information.\n  `}function r(e,t){const n=(0,i.createContext)(t),{messageDisplayName:r}=function(e,t){let n=e.slice(1);if(n=n.endsWith("Context")?n:`${n}Context`,t)return{hocDisplayName:`with${e[0].toUpperCase()}${n}(${t})`};return{propsDisplayName:`${e[0].toLowerCase()}${n}`,messageDisplayName:`${e[0].toUpperCase()}${n}`}}(e);n.displayName=r;const{Provider:o}=n,l=({children:e})=>{const t=(0,i.useContext)(n);if(void 0===t)throw new Error(a(r,"consumer"));return e(t)},s=()=>(0,i.useContext)(n);return o.displayName=`${r}Provider`,l.displayName=`${r}Consumer`,{Provider:o,Consumer:l,MaybeConsumer:({children:e})=>e((0,i.useContext)(n)),useMaybeHook:s,useHook:function(){const e=s();if(void 0===e)throw new Error(a(r,"hook"));return e}}}},377234:(e,t,n)=>{n.d(t,{F6:()=>u,Hs:()=>d,Yc:()=>s,vs:()=>c});var i=n(667294),a=n(611756),r=n(98736);const o="theme",l="dark"===(0,a.qn)(o),s=()=>l;function c(){const[e,t]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{t(s())}),[t]),e}const d=()=>{(0,a.Nh)(o,"dark"),(0,r.My)("mweb.dark_mode.enable"),window.location.reload()},u=()=>{(0,a.L_)(o),(0,r.My)("mweb.dark_mode.disable"),window.location.reload()}},921270:(e,t,n)=>{n.d(t,{Z:()=>o,k:()=>i.k});var i=n(642447),a=n(282802),r=n(785893);const o=({dateFormatType:e,useUTC:t=!0,value:n})=>(0,r.jsx)(a.LC,{children:a=>(0,i.Z)(a.locale,n,e,t)})},642447:(e,t,n)=>{n.d(t,{Z:()=>r,k:()=>i});const i={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit"},a=function(e){switch(e){case i.YEAR:return{year:"numeric"};case i.LONG:return{year:"numeric",month:"long",day:"numeric"};case i.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case i.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case i.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case i.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case i.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case i.MONTH_DAY:return{month:"long",day:"numeric"};case i.SHORT_MONTH:return{month:"short"};case i.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case i.DAY:return{day:"numeric"};case i.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case i.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case i.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case i.TIME:return{hour:"numeric",minute:"2-digit"};case i.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case i.HOUR:return{hour:"numeric"};default:throw new Error('invalid dateFormatType "'+e+'"')}};function r(e,t,n,i=!0){const r=a(n);i&&(r.timeZone="UTC");return new Intl.DateTimeFormat(e,r).format(t)}},758360:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(973935);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends i.Component{constructor(...e){super(...e),r(this,"observer",null),r(this,"handleVisibilityChanged",((e,t)=>{this.props.onVisibilityChange(e,t)}))}componentDidMount(){const e=a.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return i.Children.only(this.props.children)}}const l=o},391670:(e,t,n)=>{n.d(t,{Mi:()=>a,lO:()=>r});var i=n(583592);const{Provider:a,useMaybeHook:r}=(0,i.Z)("pageContext")},737311:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(40660),r=n(391297);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(...e){super(...e),o(this,"state",{error:null,info:null}),o(this,"resetError",(()=>{this.setState({error:null,info:null})}))}componentDidCatch(e,t){try{var n;const{name:t}=this.props,i=this.props.type||"secondary";(0,r.T)({extraData:null!==(n=e.extraData)&&void 0!==n?n:{},errorBoundary:t,errorBoundaryType:i,message:e.message,name:e.name,stack:e.stack}),a.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(i){a.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:t})}render(){const{renderErrorState:e}=this.props,{error:t,info:n}=this.state;return t&&n?e?e({error:t,info:n,resetError:this.resetError}):null:this.props.children}}},604094:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(737311).Z},33476:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),a=n(702664),r=n(527386),o=n(216702),l=n(785893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),s(this,"state",{hasCompleted:[],hasDismissed:[]}),s(this,"view",(()=>{const{experience:e,isBackendExperience:t,targeting:n,viewExperience:i,viewExperienceObject:a}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",a(e)):n?i(e.placement_id,e.experience_id,n):i(e.placement_id,e.experience_id))})),s(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:n,experience:i,isBackendExperience:a,preventRemoval:r,targeting:o}=this.props,l=e||1;if(i&&!this.state.hasCompleted.includes(i.experience_id)){const{placement_id:e,experience_id:s}=i||{},c=r||2===l;(1===l||c)&&e&&s&&(a?n(i,c):o?t(e,s,c,o):t(e,s,c),this.setState((e=>({hasCompleted:[...e.hasCompleted,s]}))))}})),s(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:n,isBackendExperience:i,preventRemoval:a,targeting:r}=this.props,{placement_id:o,experience_id:l}=n||{};n&&!this.state.hasDismissed.includes(l)&&(i?t(n):r?e(o,l,!!a,r):e(o,l,!!a),this.setState((e=>({hasDismissed:[...e.hasDismissed,l]}))))})),s(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:n,predicate:i,transitionType:a}=this.props,{experience_id:r,type:o}=e;if(t&&t.includes(r))return!0;if(null==t||!t.length){if(i&&i(e))return!0;if(n&&n.includes(o))return!0;if(a&&a===o)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=e.experience,n=this.props.experience;n&&this.shouldRenderExperience()&&(t&&t.experience_id===n.experience_id||this.view())}render(){const{children:e,experience:t,disableAutoView:n}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...n?{view:this.view}:Object.freeze({})}):i.Children.only(e):null}}function d(e){const t=(0,a.useSelector)((({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0))),n=(0,a.useDispatch)();return(0,l.jsx)(c,{...e,experience:t,completeExperience:(e,t,i,a)=>n((0,r.CK)(e,t,i,!1,{},a)),completeExperienceObject:(e,t)=>n((0,o.Tl)(e,t)),dismissExperience:(e,t,i,a)=>n((0,r.Qu)(e,t,i,void 0,a)),dismissExperienceObject:e=>n((0,o.CF)(e)),viewExperience:(e,t,i)=>n((0,r.UT)(e,t,!1,!1,void 0,i)),viewExperienceObject:e=>n((0,o.dy)(e))})}s(c,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},220590:(e,t,n)=>{n.d(t,{F:()=>p,M:()=>u});var i=n(667294),a=n(702664),r=n(14890),o=n(583592),l=n(527386),s=n(256558),c=n(785893);const{Provider:d,useHook:u}=(0,o.Z)("ExperienceContext");function p({children:e}){const[t,n]=(0,i.useReducer)(((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,[t.payload]:!0};if("UNMOUNT_PLACEMENT"===t.type){const n={...e};return delete n[t.payload],n}return e}),{}),o=(0,a.useDispatch)(),u=(0,a.useSelector)((e=>e.experiences)),p=(0,i.useMemo)((()=>{const e=(0,r.bindActionCreators)({completeExperience:l.CK,dismissExperience:l.Qu,fetchAllExperiences:l.fO,fetchAllExperiencesMulti:s.NW,fetchExperienceForPlacements:l.pz,mountPlacement:l.N,triggerExperimentsForPlacement:l.kd,viewExperience:l.UT},o);return{...e,mountPlacement:(t,...i)=>{e.mountPlacement(t,...i),n({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:e=>{n({type:"UNMOUNT_PLACEMENT",payload:e})}}}),[o,n]),h=(0,i.useMemo)((()=>({experiences:u,mountedPlacements:t,...p})),[u,t,p]);return(0,c.jsx)(d,{value:h,children:e})}},297776:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var i=n(667294),a=n(883119),r=n(33476),o=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.PureComponent{constructor(...e){super(...e),l(this,"onScroll",(()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout((()=>{e(),this.dismissed=!0,this.timer=void 0}),3e3))})),l(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:n,idealDirection:i}=this.props,r=n.slice(-3);return(0,o.jsx)(a.J2,{anchor:e,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,o.jsxs)(a.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,o.jsx)(a.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,o.jsx)(a.xv,{color:"default",weight:"bold",children:t})}),(0,o.jsx)(a.xu,{display:"flex",marginEnd:-2,paddingX:2,children:r.map((e=>(0,o.jsx)(a.xu,{height:60,width:50,paddingX:1,children:(0,o.jsx)(a.zd,{rounding:2,height:60,children:(0,o.jsx)(a.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)))})]})})}}var c=n(133149);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"dismissRef",(0,i.createRef)()),d(this,"state",{paused:!1}),d(this,"dismissCb",(()=>{var e,t;null===(e=(t=this.dismissRef).current)||void 0===e||e.call(t)})),d(this,"handlePulsarClick",((e,t)=>{e?this.setState({paused:!0}):t()}))}componentWillUnmount(){const{anchor:e}=this.props;clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:l,flyoutSize:d,fontSize:u,hasFullWidthButton:p=!0,idealDirection:h,useMasonryFlyout:m,noClickToDismiss:_,onClickComplete:g,onClickDismiss:y,placementId:v,positionRelativeToAnchor:f,shouldTimeoutDismiss:x,showCaret:b,textAlign:w,textOverflow:P,textOverrideFn:S,textWeight:T,customizedComplete:I,pulsarZIndex:A,advertiserId:k}=this.props,E=t||(({children:e})=>m?(0,o.jsx)(a.mh,{children:e}):e),C="blue";return(0,o.jsx)(r.Z,{eligibleIds:n,placementId:v,eligibleTypes:[8],targeting:k?{advertiserId:parseInt(k,10)}:null,children:({complete:t,dismiss:n,experience:r})=>{const{display_data:{scroll_to_dismiss:v,scroll_to_dismiss_delay_in_seconds:k=0,...j}}=r,D=v&&e,R=()=>{F(),setTimeout(n,1e3*k)},F=()=>{D&&(window.removeEventListener("scroll",R),window.removeEventListener("touchmove",R))},L=()=>{F(),t()};if(D&&(window.addEventListener("scroll",R),window.addEventListener("touchmove",R)),this.setDefaultPulsarTooltip(j),!j.has_pulsar&&!j.has_tooltip)return L(),null;x&&j.disappearTime&&j.disappearTime>0&&(this.timer=setTimeout((()=>(R(),null)),j.disappearTime));const O=501041===r.experience_id||505086===r.experience_id;return j.has_tooltip&&!j.has_pulsar&&(this.dismissRef.current=R,null==e||e.addEventListener("click",this.dismissCb)),(0,o.jsxs)(i.Fragment,{children:[j.has_pulsar&&(0,o.jsx)(c.Z,{anchor:e,leftOverride:O?342:void 0,onTouch:()=>this.handlePulsarClick(j.has_tooltip,L),paused:this.state.paused,topOverride:O?-5:void 0,zIndex:A&&A.index()}),j.has_tooltip&&(!j.has_pulsar||this.state.paused)&&(j.thumbnail_urls?(0,o.jsx)(s,{anchor:e,dismiss:R,idealDirection:h||"down",text:j.text,thumbnails:j.thumbnail_urls}):(0,o.jsx)(E,{children:(0,o.jsx)(a.J2,{anchor:e,color:"deprecatedBlue",idealDirection:h||"down",onDismiss:_?()=>{}:R,positionRelativeToAnchor:!m&&f,shouldFocus:!1,_deprecatedShowCaret:b,size:d,children:(0,o.jsxs)(a.xu,{column:12,padding:3,children:[(0,o.jsxs)(a.xv,{align:"right"===w?"end":w,color:"inverse",overflow:P,size:u,weight:T||"bold",children:[this.getText(j,l,S),j.secondary_cta_link&&(0,o.jsx)(a.xu,{display:"inlineBlock",marginStart:1,children:(0,o.jsx)(a.xv,{size:u,weight:"bold",color:"inverse",children:(0,o.jsx)(a.rU,{display:"inlineBlock",target:"blank",href:j.secondary_cta_link.url,underline:"hover",children:j.secondary_cta_link.text})})})]}),j.sub_text&&(0,o.jsx)(a.xu,{paddingY:2,children:(0,o.jsx)(a.xv,{color:"inverse",size:u,children:j.sub_text})}),(j.dismiss_button_text||j.complete_button_text)&&(0,o.jsxs)(a.xu,{display:"flex",alignItems:"center",marginTop:2,children:[j.dismiss_button_text&&(0,o.jsx)(a.xu,{marginEnd:1,column:6,children:(0,o.jsx)(a.zx,{fullWidth:p,color:C,onClick:()=>{y&&y(),R()},size:"md",text:j.dismiss_button_text})}),j.complete_button_text&&(0,o.jsx)(a.xu,{column:j.dismiss_button_text?6:12,children:I?(0,o.jsx)(a.iP,{fullHeight:!0,onTap:()=>{L(),g&&g()},rounding:2,children:(0,o.jsx)(a.xu,{display:"flex",color:"default",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,o.jsx)(a.xv,{color:"shopping",weight:"bold",children:j.complete_button_text})})}):(0,o.jsx)(a.kC,{justifyContent:"center",children:(0,o.jsx)(a.zx,{fullWidth:p,color:"white",href:j.complete_button_cta_url,role:j.complete_button_cta_url?"link":"button",size:"md",target:j.complete_button_cta_url?"blank":null,text:j.complete_button_text,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),L(),g&&g()}})})})]})]})})}))]})}})}}d(u,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},216702:(e,t,n)=>{n.d(t,{CF:()=>l,Tl:()=>o,dy:()=>s});var i=n(690108),a=n(527386);const r=(e,t)=>(n,r)=>o=>{if(n&&n.id){const l=i.Z.create(e,{placed_experience_id:n.id,extra_context:{}});switch(t){case"dismissed":l.callDelete().then((()=>{o((0,a.fO)())}));break;case"completed":l.callUpdate().then((()=>{r||o((0,a.fO)())}));break;case"viewed":l.callUpdate()}}},o=r("UserExperienceCompletedResource","completed"),l=r("UserExperienceResource","dismissed"),s=r("UserExperienceViewedResource","viewed")},187815:(e,t,n)=>{n.d(t,{HI:()=>o,f8:()=>s,hm:()=>l,sH:()=>r});var i=n(883119),a=n(785893);const r=({children:e})=>(0,a.jsx)(i.xu,{padding:4,position:"absolute",bottom:!0,left:!0,right:!0,children:e}),o=({children:e})=>(0,a.jsx)(i.xu,{padding:2,children:e}),l=({children:e})=>(0,a.jsx)(i.xu,{display:"flex",position:"absolute",top:!0,height:"100%",width:"100%",alignItems:"center",justifyContent:"center",children:e}),s=({children:e})=>(0,a.jsx)(i.xu,{padding:4,position:"absolute",top:!0,left:!0,right:!0,children:e})},105095:(e,t,n)=>{n.d(t,{Ec:()=>c,IA:()=>g,LX:()=>d,Mf:()=>_,SF:()=>l,_e:()=>s,l0:()=>o,ml:()=>r,q4:()=>a,zn:()=>i});const i=e=>["feed_card_default","feed_card_video"].includes(e),a=2/3,r=2/3,o=1/3,l="36px",s="28px",c=.4,d=.65,u={0:"start",1:"center",2:"end"},p={web:{0:"16",1:"20",2:"24"},mweb:{0:"12",1:"16",2:"18",3:"20"}},h={1:"italics",0:"normal"},m={1:"bold",0:"normal"},_=({color:e,font_style:t,font_weight:n,horizontal_alignment:i,size:a},r)=>({color:e,fontStyle:h[null!=t?t:0],fontWeight:m[null!=n?n:1],horizontalAlignment:u[null!=i?i:0],fontSize:p[r][null!=a?a:0]+"px"}),g=e=>e<=280?1.25:e>280&&e<=540?.75:e>540&&e<1024?d:c},133149:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),a=n(667294),r=n(785893);const o=(e,t,n,i)=>({horizontalOffset:-(i/2-t/2),verticalOffset:-(n/2-e/2)});function l({anchor:e,children:t,zIndex:n,leftOverride:l,topOverride:s}){const c=(0,a.useRef)(null),[d,u]=(0,a.useState)(0),[p,h]=(0,a.useState)(0),{height:m,width:_}=e.getBoundingClientRect();(0,a.useEffect)((()=>{const{current:t}=c;if(e&&t){const{height:e,width:n}=t.getBoundingClientRect(),{horizontalOffset:i,verticalOffset:a}=o(m,_,e,n);u(i),h(a)}}));const g=l||d,y=s||p;return(0,r.jsx)(i.xu,{position:"absolute",zIndex:n?new i.Ry(n):void 0,dangerouslySetInlineStyle:{__style:{left:g,top:y}},ref:c,children:t})}const s=function(e){const{anchor:t,leftOverride:n,onTouch:a,onMouseEnter:o,paused:s,size:c,topOverride:d,zIndex:u}=e;return t?(0,r.jsx)(l,{anchor:t,leftOverride:n,topOverride:d,zIndex:u,children:(0,r.jsx)(i.iP,{fullWidth:!1,onTap:({event:e})=>a(e),onMouseEnter:o,rounding:"circle",children:(0,r.jsx)(i.o3,{paused:s,size:c})})}):null}},765456:(e,t,n)=>{n.d(t,{_:()=>c,a:()=>d});var i=n(667294),a=n(702664),r=n(618446),o=n.n(r),l=n(527386),s=n(282802);const c=({extraContext:e,id:t,shouldUsePlacedExperience:n=!0})=>{const r=(0,i.useRef)(),c=(0,a.useDispatch)(),{isBot:d}=(0,s.B)(),u=(0,a.useSelector)((e=>e.experiences[t]));return(0,i.useEffect)((()=>{c((0,l.kd)(t))}),[c,u,t]),(0,i.useEffect)((()=>{n||o()(r.current,e)||(c((0,l.pz)([t],d,e)),r.current=e)}),[c,e,d,t,n]),u},d=e=>(c(e),(0,a.useSelector)((t=>t.experiencesMulti[e.id])))},624799:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=(n(527386),n(220590)),r=n(703688),o=(n(256558),n(282802));function l(e){const{mountedPlacements:t,completeExperience:n,dismissExperience:l,experiences:s,fetchAllExperiences:c,fetchAllExperiencesMulti:d,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:p,viewExperience:h}=(0,a.M)(),{isBot:m}=(0,o.B)(),_=e&&!m?(0,r.MQ)(s,t,e):null;return(0,i.useMemo)((()=>({completeExperience:n,dismissExperience:l,experienceForPlacement:_,fetchAllExperiences:c,fetchAllExperiencesMulti:d,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:p,viewExperience:h})),[n,l,_,c,d,u,p,h])}},917027:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var i=n(667294),a=n(604094),r=n(162132),o=n(883119),l=n(388011),s=n(51992);function c({isRTL:e,maxItemWidth:t=300,maxColumns:n=16,minColumns:i=2}){let a=`\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ${n*t}\n}\n\n.gridCentered .static {\n  position: absolute !important;\n  visibility: hidden !important;\n}\n\n@media (min-width: ${n*t}px) {\n  .gridCentered .static:nth-child(-n+${n}) {\n    position: static !important;\n    visibility: visible !important;\n    float: ${e?"right":"left"};\n    display: block;\n  }\n\n  .gridCentered .static:nth-child(-n+${n}) {\n    position: static !important;\n    visibility: visible !important;\n    float: ${e?"right":"left"};\n    display: block;\n  }\n\n  .gridCentered .static {\n    width: ${t}px !important;\n  }\n}\n`;for(let r=i;r<n+1;r+=1){a+=`\n@media (min-width: ${r===i?0:(r-1)*t+1}px) and (max-width: ${r*t}px) {\n  .gridCentered .static:nth-child(-n+${r}) {\n    position: static !important;\n    visibility: visible !important;\n    float: ${e?"right":"left"};\n    display: block;\n  }\n\n  .gridCentered .static {\n    width: calc(100% / ${r}) !important;\n  }\n}\n`}return a}var d,u,p,h=n(24286),m=n(874261),_=n(245410),g=n(282802),y=n(785893);class v extends i.Component{getGutters(){const{gutterWidth:e,paddingStyle:t}=this.props,n="simplified"===t,i=n?h.oX:e,a=n?16:6;return{gutterWidth:null!=i?i:h.ZZ,paddingBottom:a}}render(){const{_batchPaints:e,columnWidth:t,flexible:n,isGridCentered:i,isInitialRender:a,isRTL:r,isTwoColMasonryExpEnabled:l,items:d,layout:u,loadItems:p,logContextEvent:_,masonryRef:g,measurementStore:v,minCols:f,renderItem:x,scrollContainerRef:b,serverRender:w,virtualBufferFactor:P,virtualize:S}=this.props,{gutterWidth:T,paddingBottom:I}=this.getGutters(),A=w?"serverRenderedFlexible":"flexible";let k;i&&a&&(k="gridCentered");const E=()=>(null==b?void 0:b.current)||window;return(0,y.jsxs)("div",{className:k,children:[w&&a&&(0,y.jsx)(m.Z,{unsafeCSS:n?c({isRTL:r,maxItemWidth:(t||h.yF)+T,maxColumns:d.length||h.g5,minColumns:f||h.yc}):(0,s.Z)({isRTL:r,itemWidth:(t||h.yF)+T,maxColumns:d.length||h.g5,minColumns:f||h.yc})}),(0,y.jsx)(o.Rk,{columnWidth:(null!=t?t:h.yF)+T,gutterWidth:0,items:d,layout:n?A:null!=u?u:"basic",loadItems:p,measurementStore:v,minCols:f,_twoColItems:l,_logTwoColWhitespace:l?e=>{_({event_type:14705,component:14468,aux_data:{whitespace_px:e}})}:void 0,ref:e=>{g&&(g.current=e)},renderItem:e=>(0,y.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:I,paddingLeft:T/2,paddingRight:T/2}},children:x(e)}),scrollContainer:E,virtualize:S,virtualBufferFactor:P,_batchPaints:e})]})}}function f(e){var t;const{isRTL:n}=(0,g.B)(),{logContextEvent:a}=(0,l.v)(),{checkExperiment:r}=(0,_.F)(),o=null!==(t={enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[r("web_masonry_virtual_buffer_factor").group])&&void 0!==t?t:.7,s=(0,i.useRef)(!0);return(0,i.useEffect)((()=>{s.current&&(s.current=!1)}),[]),(0,y.jsx)(v,{...e,isInitialRender:s.current,isRTL:n,virtualBufferFactor:o,logContextEvent:a})}d=v,u="defaultProps",p={gutterWidth:h.ZZ,isGridCentered:!0,minCols:h.yc,paddingStyle:"simplified",virtualize:!0},u in d?Object.defineProperty(d,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[u]=p;var x=n(282442);class b extends i.Component{constructor(...e){super(...e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"loadItems",(()=>{const{isFetching:e,loadItems:t}=this.props;!e&&t&&t()}))}render(){const{cacheKey:e,columnWidth:t,flexible:n,gutterWidth:i,isGridCentered:o,items:l,layout:s,masonryRef:c,minCols:d,paddingStyle:u,renderItem:p,scrollContainerRef:h,serverRender:m,virtualize:_,_batchPaints:g,isTwoColMasonryExpEnabled:v}=this.props;return(0,y.jsx)(f,{columnWidth:t,flexible:n,gutterWidth:i,isGridCentered:o,isTwoColMasonryExpEnabled:v,renderItem:e=>(0,y.jsx)(a.Z,{name:"MasonryPerfTimingItem",children:p(e)}),items:l,layout:s,loadItems:this.loadItems,masonryRef:c,measurementStore:(0,r.Z)(e),minCols:d,paddingStyle:u,scrollContainerRef:h,serverRender:m,virtualize:_,_batchPaints:g})}}function w({cacheKey:e,columnWidth:t,flexible:n,gutterWidth:i,isAtEnd:a,isFetching:r,isGridCentered:o=!0,renderItem:l,items:s,pinData:c,layout:d,loadItems:u,masonryRef:p,minCols:h,paddingStyle:m,scrollContainerRef:g,serverRender:v=!0,isTwoColMasonryExpEnabled:f,virtualize:w=!0,includeBackgroundImages:P,includeVideos:S}){const{checkExperiment:T}=(0,_.F)(),I=T("web_masonry_batched_paints").anyEnabled;return(0,y.jsx)(x.Z,{isAtEndOfFeed:a,pinData:c,itemCount:s.length,includeBackgroundImages:P,includeVideos:S,children:(0,y.jsx)(b,{cacheKey:e,isTwoColMasonryExpEnabled:f,columnWidth:t,flexible:n,gutterWidth:i,isFetching:r,isGridCentered:o,items:s,layout:d,loadItems:u,masonryRef:p,minCols:h,paddingStyle:m,renderItem:l,scrollContainerRef:g,serverRender:v,virtualize:w,_batchPaints:I})})}},604541:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),a=n(616550),r=n(883119),o=n(604094),l=n(162132);function s({flexible:e,gutterWidth:t,id:n,isRTL:i,itemWidth:a,maxColumns:r,minColumns:o}){const l=n.replace(/\:/g,"\\:"),s=a+t;return`\n    .gridCentered {\n      margin-left: auto;\n      margin-right: auto;\n    }\n\n    .gridCentered .static {\n      position: absolute !important;\n      visibility: hidden !important;\n    }\n\n    ${Array.from({length:r+1-o},((e,t)=>t+o)).map((n=>{const c=n===r?null:(n+1)*s-1;return`\n      @media (min-width: ${n===o?0:n*s}px) ${c?`and (max-width: ${c}px)`:""} {\n        #${l} .static:nth-child(-n+${n}) {\n          position: static !important;\n          visibility: visible !important;\n          float: ${i?"right":"left"};\n          display: block;\n        }\n\n        ${e?`\n      #${l} .static {\n        width: calc(100% / ${n}) !important;\n      }\n    `:`\n      #${l} {\n        width: ${n*s}px;\n      }\n\n      #${l} .static {\n        padding: 0 ${t/2}px;\n        width: ${a}px !important;\n      }\n    `}\n      }\n    `})).join("")}\n  `}var c=n(24286),d=n(874261),u=n(988014),p=n(245410),h=n(282802),m=n(549201),_=n(785893);function g({cacheKey:e,columnWidth:t,gutterWidth:n,id:g,renderItem:y,items:v,layout:f,loadItems:x,masonryRef:b,minCols:w,scrollContainerRef:P,serverRender:S,resetPositions:T,virtualize:I=!0}){var A;const{isRTL:k}=(0,h.B)(),E=(0,m.ZP)(),C=(0,a.useLocation)(),j="desktop"!==E,D=S?"serverRenderedFlexible":"flexible",R=(0,u.Q0)(C)&&"desktop"===E?c.OS:v.length||c.g5,F=(0,i.useCallback)((()=>(null==P?void 0:P.current)||window),[P]),L=(0,l.Z)(e),[O,z]=(0,i.useState)(!1);(0,i.useEffect)((()=>{T&&!O&&(null==L||L.reset(),z(!0))}),[L,T,O]);const{checkExperiment:M}=(0,p.F)(),N=null!==(A={enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[M("duplo_masonry_virtual_buffer_factor").group])&&void 0!==A?A:.7,Z=M("web_masonry_batched_paints").anyEnabled;return(0,_.jsxs)("div",{id:g,className:"gridCentered","data-test-id":"masonry-container",children:[S&&g&&(0,_.jsx)(d.Z,{"data-test-id":"mobile-grid-styles",unsafeCSS:s({flexible:j,gutterWidth:n||0,id:g,isRTL:k,itemWidth:t||c.yF,maxColumns:R,minColumns:w||c.yc})}),(0,_.jsx)(r.Rk,{columnWidth:t,renderItem:e=>(0,_.jsx)(o.Z,{name:"MobileGridItem",children:y(e)}),gutterWidth:n||1,layout:j?D:null!=f?f:"basic",items:v,loadItems:x,measurementStore:(0,l.Z)(e),minCols:w||c.yc,ref:e=>{b&&(b.current=e)},scrollContainer:F,virtualize:I,virtualBufferFactor:N,_batchPaints:Z})]})}},162132:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119);const a={};function r(e){if(null!=e)return a[e]&&a[e].screenWidth===window.innerWidth||(a[e]={screenWidth:window.innerWidth,cache:i.Rk.createMeasurementStore()}),a[e].cache}},51992:(e,t,n)=>{function i({isRTL:e,itemWidth:t=236,maxColumns:n=16,minColumns:i=2}){let a="\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n}\n.gridCentered .static {\n  position: absolute;\n  visibility: hidden;\n}\n";for(let r=i;r<n+1;r+=1){a+=`\n@media (min-width: ${r===i?0:r*t}px) and (max-width: ${(r+1)*t-1}px) {\n  .gridCentered {\n    width: ${r*t}px;\n  }\n  .gridCentered .static:nth-child(-n+${r}) {\n    position: static !important;\n    visibility: visible !important;\n    float: ${e?"right":"left"};\n    display: block;\n  }\n}\n`}return a}n.d(t,{Z:()=>i})},88622:(e,t,n)=>{n.d(t,{ZP:()=>c,b7:()=>o.b7,bN:()=>l,p4:()=>s});var i=n(240684),a=n(549201),r=n(785893),o=n(467105);const l=(0,i.ZP)({resolved:{},chunkName:()=>"DesktopModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(51879).then(n.bind(n,943072)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 943072}}),s=(0,i.ZP)({resolved:{},chunkName:()=>"MobileModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(72430).then(n.bind(n,894121)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 894121}});function c(e){const t=(0,a.ZP)(),n=void 0===e.isOpen||e.isOpen;if("desktop"===t&&n){const{isOpen:t,mobileAccessibilityCloseIconLabel:n,mobileAllowScroll:i,mobileHideCloseIcon:a,mobileIsFullscreen:o,mobileIsSlideUp:s,type:c,mobileIsFooter:d,zIndex:u,...p}=e;return(0,r.jsx)(l,{...p})}const{allowClickAndDrag:i,allowMediaPlay:o,allowScroll:c,role:d,size:u,_dangerouslyDisableScrollBoundaryContainer:p,...h}=e;return(0,r.jsx)(s,{...h,isOpen:n})}},894121:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var i=n(667294),a=n(883119),r=n(387977),o=n(467105),l=n(536042),s=n(906215),c=n(282802),d=n(455788),u=n(98736),p=n(549201),h=n(886365),m=n(785893);const _=()=>{if(document.body){const{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}},g=()=>{if(document.body){const{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}};function y({accessibilityModalLabel:e,align:t="center",allowScroll:n=!1,children:y,closeOnOutsideClick:v=!0,footer:f,heading:x,mobileAccessibilityCloseIconLabel:b,mobileHideCloseIcon:w,mobileIsFullscreen:P,isOpen:S,mobileIsSlideUp:T,mobileIsFooter:I,onDismiss:A,zIndex:k,subHeading:E,type:C}){const j=(0,l.ZP)(),{isRTL:D}=(0,c.B)(),R=(0,i.useRef)(!1),[F,L]=(0,i.useState)(!1),{setAppFocusState:O}=(0,h.I)(),z=(0,p.ZP)();(0,i.useEffect)((()=>{(0,u.My)(`mweb_unauth.mobile_modal.${C||"unknown_type"}.did_mount.is_open.${String(!!S)}`)}),[S,C]),(0,i.useEffect)((()=>(R.current=(0,r.Z)((()=>{R.current&&L(!0)})),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&R.current&&(window.cancelAnimationFrame(R.current),R.current=null)})),[]),(0,i.useEffect)((()=>(S?(s.Z.pause(),O(!1)):(s.Z.resume(),O(!0)),()=>{S&&(s.Z.resume(),O(!0))})),[O,S]),(0,i.useEffect)((()=>{const e=S&&!n;return e&&_(),()=>{e&&g()}}),[S,n]);return S?(0,m.jsx)(d.Z,{children:(0,m.jsx)(a.mh,{children:(0,m.jsxs)(a.xu,{"aria-label":e,display:"inlineBlock",zIndex:k||o.ZM,position:"relative",role:"dialog",children:[(0,m.jsx)(a.iP,{accessibilityLabel:j._('Mobile Signup Modal Mask', 'mweb.signup_modal.mask', 'The acessibility label for the mask of mobile signup modal'),onTap:({event:e})=>{const t=e;(0,u.tj)(`mweb_unauth.mobile_modal.wash_tap.${C||"unknown_type"}.with_dismissal`,{x:t.clientX,y:t.clientY}),v&&A()},tapStyle:"none",children:(0,m.jsx)(a.xu,{height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new a.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}}})}),(0,m.jsxs)(a.xu,{position:"fixed",color:"default","data-test-id":"mobile-signup-mask",dangerouslySetInlineStyle:T?(0,o.Vf)({isFullscreen:P,isTablet:"tablet"===z,isShowing:F,isRelatedInterestsModal:"related_interests_modal"===C}):(0,o.JN)({variant:P?"fullscreen":"tablet"===z?"tablet":I?"footer":"signup"===C?"signup":void 0}),children:[(0,m.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",width:"100%",gap:{row:2,column:0},children:[b&&!w?(0,m.jsx)(a.xu,{padding:2,"data-test-id":"mobile-modal-cancel-button",children:(0,m.jsx)(a.hU,{accessibilityLabel:b,iconColor:"darkGray",icon:"cancel",onClick:A,padding:4,size:"sm"})}):null,x?(0,m.jsx)(a.kC.Item,{flex:"grow",children:(0,m.jsx)(a.kC,{direction:"column",alignItems:"center",justifyContent:"center",children:(0,m.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:b&&!w?{marginRight:D?-10:50,marginLeft:D?50:-10}:{}},children:[P?x:(0,m.jsx)(a.xv,{align:t,weight:"bold",size:"400",children:x}),E?(0,m.jsx)(a.xv,{align:t,children:E}):null]})})}):null]}),(0,m.jsxs)(a.xu,{overflow:"auto",children:[y,f]})]})]})})}):null}},467105:(e,t,n)=>{n.d(t,{JN:()=>c,Vf:()=>d,ZM:()=>l,b7:()=>o,i_:()=>s});var i=n(883119),a=n(377234),r=n(360675);const o=new i.Ry(1e3),l=new i.H3([r.Z]),s=12,c=({variant:e})=>{let t;return t="fullscreen"===e?{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"}:"tablet"===e?{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1}:"footer"===e?{border:(0,a.Yc)()?void 0:"1px solid #efefef",bottom:0,boxShadow:"0 0 16px rgba(0,0,0, 0.16)",left:0,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:"signup"===e?{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"}:{border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",borderRadius:"32px 32px 0 0"},{__style:t}},d=({isFullscreen:e,isTablet:t,isShowing:n,isRelatedInterestsModal:i})=>{let r={border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},o=n?"translateY(0)":"translateY(100vh)";return r.height=e?"100vh":"",t&&i&&(r={...r,width:425,left:"50%",transform:"translateX(-50%)"},o=n?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...r,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:o}}}},13596:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(734417),a=n(282802),r=n(785893);const o=({currency:e,maximumFractionDigits:t,minimumFractionDigits:n,shortform:o,shortformMaximumFractionDigits:l,formatStyle:s,uplimit:c,value:d})=>{const u=(0,i.Z)();return(0,r.jsx)(a.LC,{children:i=>u(i.locale||"en-US",d,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:n,shortform:o,shortform_maximum_fraction_digits:l,style:s,uplimit:c})})}},62152:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(736409),a=n(536042),r=n(630089);function o(){const e=(0,a.ZP)();return function(t,n){const a=new Date(t),o=new Date-a,l=Math.floor(o/i.FS),s=Math.floor(o/i.UK),c=Math.floor(o/i.F4),d=Math.floor(o/i.VL),u=Math.floor(o/i.N1),p=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', l, ' - ', ' -- '),h=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', s, ' - ', ' -- '),m=e.ngettext('{{ days }} day ago', '{{ days }} days ago', c, ' - ', ' -- '),_=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', d, ' - ', ' -- '),g=e.ngettext('{{ years }} year ago', '{{ years }} years ago', u, ' - ', ' -- '),y=e.ngettext('{{ minutes }}m', '{{ minutes }}m', l, 'minutes ago abbreviated', 'minutes ago abbreviated'),v=e.ngettext('{{ hours }}h', '{{ hours }}h', s, 'hours ago abbreviated', 'hours ago abbreviated'),f=e.ngettext('{{ days }}d', '{{ days }}d', c, 'days ago abbreviated', 'days ago abbreviated'),x=e.ngettext('{{ weeks }}w', '{{ weeks }}w', d, 'weeks ago abbreviated', 'weeks ago abbreviated'),b=e.ngettext('{{ years }}y', '{{ years }}y', u, 'years ago abbreviated', 'years ago abbreviated');return u>0?(0,r.nk)(n?b:g,{years:u}).join(""):d>0?(0,r.nk)(n?x:_,{weeks:d}).join(""):c>0?(0,r.nk)(n?f:m,{days:c}).join(""):s>0?(0,r.nk)(n?v:h,{hours:s}).join(""):l>0?(0,r.nk)(n?y:p,{minutes:l}).join(""):e._('Just now', ' - ', ' -- ')}}},536042:(e,t,n)=>{n.d(t,{ZP:()=>l,oz:()=>r,q6:()=>a});var i=n(583592);const{Provider:a,Consumer:r,useHook:o}=(0,i.Z)("i18n"),l=o},734417:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(536042),a=n(493851);const r=(e,t)=>{const n=t||0,i=10**n,a=+(n?e*i:e).toFixed(8),r=Math.floor(a),o=a-r,l=o>.5-1e-8&&o<.5+1e-8?r%2==0?r:r+1:Math.round(a);return n?l/i:l},o=({maximumFractionDigits:e,minimumFractionDigits:t,style:n,currency:i})=>{const a={maximumFractionDigits:e,minimumFractionDigits:t};return n?{...a,style:n,..."currency"===n?{currency:i,currencyDisplay:"symbol"}:{}}:a},l=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0},s=(e,t)=>{if(t){const{minimumFractionDigits:n,maximumFractionDigits:i}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==n&&void 0!==i)return{minimumFractionDigits:n,maximumFractionDigits:i}}return{minimumFractionDigits:2,maximumFractionDigits:2}};function c(){const e=(0,i.ZP)();return(t,n,i)=>{let c=0,d=0;const u=i&&i.style||void 0,p=i&&i.shortform||!1,h=i&&i.uplimit||void 0,m=i&&i.currency||void 0,_=!!h&&n>=h,g=h&&_?h:n;if("currency"===u){const{minimumFractionDigits:e,maximumFractionDigits:n}=s(t,m);c=void 0===i||void 0===i.maximum_fraction_digits?n:i.maximum_fraction_digits,d=void 0===i||void 0===i.minimum_fraction_digits?e:i.minimum_fraction_digits}else c=void 0===i||void 0===i.maximum_fraction_digits?0:i.maximum_fraction_digits,d=void 0===i||void 0===i.minimum_fraction_digits?0:i.minimum_fraction_digits;if(p&&g>999&&(c=void 0===i||void 0===i.shortform_maximum_fraction_digits?2:i.shortform_maximum_fraction_digits,d=0),c<d)return String(g);let y=g,v="";const f=[{"100M":{value:1e8,localeKey:e._('', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],x=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],b=/^zh|ja|ko/.test(t);if(p&&g>999){const e=b?f:x;for(let t=0;t<e.length;t+=1){const n=Object.keys(e[t])[0],i=e[t][n].value;if(g>=i){y=r(g/i*Math.pow(10,c))/Math.pow(10,c),v=e[t][n].localeKey;break}}}if(null==y)return"";const w=y.toLocaleString([l(t)&&"ar-SA"!==t?t:"en-US"],o({maximumFractionDigits:c,minimumFractionDigits:d,currency:m,style:u}));return v&&v.length>0?(0,a.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:w,numberSuffix:v})+(_?"+":""):w+(_?"+":"")}}},833122:(e,t,n)=>{n.d(t,{F:()=>s,Z:()=>l});var i=n(667294),a=n(388011),r=n(906215);const o={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704}};function l({carouselData:e,closeupImpressionType:t,closeupNavigationType:n,componentType:l,contextLogData:s,clientTrackingParams:c,elementType:d,impressionAuxFields:u,inImpressionExp:p,impressionType:h,impressionsFramework:m,isPaused:_,loggingId:g,objectIdStr:y,slotIndex:v,trackCarousel:f,viewData:x,viewParameter:b,viewType:w}){const{logContextEvent:P}=(0,a.v)(),S=m||r.Z,T=(0,i.useRef)(null),I=i=>{const a=o[h],r=a.idType;let p={clientTrackingParams:c,endTime:i.endTime,[r]:g,slotIndex:v,time:i.startTime,renderDuration:i.endTime-i.startTime,type:t,...u,forcedExit:"removed"===i.forcedExit?0:void 0};var m,_,S,I;"Pin"===h&&(p={...p,pinCellWidth:(null===(m=T.current)||void 0===m?void 0:m.getBoundingClientRect().width)||0,pinCellHeight:(null===(_=T.current)||void 0===_?void 0:_.getBoundingClientRect().height)||0,windowWidth:null===(S=window)||void 0===S?void 0:S.innerWidth,windowHeight:null===(I=window)||void 0===I?void 0:I.innerHeight});const A={component:l,object_id_str:y,view_type:w,view_data:x||{},view_parameter:b};if(f){if(e){var k,E,C;P({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...p,carouselDataId:Number(e.id),carouselSlotId:(null===(k=e.carousel_slots)||void 0===k?void 0:k[null!==(E=e.index)&&void 0!==E?E:0])&&Number(e.carousel_slots[null!==(C=e.index)&&void 0!==C?C:0].id),slotIndex:e.index}]},...A,aux_data:{...s}})}}else P({clientTrackingParams:c,event_type:a.eventType,...A,element:d,event_data:{[a.impressionType]:"Story"===h?p:[p]},aux_data:{closeup_navigation_type:n,...s}})},A=(0,i.useCallback)((()=>{try{T.current instanceof HTMLElement&&S.start(T.current).onExitViewport(I).setDebugId(g||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),[T.current]);(0,i.useEffect)((()=>(p&&!S.inExperiment&&S.setExperimentStatus(!0),_||A(),()=>{T.current instanceof HTMLElement&&S.stop(T.current)})),[A]);const k=(0,i.useRef)(_);return(0,i.useEffect)((()=>{k.current&&!_&&A(),k.current=_}),[_,A]),T}const s=({children:e,...t})=>e({impressionTrackerRef:l(t)})},965472:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),a=n(973935),r=n(40660),o=n(78309),l=n(3060);var s=n(388011),c=n(906215),d=n(785893);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class h extends i.Component{constructor(e){super(e),u(this,"trackImpression",(()=>{try{this.node=(0,a.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),u(this,"logImpression",(e=>{const{carouselData:t,closeupImpressionType:n,closeupNavigationType:i,componentType:a,contextLogData:s,elementType:c,impressionAuxFields:d,impressionType:u,loggingId:h,objectIdStr:m,slotIndex:_,trackCarousel:g,viewData:y,viewParameter:v,viewType:f,logContextEvent:x}=this.props,b=p[u],w=b.idType,P=e.forcedExit&&"removed"===e.forcedExit?0:void 0;let S={endTime:e.endTime,[w]:h,slotIndex:_,time:e.startTime,renderDuration:e.endTime-e.startTime,type:n,...d,forcedExit:P};var T,I,A,k,E;"Pin"===u&&(S={...S,pinCellWidth:this.node.offsetWidth,pinCellHeight:this.node.offsetHeight,windowWidth:null===(T=window)||void 0===T?void 0:T.innerWidth,windowHeight:null===(I=window)||void 0===I?void 0:I.innerHeight},null!=d&&d.chromeAraViewExp&&null!==(A=this.props.children)&&void 0!==A&&null!==(k=A.props)&&void 0!==k&&null!==(E=k.pin)&&void 0!==E&&E.is_promoted&&function(e,t,n,i){if("Pin"===e&&!0===t&&null!=n){r.Z.increment("webapp.arapi.view.funnel",.1,{status:"start"});try{const e={eventSourceEligible:!0,triggerEligible:!1},t=new URL(`${l.C0}/attribution_source/`);t.searchParams.set(o.NR.SOURCE_EVENT_ID,n),t.searchParams.set(o.NR.DESTINATION,i||""),t.searchParams.set(o.NR.EXPIRY,o.ug),t.searchParams.set(o.NR.PRIORITY,o.NR.VIEW_PRIORITY),t.searchParams.set(o.NR.SOURCE_EVENT_TYPE,o.Cu),window.fetch(t.toString(),{keepalive:!0,attributionReporting:e}),r.Z.increment("webapp.arapi.view.funnel",.1,{status:"success"})}catch(a){r.Z.increment("webapp.arapi.view.funnel",.1,{status:"failed",error:a.name})}}else r.Z.increment("webapp.arapi.view.funnel",.1,{status:"missing_param"})}(u,this.props.children.props.pin.is_promoted,this.props.children.props.pin.attribution_source_id,this.props.children.props.pin.link));if(g||x({event_type:b.eventType,component:a,element:c,event_data:{[b.impressionType]:"Story"===u?S:[S]},object_id_str:m,view_type:f,view_data:y||{},view_parameter:v,aux_data:{...s,closeup_navigation_type:i}}),t&&g){const{carousel_slots:e,index:n=0,id:i}=t;x({event_type:7352,component:a,event_data:{pinCarouselSlotImpressions:[{...S,carouselDataId:Number(i),carouselSlotId:(null==e?void 0:e[n])&&Number(e[n].id),slotIndex:n}]},object_id_str:m,view_type:f,view_data:y||{},view_parameter:v,aux_data:{...s}})}})),this.impressionsFramework=e.impressionsFramework||c.Z}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return i.Children.only(this.props.children)}}function m(e){const{logContextEvent:t}=(0,s.v)();return(0,d.jsx)(h,{...e,logContextEvent:t})}},630089:(e,t,n)=>{n.d(t,{Wc:()=>s,bF:()=>d,nk:()=>l,r7:()=>u});var i=n(667294),a=n(785893);function r(e,t,n){return e.split(n).map((e=>{if(e.match(n)){const n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e}))}const o=/(\{\{\s*\w+\s*\}\})/g;function l(e,t){return r(e,t,o)}function s(e,t){return r(e,t,o).join("")}const c=/(\{\s*\w+\s*\})/g;function d(e,t){return r(e,t,c)}const u=({text:e})=>Array.isArray(e)?e.map(((e,t)=>(0,a.jsx)(i.Fragment,{children:e},t))):e},110417:(e,t,n)=>{n.d(t,{Rq:()=>r,Vf:()=>o,jd:()=>l,k8:()=>c,oy:()=>s});var i=n(457628),a=n(791045);const r=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,o=28,l=e=>window.innerHeight>=748&&r(e),s=function(){return!("undefined"==typeof window||!window.navigator)&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)},c=()=>{if(s()){i.U2(a.oj)||(i.t8(a.oj,String(!0),(0,i.kZ)(a.oj)),"undefined"!=typeof window&&window.location.reload(!0))}}},5342:(e,t,n)=>{n.d(t,{Z:()=>a});const i=28;function a(e,t,n=i){if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;let a;a=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;const r=new Date,o=a?new Date(a):r;return o.setDate(o.getDate()+n),(new Date).getTime()<o.getTime()}},943795:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_HEIGHT:()=>d,DEFAULT_PADDING_Y:()=>u,FixedFooter:()=>v,FixedHeader:()=>y});var i=n(667294),a=n(883119),r=n(377234),o=n(906215),l=n(107577),s=n(245410),c=n(785893);const d=64,u=3,p=100,h=44,m="0px 0px 8px rgba(0, 0, 0, 0.1)",_="1px solid #efefef";function g({children:e,footerConfig:t,headerConfig:n,height:l,hideOnScroll:h,hideOnScrollState:{isHidden:g,updateHiddenState:y},noPadding:v,paddingY:f=u,type:x,zIndex:b}){const{headerLimitedOverflow:w,ignoreObstructions:P,zIndexForGestaltBug:S}=n||{},{appUpsellFooterConfig:T,footerInLego:I,navFooterConfig:A}=t||{},k=!!T,E="header"===x?"top":"bottom",{anyEnabled:C}=(0,s.F)().checkExperiment("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}),j=(0,r.vs)(),D=C?j:(0,r.Yc)(),R=(0,i.useRef)(null),F=(0,i.useRef)(null);(0,i.useEffect)((()=>{try{if(!P){const e=R.current;F.current=w&&e&&Array.isArray(e.children)?e.children[0]:e,F.current instanceof HTMLElement&&o.Z.addObstruction(E,F.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{P||F.current instanceof HTMLElement&&o.Z.removeObstruction(E,F.current)}}),[P,w,E,D]);const L="top"===E?"relative":"fixed",O=v?0:f,z=(null!=l?l:d)+((null==n?void 0:n.overrideTop)||0),M=h||A?{transition:I?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...g?{transform:`translateY(${"top"===E?-z:z}px)`,opacity:I?0:1}:Object.freeze({})}:{},N="relative"!==L||null!=n&&n.noGutter?0:2,Z=N?-N:0,U=D?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)";let B,K;return D&&("header"===x?B=-1:K=-1),(0,c.jsx)(a.xu,{ref:R,dangerouslySetInlineStyle:{__style:{top:B,bottomStyle:K,...!b||S?{zIndex:S||1}:Object.freeze({}),...w?{background:"transparent",overflow:"hidden",paddingBottom:p,marginBottom:-p,pointerEvents:"none"}:Object.freeze({}),...null!=n&&n.hasBorder?{borderBottom:_}:Object.freeze({}),...null!=t&&t.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...M}},zIndex:S?void 0:b,"data-test-id":x,display:k?"flex":void 0,height:l&&!I?l:void 0,position:L,bottom:"footer"===x,top:"header"===x,left:!0,right:!0,marginStart:I?"auto":Z,marginEnd:I?"auto":Z,onTransitionEnd:()=>{(h||A)&&F.current&&(g?o.Z.removeObstruction(E,F.current):o.Z.addObstruction(E,F.current))},width:I||"fixed"!==L?void 0:"100%",children:(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:(null==n?void 0:n.isTranslucent)&&U||(null==n?void 0:n.isTransparentBackground)&&"transparent"||"var(--color-background-default)",height:I?k?void 0:null!=l?l:d:"100%",boxShadow:I?m:void 0,marginBottom:!I||null!=A&&A.docked?void 0:16,...w?{pointerEvents:"auto"}:Object.freeze({}),...null!=n&&n.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==x||v?0:4)+N,paddingY:O,position:"relative",width:A?A.footerWidth:k?void 0:"100%",rounding:!I||null!=A&&A.docked?void 0:"pill",display:I||null!=t&&t.alignCenter?"flex":void 0,marginStart:I?"auto":void 0,marginEnd:I?"auto":void 0,alignItems:null!=t&&t.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:y}):e})})}function y({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:i,isTransparentBackground:r,noGutter:o,overrideTop:s,useRoundedCorners:d,zIndexForGestaltBug:p,...m}){const{noPadding:_,paddingY:y=u,zIndex:v}=m,f=_?0:y;return(0,c.jsx)(a.Le,{top:s||0,height:t?h+2*f*4:void 0,zIndex:v||void 0,children:(0,c.jsx)(l.Z,{hideOnScroll:m.hideOnScroll,children:a=>(0,c.jsx)(g,{...m,hideOnScrollState:a,type:"header",headerConfig:{isTranslucent:i,isTransparentBackground:r,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:o,overrideTop:s,zIndexForGestaltBug:p,useRoundedCorners:d}})})})}function v({alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:i,navFooterConfig:a,...r}){return(0,c.jsx)(l.Z,{appUpsellFooterConfig:t,hideOnScroll:r.hideOnScroll,navFooterConfig:null==a?void 0:a.scrollConfig,children:o=>(0,c.jsx)(g,{...r,hideOnScrollState:o,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:i,navFooterConfig:a}})})}},107577:(e,t,n)=>{n.d(t,{Z:()=>l,m:()=>o});var i=n(667294),a=n(552369);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o=20;class l extends i.Component{constructor(...e){var t;super(...e),r(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!(null===(t=this.props.navFooterConfig)||void 0===t||!t.isDockedNavOnPlp)}),r(this,"lastScrollPos",0),r(this,"updateHiddenState",(e=>{this.reqAnimationId=window.requestAnimationFrame((()=>{this.setState({isHidden:e})}))})),r(this,"handleScroll",(0,a.Z)((()=>{var e;const{appUpsellFooterConfig:t,navFooterConfig:n}=this.props,{isHidden:i}=this.state,a=window.scrollY,r=a-this.lastScrollPos;let l="none";const{scrollHeight:s,clientHeight:c}=document.documentElement||{};if(!Number.isNaN(s)&&!Number.isNaN(c))if(r<0){const e=window.scrollMinY||0;l=a<=Math.abs(e+Math.max(r,o))?"start":"none"}else{l=a>=(window.scrollMaxY||s-c)-Math.max(r,o)?"end":"none"}const d=null!=n&&n.isModal?0:55;if(t)if(r>o&&i&&a>=500){t.shouldShowAfterScroll()&&(this.updateHiddenState(!1),null==n||n.onScroll(!1))}else(r<-o&&!i||a<=d)&&(this.updateHiddenState(!0),null==n||n.onScroll(!0));else null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp?"start"===l&&!i||a<=d?(this.updateHiddenState(!0),null==n||n.onScroll(!0)):(a>d||"end"===l)&&i&&(this.updateHiddenState(!1),null==n||n.onScroll(!1)):(r<-o||"start"===l)&&i||a<=d?(this.updateHiddenState(!1),null==n||n.onScroll(!1)):(r>o||"end"===l)&&!i&&(this.updateHiddenState(!0),null==n||n.onScroll(!0));this.lastScrollPos=a}),30))}componentDidMount(){try{var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(t){window.console.error(t),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){var t,n,i,a;!e.hideOnScroll&&this.props.hideOnScroll||(null===(t=e.navFooterConfig)||void 0===t||!t.isDockedNavOnPlp)&&null!==(n=this.props.navFooterConfig)&&void 0!==n&&n.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||null!==(i=e.navFooterConfig)&&void 0!==i&&i.isDockedNavOnPlp&&(null===(a=this.props.navFooterConfig)||void 0===a||!a.isDockedNavOnPlp))&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){const{children:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state;return e({isHidden:!(null!=t&&t.forceShow)&&n,updateHiddenState:this.updateHiddenState})}}},265259:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),a=n(24286),r=n(319689),o=n(549201),l=n(785893);const s=({children:e,roundedForLargeDevice:t})=>{const n="phone"!==(0,o.ZP)()&&t;return(0,r.V)()?(0,l.jsx)(i.xu,{marginStart:-a.D6,marginEnd:-a.D6,rounding:n?6:void 0,overflow:n?"hidden":void 0,children:(0,l.jsx)(r.C,{value:!1,children:e})}):e}},993869:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var i=n(883119),a=n(24286),r=n(110417),o=n(319689),l=n(282802),s=n(785893);const c=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:n=!1,hasGutter:c=!0,height:d,showKeychainError:u=!1,useViewport:p=!1})=>{const h=(0,l.B)(),m=(0,r.jd)(h.userAgent.platform)?r.Vf:0;return(0,s.jsx)(i.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:p?`calc(100vh - ${m}px)`:d,paddingX:c?a.D6:void 0,paddingY:n||u?void 0:3,children:(0,s.jsx)(o.C,{value:!!c,children:e})})}},310646:(e,t,n)=>{function i(e,t){if("object"==typeof e&&"object"==typeof t){const n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every((n=>e[n]===t[n]))}return e===t}n.d(t,{Ak:()=>i,_Y:()=>a,qe:()=>l,xZ:()=>o});const a=(e,t)=>e.length===t.length&&e.every(((e,n)=>i(e,t[n]))),r=(e,t)=>e.length===t.length&&e.every(((e,n)=>e===t[n])),o=(e,t=r)=>n=>{const i=[];return function(...a){const r=this,o=i.find((e=>e.context===r&&t(e.args,a)));if(o)return o.result;const l={context:r,args:a,result:n.apply(this,a)};return i.push(l),e&&i.length>e&&i.shift(),l.result}},l=o(1);o()},532465:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>o});const a=new class{constructor(){i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1),i(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter((t=>t!==e))}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter((t=>t!==e))}getAppState(){return this.windowInFocus?0:void 0}},r=e=>{if(e.isHidden){const{reason:t}=e;a.windowInFocus=!1,a.onPauseListeners.forEach((e=>e(t)))}else a.windowInFocus=!0,a.onResumeListeners.forEach((e=>e()))};setTimeout((()=>{window.addEventListener("beforeunload",(()=>r({isHidden:!0,reason:"beforeunload"}))),window.addEventListener("focus",(()=>r({isHidden:!1}))),window.addEventListener("blur",(()=>r({isHidden:!0,reason:"blur"}))),window.addEventListener("pageshow",(()=>r({isHidden:!1}))),window.addEventListener("pagehide",(()=>r({isHidden:!0,reason:"pagehide"}))),void 0!==document.hidden?document.addEventListener("visibilitychange",(()=>r(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",(()=>r(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1)}),0);const o=a},84812:(e,t,n)=>{function i(e,t,n){return!(!(e&&e.trim().length>0&&t)||n)}n.d(t,{r:()=>i})},649796:(e,t,n)=>{n.d(t,{P:()=>l,t:()=>s});var i=n(690108),a=n(970588);const r=()=>{};const o={complaint:function(e,t){i.Z.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},followBoard:function(e,t){i.Z.create("BoardFollowResource",e).callCreate().then((()=>t()))},followPinner:function(e,t){i.Z.create("UserFollowResource",e).callCreate().then((()=>t()))},followTopic:function(e,t){i.Z.create("InterestFollowResource",e).callCreate().then((()=>t()))},newsHubPinHide:function(e,t){(0,a.Z)({url:e.undo?`/v3/news_hub/${e.newsId}/pin/${e.pinId}/undo/`:`/v3/news_hub/${e.newsId}/pin/${e.pinId}/hide/`,method:"PUT"}).then((()=>t()))},promotedComplaint:function(e,t){i.Z.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},relatedPinHide:function(e,t){(0,a.Z)({url:e.undo?`/v3/p2p/${e.pin}/unhide/`:`/v3/p2p/${e.pin}/hide/`,method:"PUT"}).then((()=>t()))},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t){i.Z.create("BoardFollowResource",e).callDelete().then((()=>t()))},unfollowPinner:function(e,t){i.Z.create("UserFollowResource",e).callDelete().then((()=>t()))},unfollowTopic:function(e,t){i.Z.create("InterestFollowResource",e).callDelete().then((()=>t()))},unrelatedSearchPin:function(e,t){(0,a.Z)({url:e.undo?`/v3/search/${e.pin_id}/unhide/`:`/v3/search/${e.pin_id}/hide/`,method:"PUT",data:{query:e.query,pin_type:e.pin_type}}).then((()=>t()))}},l=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,t,n=r){const i=e?o[e]:null;return i?i(t,n):n()}},958083:(e,t,n)=>{n.d(t,{EF:()=>p,Iv:()=>c,Ud:()=>s,hP:()=>l,nb:()=>u,oK:()=>d});var i=n(630089),a=n(649796),r=n(867812);const o=e=>e.length>32?`${e.substring(0,32).trim()}...`:e;function l({boardFollowedByMe:e,feedbackType:t,viewParameter:n,promotion:i,recommendationReason:a,pinnerFollowedByMe:r}){if(i&&!i.isDownstreamPromotion)return"promoted";if(t)return t;if(a){if("FOLLOWED_INTEREST"===a.reason)return"topic";if("FOLLOWING_FEED"!==a.reason&&"RECENT_FOLLOWED_BOARD"!==a.reason)return a.hasBoard?"pfyBoard":"pfy"}if(e||r)return"followed";switch(n){case 140:case 144:case 141:case 145:case 139:case 3173:return"related";case 3082:return"newsHub";default:return"default"}}function s({feedback:e,i18n:t,makeNavigateLink:n}){var a,r,l,s,c,d,u,p;switch(e.type){case"pfy":return t._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":const{recommendationReasonBoard:h}=e;return h?(0,i.nk)(t._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:n("navigation",h.url,h.name)}):null;case"topic":const{sourceInterest:m}=e;return m?(0,i.nk)(t._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:n("topicUrl",`/topics/${m.url_name}`,m.name)}):null;case"followed":const{followed:_}=e;return"pinner"===_.type?(0,i.nk)(t._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:n("pinnerUrl",`/${null!==(a=null===(r=_.pinner)||void 0===r?void 0:r.username)&&void 0!==a?a:""}`,o(null!==(l=null===(s=_.pinner)||void 0===s?void 0:s.full_name)&&void 0!==l?l:""))}):(0,i.nk)(t._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:n("boardUrl",null!==(c=null===(d=_.board)||void 0===d?void 0:d.url)&&void 0!==c?c:"",o(null!==(u=null===(p=_.board)||void 0===p?void 0:p.name)&&void 0!==u?u:""))});case"promoted":if(e.promoter){const{full_name:a,username:r}=e.promoter,o=n("promotedLink",r?"/"+r+"/":"/",a);return(0,i.nk)(t._('{{ promoterLink }} paid to have this Pin show up where\n          you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:o})}return t._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');default:return null}}function c({sourceInterest:e,i18n:t,makeNavigateLink:n}){var a,o;return{action:"unfollowTopic",actionOptions:{interest_id:e.id,interest_list:r.X},title:"",subTitle:(0,i.nk)(t._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:n("topicUrl",`/topics/${null!==(a=e.url_name)&&void 0!==a?a:""}`,null!==(o=e.name)&&void 0!==o?o:"",!0)})}}function d({boardId:e,display:t,i18n:n,makeNavigateLink:a}){var r,o,l,s;return{action:"unfollowBoard",actionOptions:{board_id:e},title:"",subTitle:"pinner"===t.type?(0,i.nk)(n._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:a("pinnerUrl",`/${null!==(r=t.data.username)&&void 0!==r?r:""}`,null!==(o=t.data.full_name)&&void 0!==o?o:"",!0)}):(0,i.nk)(n._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:a("boardUrl",null!==(l=t.data.url)&&void 0!==l?l:"",null!==(s=t.data.name)&&void 0!==s?s:"",!0)})}}function u(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function p(e,t,n,i,r,o,l){return()=>{const s={...e,undo:!0};let c=t;"unfollowPinner"===t?c="followPinner":"unfollowBoard"===t?c="followBoard":"unfollowTopic"===t&&(c="followTopic"),(0,a.t)(c,s),o(n),l({event_type:101,component:0,element:11181,view_type:i,view_parameter:r})}}},7997:(e,t,n)=>{n.d(t,{Z:()=>i});const i=({hasRecipe:e,hasArticle:t,i18n:n})=>e?n._('Make it', 'pinPage.pinActionBar.Makeit.Button', 'Text on a button that lets users visit the source of the pin'):t?n._('Read it', 'pinPage.pinActionBar.Readit.Button', 'Text on a button that lets users visit the source of the pin'):n._('Visit', 'pinPage.pinActionBar.visitButton', 'Text on a button that lets users visit the source of the pin')},652552:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(393272),a=n(170417),r=n(837422);function o(e){const{images:t={}}=(0,a.Z)((0,r.Z)({pin:e}))||{},n=(0,i.Z)({images:t});return{url:(null==n?void 0:n.url)||"",height:(null==n?void 0:n.height)||1,width:(null==n?void 0:n.width)||1}}},488167:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(393272),a=n(652552);function r(e,t,n=564){return e>n&&(t*=n/e,e=n),{width:e,height:t}}var o=n(972551);const l=({pin:e,maxWidth:t,imageSignature:n})=>{var l,s;const{image_signature:c}=e;if(!n||""===n||c===n){const{width:n,height:i,url:o}=(0,a.Z)(e);return{...r(n,i,t),url:o}}const d=(0,o.Z)({richPinData:e.rich_metadata||e.rich_summary}),u=[...(null==d||null===(l=d.variant_set)||void 0===l||null===(s=l.variants)||void 0===s?void 0:s.flatMap((e=>e.additional_images||[])))||[],...(null==d?void 0:d.additional_images)||[]],{canonical_images:p}=u.find((({image_signature:e})=>n===e))||{},{height:h=1,width:m=1,url:_=""}=(0,i.Z)({images:p||{}})||{};return{...r(m,h,t),url:_}}},740494:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(465991);const a=e=>(e||"").trim().replace(/\s+/g," "),r=({storyPinDataId:e,pinDescription:t,richMetadataDescription:n,richSummaryDisplayName:r,closeupDescription:o,closeupUnifiedDescription:l,seoDescription:s,seoNoindexReason:c})=>{if(c&&i.eg.has(c))return a(s);return!!e?a(t):a((0,i.eK)({richMetadataDescription:n,richSummaryDisplayName:r,closeupUnifiedDescription:l}).description)||a(l||"")||a(o)||a(t)||a(n)||""}},853192:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(7997),a=n(729522);const r=(e,t)=>{const n=e.link_domain||{},r=e.tracked_link||e.link||e.images&&e.images.orig&&e.images.orig.url,o=e.rich_metadata||e.richMetadata,{domain:l}=e,s=e.closeup_attribution||e.native_creator||n.official_user||e.pinner||e.origin_pinner,c=!(!(o&&o.recipe&&o.recipe.name&&o.recipe.categorized_ingredients)||o.recipe.from_aggregated_data);let d,u;o&&o.products&&o.products[0]&&(d=!!(o&&o.products[0].name&&o.products[0].offer_summary));const p=d,h=!(!o||!o.article),m=!(!o||!o.tutorial),_=!(!s||!s.username);let g=t._('Saved from ', 'Closeup pin annotation', 'Closeup pin annotation'),y=_?t._('Saved by', ' - ', ' -- '):t._('Saved from', ' - ', ' -- ');o&&o.products&&o.products[0]&&o&&o.products[0].name&&o.products[0].offer_summary&&(g=t._('Product sold by ', 'pin annotation', 'pin annotation'),u=o.products[0].offer_summary),p?y=t._('Sold by', ' - ', ' -- '):m?(g=t._('Saved from ', 'pin annotation', 'pin annotation'),y=_?t._('Saved by', ' - ', ' -- '):t._('Saved from', ' - ', ' -- ')):c?(g=t._('Recipe from ', 'pin annotation', 'pin annotation'),y=_?t._('Recipe by', ' - ', ' -- '):t._('Recipe from', ' - ', ' -- ')):h&&(g=t._('Article from ', 'pin annotation', 'pin annotation'),y=_?t._('Article by', ' - ', ' -- '):t._('Article from', ' - ', ' -- '));const v=e.rich_summary;if(!u&&v){let e;v&&v.products&&v.products[0]&&(e=!!(v&&v.products[0].name&&v.products[0].offer_summary),e&&(g=t._('Product sold by ', 'pin annotation', 'pin annotation')))}let f,x;_?(f="/"+s.username+"/",x=s.full_name):(f="/source/"+l,x=o&&o.site_name||l);const b=s&&(s.image_medium_url||s.image_small_url)||e.board&&e.board.image_thumbnail_url,w=(0,a.Z)(t._('More from {{ subtitle }}', ' - ', ' -- '),{subtitle:x});return{actionButtonText:(0,i.Z)({hasRecipe:c,hasArticle:h,i18n:t}),image:b,link:f,pinLink:r,pin:e,pinCreditPrefix:g,prefixText:y,subtitle:x,title:w,pinTitle:e.closeup_unified_title,pinDescription:e.closeup_unified_description,pinCategory:e.category}}},465991:(e,t,n)=>{n.d(t,{eg:()=>o,kt:()=>m,rw:()=>p,fs:()=>c,eK:()=>d,Ly:()=>u,BY:()=>h,bN:()=>_,RC:()=>l,EU:()=>s});const i=/\s\s+/g,a=e=>e.replace(i," ");var r=n(371362);const o=Object.freeze(new Set(["sensitive_raw_pin_text","is_sensitive_rich_pin_description","is_sensitive_rich_pin_title","is_sensitive_board_title"])),l=({storyPinDataMetadataPinTitle:e,pinTitle:t})=>e||t,s=(e,t)=>e?e.trim().length>t?(0,r.ZP)(e.trim(),t).trim():e.trim():"",c=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:r})=>{const o=r||e,l=s(t,200);return l||(n||(i||(a&&o?o:null)))},d=e=>{const{richSummaryDisplayName:t}=e,n=e.pinJoinVisualAnnotation||[],i=e.pinJoinAnnotationsWithLinks||{},o=e.richMetadataDescription||"",l=e.closeupUnifiedDescription||"",s=n.map((e=>(i||{})[e]||{name:e,url:""}));let c="";const d=(t||"").toLocaleLowerCase().trim(),u=o.toLocaleLowerCase().trim(),p=l.toLocaleLowerCase().trim();return l&&l.length>3&&p!==d?c=l:o&&o.length>3&&u!==d&&(c=o),c&&(c=a((0,r.ZP)(c,496)).trim()),{description:c,annotationsWithLinks:s}},u=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:r,pinJoinVisualAnnotation:l,pinJoinAnnotationsWithLinks:s,seoNoindexReason:u,seoTitle:p})=>{if(u&&o.has(u))return p;const{annotationsWithLinks:h}=d({pinJoinVisualAnnotation:l,pinJoinAnnotationsWithLinks:s}),m=(h||[]).map((e=>e.name)),_=e=>(e||[])[0]||null;return c({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:r})||_(l)||_(m)||e},p=(e,t,n,i,a)=>{const r=(o=e,"string"==typeof o?o:"").trim();var o;let l="";const s=(e,t)=>t&&t.length>0?`${e} ${t.join(", ")}`:e;return l=i&&i.trim().length?s(i.trim(),n):a&&a.trim().length?a.trim():r?s(r,n):n?n.join(", "):"",l},h=e=>`/pin/${e}/`,m=(e,t)=>{const n=`Pinterest video from ${t}: `.concat(e);return""===t?e:n},_=({pinId:e,seoUrl:t})=>t&&"string"==typeof t?t:h(e)},170417:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{if(!e)return null;const{pin:t}=e,{images:n}=t,i=Object.keys(n||{}).reduce(((e,t)=>{const i=n[t],{url:a,width:r,height:o}=i;return e&&a&&r&&o?{...e,[t]:{url:a,width:r,height:o}}:null}),{});return i&&Object.keys(i).length>0?{...e,images:i}:null}},837422:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{var t;return null!=e&&null!==(t=e.pin)&&void 0!==t&&t.id?e:null}},245410:(e,t,n)=>{n.d(t,{F:()=>r,a:()=>a});var i=n(583592);const{Provider:a,useHook:r}=(0,i.Z)("ExperimentContext")},397352:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=(n(883119),n(781493)),r=n(785893);const o=(e,t,n)=>{const a=(0,i.useRef)(null),r=(0,i.useRef)(null);(0,i.useEffect)((()=>{if(e!==a.current||n&&n!==r.current){a.current=e;const n=(i=e,document.querySelector(`img[src="${i}"]`)||null);null!=n&&n.complete&&t()}var i;r.current=n}),[e,t,n])};function l({alt:e,children:t,color:n,elementTiming:i,isActive:l=!1,naturalHeight:s,naturalWidth:c,onLoad:d,src:u,fit:p="none"}){return o(u,d,l),(0,r.jsx)(a.Z,{alt:e,color:n,elementTiming:i,naturalHeight:s,naturalWidth:c,onLoad:d,src:u,fit:p,children:t})}},77494:(e,t,n)=>{n.d(t,{Z:()=>q});var i=n(667294),a=n(532465),r=n(245410),o=n(93501),l=n(30482),s=n(763795),c=n(39983),d=n(677263),u=n(41162),p=n(372453),h=n(363959),m=n(324e3),_=n(583077);const g=({constraintMap:e,initialNavTiming:t,annotations:n})=>({...n,...(0,_.jh)("constraint_",e),...(0,_.jh)("mark_",(0,c.gQ)()),...(0,_.jh)("browser_",{...t?(0,_.D3)(t):{},...(0,_.rX)()})});var y=n(577491),v=n(335741),f=n(769916);const x=(e,t)=>{const{firstInputDelay:n}=(0,v.v2)();return[...e.map((e=>(0,y.Z)(e,t))).filter(Boolean),...n?[{name:"fid",id:(0,f.Z)(),parentId:t,startTime:n.startTime,endTime:n.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]]};var b=n(40660),w=n(813107);const P=({eventPrefix:e,endTime:t,tags:n,resourceArr:i,resourceType:a="allResources"})=>{const r=i.length;if(r>0&&"object"==typeof i[0]&&!Array.isArray(i[0])){const o=[...i].sort(((e,t)=>e.fetchStart-t.fetchStart)),l=[...i].sort(((e,t)=>e.responseEnd-t.responseEnd));let s=1;const c=t/5;let d=0;for(;s<=5;){let t=0;for(;d<=r-1&&o[d].fetchStart<=c*s;)d+=1,t+=1;b.Z.gauge(`${e}.tags.${a}.fetchStartInterval${s}of5`,t,.2,n),b.Z.gauge(`${e}.${a}.fetchStartInterval${s}of5`,t,.2),s+=1}const u={zeroPercentInFlight:o[0].fetchStart,twentyFivePercentInFlight:o[Math.floor(r/4)].fetchStart,fiftyPercentInFlight:o[2*Math.floor(r/4)].fetchStart,seventyFivePercentInFlight:o[3*Math.floor(r/4)].fetchStart,hundredPercentInFlight:o[r-1].fetchStart,twentyFivePercentComplete:l[Math.floor(r/4)].responseEnd,fiftyPercentComplete:l[2*Math.floor(r/4)].responseEnd,seventyFivePercentComplete:l[3*Math.floor(r/4)].responseEnd,hundredPercentComplete:l[r-1].responseEnd};for(const t in u)u[t]&&(b.Z.timing(`${e}.tags.${a}.${t}`,u[t],.2,n),b.Z.timing(`${e}.${a}.${t}`,u[t],.2))}},S=({annotateExperiments:e,endTime:t,entries:n,metricId:i,pwtStaticContext:a})=>{const r=`${(0,w.Z)(a)}.${i.surface}`,o=[r];e&&e.forEach((e=>{const t=a.getExperimentGroup(e)||"null";o.push(`${r}.${e}.${t}`)}));const l={lcpTimingBucket:(e=>{let t;return t=e<=2500?"Good":e>2500&&e<=4e3?"Needs Improvement":"Poor",t})((0,v.Bn)())||"unknown",isAuthenticated:a.isAuthenticated,navigationType:i.navigationType},s=Array.from(n.filter((e=>"number"==typeof e.encodedBodySize&&e.encodedBodySize>=1e4&&e.responseEnd<=t))),c=[],d=[],u=[],p=[],h=[];s.forEach((e=>{"img"===e.initiatorType?c.push(e):"css"===e.initiatorType?d.push(e):"script"===e.initiatorType?u.push(e):"xmlhttprequest"===e.initiatorType?p.push(e):"link"===e.initiatorType&&e.name.includes("i.pinimg.com")&&h.push(e)})),o.forEach((e=>{P({eventPrefix:e,endTime:t,tags:l,resourceArr:s}),P({eventPrefix:e,endTime:t,tags:l,resourceArr:c,resourceType:"image"}),P({eventPrefix:e,endTime:t,tags:l,resourceArr:d,resourceType:"css"}),P({eventPrefix:e,endTime:t,tags:l,resourceArr:u,resourceType:"scripts"}),P({eventPrefix:e,endTime:t,tags:l,resourceArr:p,resourceType:"xhr"}),P({eventPrefix:e,endTime:t,tags:l,resourceArr:h,resourceType:"preloadedImage"})}))};var T=n(353335);const I=({annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:i,endTime:a,imageTimings:r,metricId:o,pwtStaticContext:l,startTime:s,traceId:c,spans:d})=>{const u=(0,T.Cg)();let _;"initial_app_load"===o.navigationType&&(_=(0,h.Z)());const y=r.map((({name:e})=>e)),v=u.map((e=>(0,m.p)(e,y))).filter((({timing:e})=>!(({startTime:e,responseEnd:t},n)=>e>n.endTime||!!t&&t<n.startTime||e<n.startTime-100)(e,{startTime:s,endTime:a})));return"board"!==o.surface&&"pin_closeup"!==o.surface||S({annotateExperiments:e,endTime:a,entries:u,metricId:o,pwtStaticContext:l}),{type:"COMPLETE",traceId:c,startTime:s,endTime:a,spans:x(v,c).concat(d),annotationMap:g({constraintMap:i,initialNavTiming:_,annotations:t}),binaryAnnotationMap:(0,p.rA)({annotateExperiments:e,binaryAnnotations:n,entries:u,metricId:o,performanceResources:v,pwtEndTime:a,pwtStaticContext:l})}};let A=!1;const k=(e,t)=>e&&t?A?((0,s.H)("duplicated_initial_app_load_surface_pwt"),(0,f.Z)()):(A=!0,t):(0,f.Z)();var E=n(591614),C=n(361905);const j=e=>{const t=performance.getEntriesByType("resource").filter((e=>e.name.includes("i.pinimg"))).reduce(((e,t)=>{const n=t.name.replace(".jpg","").split("/");return{[n[n.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}}),{});[...Array.from(document.getElementsByTagName("img")).map((e=>{const n=e.src.replace(".jpg","").split("/"),i=n[n.length-1];if(t[i]){var a;const n=(null===(a=(0,C.rZ)(e))||void 0===a?void 0:a.width)||1,r=t[i].downloadSize;return{fileName:i,renderedSize:n,downloadedSize:r,ratio:r/n}}return{fileName:i,renderedSize:1,downloadedSize:1,ratio:1}})),...Array.from(document.querySelectorAll('div[role="img"]')).map((e=>{const n=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),i=n[n.length-1];if(t[i]&&e instanceof HTMLDivElement){var a;const n=(null===(a=(0,C.rZ)(e))||void 0===a?void 0:a.width)||1,r=t[i].downloadSize;return{fileName:i,renderedSize:n,downloadedSize:r,ratio:r/n}}return{fileName:i,renderedSize:1,downloadedSize:1,ratio:1}}))].forEach((t=>{const{ratio:n,fileName:i,downloadedSize:a}=t;t.ratio>1.05&&(0,s.A9)(`checkImageRatio.${e}`,{count:Math.round(10*n)/10,tags:{fileName:`${a}_${i}`}})}))};var D=n(622200),R=n(282802);const F=(e,t)=>{const n=(0,i.useRef)(t);return{getState:()=>n.current,dispatch:t=>{n.current=e(n.current,t)}}};var L=n(694952),O=n(935340),z=n(785893);const M=["initial_app_load","client_route_push"],N=(0,l.XV)("PwtSurface"),Z="NavigationComplete",U="VisuallyComplete",B=(e,t)=>{e.isSampled&&(0,E.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},K=e=>{if(e.metricConfig.constraints.every((t=>e.constraintMap[t]))){const t=Math.max(...e.metricConfig.constraints.map((t=>e.constraintMap[t])));return((e,t)=>{var n;const{metricConfig:{metricId:i,pwtStaticContext:a,annotateExperiments:r},annotations:l,binaryAnnotations:d,constraintMap:u,startTime:p,imageTimings:h,isSampled:m,spans:_}=e;(0,c.L8)(`PWT_Complete_${(0,o.KJ)(i)}`);const g=k("initial_app_load"===i.navigationType,null===(n=a.serverData)||void 0===n?void 0:n.trace_id),y=I({annotateExperiments:r,annotations:l,binaryAnnotations:d,constraintMap:u,endTime:t,imageTimings:h,metricId:i,pwtStaticContext:a,startTime:p,traceId:g,spans:_});m&&(0,E.Z)({metricId:i,pwtStaticContext:a,result:y});try{j(String(y.binaryAnnotationMap["metricId.surface"].value))}catch(v){(0,s.H)("image_ratio_check_error",{error:v})}return{...e,result:y,status:"DONE"}})(e,t)}return e},H=(e,t)=>{const{constraint:n,time:i}=t,a=(0,o.KJ)(e.metricConfig.metricId);return D.Z?e.metricConfig.constraints.find((e=>e===n))?e.constraintMap[n]?(N(`constraint "${n}" is already complete.`),(0,s.H)("duplicated_constraint_complete",{constraint:n,action:a}),e):(N(`marking constraint "${n}" as complete`),(0,c.ZP)(`constraint_${n}_is_complete`),K({...e,constraintMap:{...e.constraintMap,[n]:i||D.Z.now()}})):(N(`marked constraint "${n}" is not a required constraint.`),e):((0,s.H)("missing_window_performance",{action:a}),e)},G=(e,t)=>{if(N("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{const{metricConfig:n,startTime:i,isSampled:a}=t;if("TIMING"===e.status&&i!==e.startTime&&B(e,"routeUpdatedOnSameSurface"),!n)return{status:"DISABLED",metricConfig:null};const r=(0,o.KJ)(n.metricId);return"TIMING"===e.status&&e.startTime===i&&e.constraintMap[Z]?((0,s.H)("duplicated_init_route_action",{action:r}),e):("Other"===n.pwtStaticContext.browserName&&!1===n.metricId.isAuthenticated&&"initial_app_load"===n.metricId.navigationType?((0,s.A9)(`TIMING.${r}`,{tags:{userAgent:null===(l=window)||void 0===l||null===(c=l.navigator)||void 0===c?void 0:c.userAgent}}),(0,s.A9)(`TIMING.sampled.${r}`,{tags:{userAgent:null===(d=window)||void 0===d||null===(u=d.navigator)||void 0===u?void 0:u.userAgent},sampleRate:.5})):((0,s.A9)(`TIMING.${r}`),(0,s.A9)(`TIMING.sampled.${r}`,{sampleRate:.5})),H({status:"TIMING",metricConfig:n,startTime:i,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:a,spans:[]},{constraint:Z}));var l,c,d,u})(e,t.payload);if("TIMING"!==e.status)return N(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":B(e,t.reason);const n={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:n};case"ANNOTATE":const{name:i}=t.payload;if(!D.Z)return e;const a=D.Z.now();return N(`adding annotation {${i}: ${a}}`),{...e,annotations:{...e.annotations,[i]:a}};case"BINARY_ANNOTATE":const{name:r,value:l,annotationType:c}=t.payload;return N(`adding binary annotation {${r}: ${l}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[r]:{value:l,type:c}}};case"MARK_CONSTRAINT_COMPLETE":return H(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!D.Z){const t=(0,o.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}N(`removing constraint "${t}"`);const n=e.metricConfig.constraints.filter((e=>e!==t)),{[t]:i,...a}=e.constraintMap;return K({...e,constraintMap:a,metricConfig:{...e.metricConfig,constraints:n}})})(e,t.payload);case"SET_SEGMENT":return((e,t)=>{if(!D.Z){const t=(0,o.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}N(`updating pwt segment to "${t}"`);const n={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:n}}})(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{const{payload:{imageTimings:n}}=t;if(0===n.length){B(e,"visuallyComplete_noImages");const t={type:"ABORT",reason:"visuallyComplete_noImages"};return{...e,status:"DONE",result:t}}const i=Math.max(...n.map((e=>e.responseEnd||0)));return H({...e,imageTimings:n},{constraint:U,time:i})}case"ADD_SUBSPAN":const{startTime:d}=e,{payload:{name:u,startTime:p,endTime:h,annotations:m,binaryAnnotations:_,parentId:g}}=t;return{...e,spans:[...e.spans,{name:u,id:(0,f.Z)(),startTime:p||d,endTime:h,annotationMap:{...m},binaryAnnotationMap:{..._},parentId:g}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,f.Z)(),startTime:D.Z?D.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":const y=e.spans.findIndex((e=>e.name===t.payload.name));return y>-1?(e.spans[y].endTime=D.Z?D.Z.now():0,t.payload.annotations&&(e.spans[y].annotationMap={...e.spans[y].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[y].binaryAnnotationMap={...e.spans[y].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,s.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:const v=(0,o.KJ)(e.metricConfig.metricId);return(0,s.H)("invalid_pwt_surface_action",{action:v}),e}},W=e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}},$=({surface:e,constraints:t,segment:n,measureGridVisuallyComplete:o,annotateExperiments:l,customEnabledNavigationTypes:s,navigationInfo:{clientNavigation:c,navigationType:u},sampleRate:p})=>{const h=(0,i.useRef)("NOT_SET"),m=(0,d.N5)(),{getState:_,dispatch:g}=F(G,{status:"DISABLED",metricConfig:null}),y=(0,R.B)();if(h.current!==c&&(h.current=c,m)){const{isAuthenticated:i}=m,a=e&&u&&(s||M).includes(u)?{metricId:{type:"surface",surface:e,navigationType:u,isAuthenticated:i,segment:n},annotateExperiments:l,constraints:[Z,...t||[],...o?[U]:[]],pwtStaticContext:m}:null;g({type:"INIT_ROUTE",payload:{metricConfig:a,startTime:c?c.time:0,isSampled:!p||Math.random()<p}})}const v=(0,r.F)(),f=_();if((0,i.useEffect)((()=>{const e=e=>{g({type:"ABORT",reason:e})};a.Z.onSessionPause(e);const t=window.innerHeight,n=window.innerWidth,i=()=>{var e,a,r;const o=Math.abs(window.innerHeight-t),l=Math.abs(window.innerWidth-n),s=window.innerHeight!==t,c=window.innerWidth!==n,d={handler:(0,L.H)(),deviceType:null!==(e=null==m?void 0:m.deviceType)&&void 0!==e?e:"unknown",isAuthenticated:null!==(a=null==m?void 0:m.isAuthenticated)&&void 0!==a?a:"unknown",platform:null!==(r=y.userAgent.platform)&&void 0!==r?r:"unknown"};(0,O.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...d,heightChanged:s,widthChanged:c}}),s&&(0,O.S0)("webapp.PwtLogger.resizeHeightDelta",o,{sampleRate:1,tags:d}),c&&(0,O.S0)("webapp.PwtLogger.resizeWidthDelta",l,{sampleRate:1,tags:d}),window.removeEventListener("resize",i);("phone"===(null==m?void 0:m.deviceType)&&(!c&&s&&o<=150||!s&&!c)||"desktop"===(null==m?void 0:m.deviceType)&&!s&&!c)&&v.checkExperiment(y.isAuthenticated?"web_pwt_resize_abort_auth":"web_pwt_resize_abort_unauth").anyEnabled?(0,O.nP)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...d,heightChanged:s,widthChanged:c}}):g({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",i),()=>{const t=_();N("handling unmount",t),"TIMING"===t.status&&B(t,"unmount"),a.Z.removePauseListener(e),window.removeEventListener("resize",i)}}),[]),"TIMING"!==f.status||!f.constraintMap[Z])return{state:f,context:null};const{startTime:x,metricConfig:b}=f;return{state:f,context:{abort:e=>g({type:"ABORT",reason:e}),addAnnotation:e=>g({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,n)=>g({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:n}}),addSubspan:(e,t,n,i={},a={},r=null)=>g({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:r}}),getId:()=>x,getMetricId:()=>b.metricId,markConstraintComplete:e=>g({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:D.Z?D.Z.now():0}}),removeConstraint:e=>g({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>g({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:b.constraints.includes(U)?e=>g({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},n={},i=null)=>g({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}}),stopSubspan:(e,t={},n={},i=null)=>g({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}})}}},V=()=>{const e=(0,u.E)(),t=!!e;(0,i.useEffect)((()=>{if(t){const t=null==e?void 0:e.getMetricId(),n=t?(0,o.KJ)(t):null;(0,s.H)("nested_pwt_surface",{action:n})}}),[t])};function q({children:e,...t}){var n;const i=(0,d.fM)(),a=W(i),r=[...null!==(n=t.annotateExperiments)&&void 0!==n?n:[]],o={...t,annotateExperiments:r,navigationInfo:{navigationType:a,clientNavigation:i}},{context:l}=$(o);return V(),(0,z.jsx)(u.S,{value:l,children:e})}},282442:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(574155),a=n(667294),r=n(39983),o=n(41162);var l=n(677263);function s({children:e,isAtEndOfFeed:t,pinData:n,itemCount:s,includeBackgroundImages:c=!1,includeVideos:d=!1,includeSections:u=!1}){var p;return(null===(p=(0,l.N5)())||void 0===p?void 0:p.isAuthenticated)||(u=!0),(0,i.Z)({pinData:n,isAtEndOfFeed:t,includeBackgroundImages:c,includeVideos:d,includeSections:u}),function(e){const t=(0,o.E)(),n=(0,a.useRef)(null);(0,a.useEffect)((()=>{e!==n.current&&(n.current=e,t&&(0,r.ZP)(r.at))}),[!!t,e])}(s),e}},768337:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";default:return"OTHER"}}},709649:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),a=n(883119),r=n(101789),o=n(342693),l=n(44081),s=n(536042),c=n(245410),d=n(785893);function u({category:e,ingredients:t,textSize:n="300"}){return(0,d.jsxs)(a.xu,{children:[e&&(0,d.jsx)(a.xu,{children:(0,d.jsx)(a.xv,{weight:"bold",size:n,children:e})}),(0,d.jsx)("ul",{children:t.map(((e,t)=>(0,d.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,d.jsx)(a.xu,{marginTop:1,children:(0,d.jsxs)(a.xv,{size:n,children:[" ",e.amt||null," ",e.name]})})},t)))})]})}var p=n(789907),h=n(196858),m=n(729522);const _=e=>e.reduce(((e,t)=>e.concat(t)),[]);function g({columnGap:e,recipeProps:t,marginOverrides:n}){const g=(0,s.ZP)(),{diets:y,image:v,name:f,categorizedIngredients:x,fromAggregatedData:b}=t.recipe,{checkExperiment:w}=(0,c.F)(),P=w("closeup_dweb_onepin_title_and_description").anyEnabled,S=g._('Ingredients', 'Ingredients title and count in closeup recipe description', 'Ingredients title and count in closeup recipe description');let T;if(x&&x.length){const e=[];x.forEach((t=>e.push(t.ingredients)));const t=_(e.filter(Boolean)).length;T=x&&x.length&&t?(0,m.Z)(g.ngettext('{{ count }} ingredient', '{{ count }} ingredients', t, 'Ingredients title and count in closeup recipe description', 'Ingredients title and count in closeup recipe description'),{count:t.toString()}):S}const I=P?8:(null==n?void 0:n.outerMarginTop)||80;return(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:I}},children:(0,d.jsxs)(p.Z,{itemScope:!0,itemType:h.G,children:[(0,d.jsx)("meta",{content:f,itemProp:"name"}),(0,d.jsx)("meta",{content:v,itemProp:"image"}),!P&&(0,d.jsx)(a.xu,{"data-test-id":"ingredients-heading",marginBottom:4,children:(0,d.jsx)(a.X6,{size:"400",children:b?f:T})}),!P&&y&&y.length>0&&(0,d.jsx)(a.xu,{marginBottom:4,children:(0,d.jsx)(a.xv,{inline:!0,size:"200",children:y.join(" ")})}),P?(0,d.jsx)(r.Z,{heading:S,children:(0,d.jsx)(l.Z,{children:(0,d.jsx)(a.xu,{marginTop:4,children:x.map((({category:e,ingredients:t},r)=>{const l=`ingredient-${r}`;return(0,d.jsx)(i.Fragment,{children:(0,d.jsx)(a.xu,{marginBottom:(null==n?void 0:n.ingredientMarginBottom)||4,children:(0,d.jsx)(u,{category:e,ingredients:t,textSize:o.n})})},l)}))})})}):Array.isArray(x)&&x.length>0&&(1===x.length?(0,d.jsx)(a.xu,{column:12,"data-test-id":"single-column-ingredients",children:x.map((({category:e,ingredients:t},i)=>(0,d.jsx)(a.xu,{marginBottom:(null==n?void 0:n.ingredientMarginBottom)||2,children:(0,d.jsx)(u,{category:e,ingredients:t,textSize:"100"})},i)))}):(0,d.jsxs)(a.xu,{display:"flex","data-test-id":"dual-column-ingredients",children:[(0,d.jsx)(a.xu,{column:6,children:x.slice(0,Math.ceil(x.length/2)).map((({category:e,ingredients:t},i)=>(0,d.jsx)(a.xu,{marginBottom:(null==n?void 0:n.ingredientMarginBottom)||2,children:(0,d.jsx)(u,{category:e,ingredients:t,textSize:"100"})},i)))}),e,(0,d.jsx)(a.xu,{column:6,children:x.slice(Math.ceil(x.length/2)).map((({category:e,ingredients:t},i)=>(0,d.jsx)(a.xu,{marginBottom:(null==n?void 0:n.ingredientMarginBottom)||2,children:(0,d.jsx)(u,{category:e,ingredients:t,textSize:"100"})},i)))})]}))]})})}},277731:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(883119),r=n(31407),o=n(785893);function l({recipeData:e}){var t;if(null!==(t=e.aggregate_rating)&&void 0!==t&&t.rating_value&&e.aggregate_rating.review_count){var n,l,s;const t="number"==typeof(null===(n=e.cook_times)||void 0===n||null===(l=n.cook)||void 0===l?void 0:l.m)&&"number"==typeof(null===(s=e.cook_times.prep)||void 0===s?void 0:s.m)?`${e.cook_times.cook.m+e.cook_times.prep.m} minutes  `:"";return(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)(r.Z,{rating:e.aggregate_rating.rating_value,max_rating:e.aggregate_rating.best_rating,width:12},e.aggregate_rating.rating_value),(0,o.jsx)(a.xv,{inline:!0,size:"200",children:` ${e.aggregate_rating.review_count}  ${t}`})]})}return null}},711443:(e,t,n)=>{function i(e,t,n){const i=[...e],a=i.splice(t,1)[0];return i.splice(n,0,a),i}n.d(t,{Z:()=>i})},282802:(e,t,n)=>{n.d(t,{B:()=>u,LC:()=>c,P2:()=>s,fH:()=>d,gf:()=>p});var i=n(667294),a=n(310646),r=n(71985),o=n(785893);const l=(0,i.createContext)();function s({children:e,value:t}){const[n,s]=(0,i.useState)(t),c=(0,i.useMemo)((()=>({requestContext:n,updateRequestContext:e=>{const t={...n,...e};(0,a.Ak)(n,e)||s(t),(0,r.J)(t)}})),[n]);return(0,o.jsx)(l.Provider,{value:c,children:e})}const c=({children:e})=>{const t=(0,i.useContext)(l);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)},d=({children:e})=>{const t=(0,i.useContext)(l);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)};function u(){const e=(0,i.useContext)(l);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e.requestContext}function p(){const e=(0,i.useContext)(l);if(!e)throw new Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},71985:(e,t,n)=>{let i;function a(e){i=e}function r(){return i}n.d(t,{J:()=>a,l:()=>r})},819079:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(702664),r=n(616550),o=n(31086),l=n(282802),s=n(575794),c=n(33319);const d={},u=({httpStatus:e})=>!e||e>=500;function p(e){const{enabledRouteRefresh:t,__unstableEnableSuspenseSupport:n,headers:p,name:h,noCache:m,options:_,schema:g}=null!=e?e:{name:"DisabledResource",options:null},y=!e,v=(0,a.useDispatch)(),f=(0,o.Z)(_),x=(0,i.useRef)(null),b=(0,i.useRef)(),w=(0,r.useHistory)(),P=w&&"POP"!==w.action,S=e=>(e[h]||d)[f]||d,T=(0,a.useSelector)((({resources:e})=>S(e).nextBookmark)),I=(0,a.useSelector)((({resources:e})=>S(e).data)),A=(0,a.useSelector)((({resources:e})=>S(e).auxData)),k=(0,a.useSelector)((({resources:e})=>S(e).error)),E=(0,a.useSelector)((({resources:e})=>Boolean(S(e).fetching))),C=Boolean(k)||void 0!==I,j=C&&!E&&T===c.q,D=Boolean(C&&t&&P&&!y),[R,F]=(0,i.useState)(D),L=(0,i.useCallback)((e=>{x.current=v((0,s.U)(h,{options:_,schema:g,bookmark:e,headers:p}))}),[v,h,f,g,p]),O=()=>{x.current=v((0,s.b)(h,{options:_,schema:g,headers:p}))},{isBot:z}=(0,l.B)(),M=()=>{if(!y&&b.current!==f){const e=void 0===b.current;b.current=f,!C&&!E||e&&k&&u(k)?L():(!z&&m||D)&&O()}};(0,i.useEffect)((()=>{n||M()})),n&&M();const N=(0,i.useCallback)((()=>{y||(O(),F(!0))}),[y,s.b,h,f,p,F]),Z=(0,i.useCallback)((()=>{!T||j||E||y||L(T)}),[y,L,T,j,E]);if(x.current)if(C&&!E)x.current=null;else if(n)throw x.current;const U=(0,i.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:Z,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:N}),B={auxData:A,data:I,error:k,fetchMore:Z,isAtEnd:j,isFetching:E,isLoaded:C,isRefreshing:R,nextBookmark:T,refresh:N};return(0,a.shallowEqual)(B,U.current)||(!R||!U.current.data&&D||(0,a.shallowEqual)(B.data,U.current.data)||(B.isRefreshing=!1,F(!1)),U.current=B),U.current}},664334:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(819079),a=n(802071);var r=n(616550),o=n(282802),l=n(549201),s=n(739425);function c({checkExperiments:e,disableFetch:t,viewer:n}){var i;const a=(0,r.useLocation)(),c=(0,r.useRouteMatch)(),d=(0,o.B)(),u=function({advertiser:e,deviceType:t,location:{pathname:n,search:i},inviteCode:a,match:{params:r,path:o},viewer:l}){return{advertiser:e,deviceType:t,routeData:{inviteCode:a,matchPath:o,params:r,parsedSearch:(0,s.mB)(i),pathname:n,search:i},user:{country:l.country||void 0,id:l.id||void 0,isAuth:l.isAuth,isEmployee:!!l.isEmployee||!1,isPartner:!!l.isPartner||!1,username:l.username||void 0,firstHomeFeedRequestAfterNux:l.firstHomeFeedRequestAfterNux||void 0}}}({advertiser:d.advertiser,deviceType:(0,l.Mq)(d),location:a,match:c,viewer:n,inviteCode:null!==(i=d.inviteCode)&&void 0!==i?i:""}),p=!!t&&t(u),h=!(!p&&e)||e(d.experimentsClient);return{args:u,fetchDisabled:p||!h}}function d({getOptions:e,checkExperiments:t,disableFetch:n,...r}){const o=function(){const e=(0,a.Z)();return{country:e.country||void 0,id:e.id||void 0,isAuth:e.isAuth,isEmployee:!!e.isEmployee||!1,isPartner:!!e.isPartner||!1,username:e.username||void 0,firstHomeFeedRequestAfterNux:e.firstHomeFeedRequestAfterNux||void 0}}(),{args:l,fetchDisabled:s}=c({checkExperiments:t,disableFetch:n,viewer:o}),d=e?e(l):void 0;return(0,i.Z)(s?null:{options:d,...r})}},792953:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(785893);function r({accessibilityLabel:e}){return(0,a.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,a.jsx)(i.$j,{accessibilityLabel:e,show:!0})})}},946579:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(667294).createContext)("undefined"!=typeof window?window:null)},700746:(e,t,n)=>{n.d(t,{Hd:()=>s,_R:()=>o,gi:()=>a,lw:()=>i,wF:()=>l,zh:()=>r});const i={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},a=e=>{switch(e){case i.PINS:return 0;case i.PINS_MINE:return null;case i.PINS_BUYABLE:return 1;case i.PINS_VIDEO:return 2;case i.BOARDS:return 3;case i.USERS:return 4;default:return null}},r=e=>{switch(e){case 0:return i.PINS;case 1:return i.PINS_BUYABLE;case 2:return i.PINS_VIDEO;case 3:return i.BOARDS;case 4:return i.USERS;default:return null}},o=e=>{switch(e){case i.PINS:return 43;case i.PINS_MINE:return 107;case i.PINS_BUYABLE:return 254;case i.PINS_VIDEO:return 3306;case i.BOARDS:return 44;case i.USERS:return 45;default:return null}},l=e=>{switch(e){case i.PINS:return 60;case i.PINS_MINE:return 63;case i.PINS_BUYABLE:return 3800;case i.PINS_VIDEO:return 64;case i.BOARDS:return 61;case i.USERS:return 62;default:return null}},s=(e,t)=>{if(t)switch(e){case i.USERS:return 1000392;case i.PINS_BUYABLE:return 1000391;case i.PINS:default:return 29}switch(e){case i.USERS:return 1000432;case i.PINS_BUYABLE:return 1000433;case i.PINS:default:return 1000269}}},511139:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(468e3),a=n(845098);function r({bubbleId:e,pinId:t,query:n,referringSource:r,storyCategory:o,storyId:l,title:s}){const c=[0,24,21,26].includes(o),d=(0,a.Z)({q:n,rs:r||void 0,b_id:e,source_id:l,top_pin_id:t}),u=c&&s?(0,i.x)({title:s,id:e,articleType:"discover"}):`/discover/article/${e}/`;return c?u:"/search/pins/"+(d?"?"+d:"")}},829488:(e,t,n)=>{function i({appliedProductFilters:e,autoCorrectionDisabled:t,filters:n,query:i,scope:a,selectedPinImgSig:r,user:o}){const l=[a,n,e,o,r,i].map((e=>null!=e?e:"")).join(":");return t?"auto-correction-disabled:"+l:l}function a(e){const{autoCorrectionDisabled:t,appliedProductFilters:n,appliedFilters:i,filters:a,selectedPinImgSig:r,query:o,rs:l,scope:s,bubbleId:c,user:d}=e,u=function({autoCorrectionDisabled:e=!1,appliedFilters:t=null,appliedProductFilters:n=null,bubbleId:i=null,filters:a=null,query:r=null,rs:o="direct_navigation",scope:l="pins",selectedPinImgSig:s=null,sourceId:c=null,user:d}){return{article:i,applied_filters:t,appliedProductFilters:n,auto_correction_disabled:e,corpus:s?"personalize":null,customized_rerank_type:s?"manas_graph_sage_only_wand_rewrite":null,filters:a,query:r,query_pin_sigs:s,redux_normalize_feed:!0,rs:o,scope:l,source_id:c,user:d}}({autoCorrectionDisabled:!!t,appliedProductFilters:n,appliedFilters:i,filters:a,query:o,rs:l,scope:s,selectedPinImgSig:r,bubbleId:c,user:d});return{name:"BaseSearchResource",options:u}}n.d(t,{Ht:()=>a,Tb:()=>i})},114935:(e,t,n)=>{function i(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function a(e,t){if(i(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(let r=0;r<n.length;r+=1)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!i(e[n[r]],t[n[r]]))return!1;return!0}n.d(t,{Z:()=>a})},671915:(e,t,n)=>{n.d(t,{Z:()=>s,t:()=>c});var i=n(667294),a=n(167912),r=n(690108);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={};class s extends i.Component{constructor(...e){super(...e),o(this,"state",{invite:l[this.props.invite_code]||null,loaded:this.props.invite_code in l})}componentDidMount(){const{invite_code:e}=this.props;r.Z.create("InviteCodeMetadataResource",{invite_code:e}).callGet().then((t=>{if(t&&t.resource_response){const n=t.resource_response.data;l[e]=n,this.setState({invite:n,loaded:!0})}})).catch((()=>{this.setState({invite:null,loaded:!0})}))}render(){const{invite:e,loaded:t}=this.state;return t?this.props.children(e):null}}class c extends i.Component{constructor(...e){super(...e),o(this,"state",{invite:l[this.props.invite_code]||null,loaded:this.props.invite_code in l})}componentDidMount(){const{invite_code:e,relayEnvironment:t,inviteQuery:n}=this.props;(0,a.fetchQuery)(t,n,{invite_code:e}).subscribe({next:e=>{var t;if(null!==(t=e.v3GetInviteCodeQuery)&&void 0!==t&&t.data){const t=e.v3GetInviteCodeQuery;this.setState({invite:t,loaded:!0})}},error:()=>{this.setState({invite:null,loaded:!0})}})}render(){const{invite:e,loaded:t}=this.state;return t?this.props.children(e):null}}},634004:(e,t,n)=>{n.d(t,{Wr:()=>p,Hx:()=>m,RC:()=>h});var i=n(667294),a=n(583592);const r="";var o=n(681468),l=n(133244),s=n(785893);const c=()=>Promise.resolve().then(n.bind(n,681468)),{Provider:d,useHook:u}=(0,a.Z)("IdeaPinVideoPlayer");function p({children:e}){const[t,n]=(0,l.Z)(c,o.initialState),a=(0,i.useMemo)((()=>({dispatch:n,ideaPinVideoPlayerControls:t})),[n,t]);return(0,s.jsx)(d,{value:a,children:e})}function h(){const{dispatch:e}=u();return(0,i.useMemo)((()=>({updateSeekTime:(t,n)=>{e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:n||r}})},clearSeekTime:t=>{e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||r}})},updateSeekingIdeaPin:t=>{e(t?{type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t}}:{type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t,seekTime:void 0}})},updateCurrentTime:t=>{e({type:"UPDATE_CURRENT_TIME",payload:{currentTime:t}})},updateDuration:t=>{e({type:"UPDATE_DURATION",payload:{duration:t}})}})),[e])}function m(){const{ideaPinVideoPlayerControls:e}=u();return e}},681468:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a,initialState:()=>i});const i={seekTime:void 0,seekTimes:{},isSeekingIdeaPin:!1,currentProgressInfo:{currentTime:0,duration:0}};function a(e=i,t){switch(t.type){case"UPDATE_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[t.payload.pinId]:t.payload.seekTime},seekTime:t.payload.seekTime};case"CLEAR_SEEK_TIME":return{...e,seekTimes:{},seekTime:void 0};case"UPDATE_SEEKING_IDEA_PIN":return{...e,isSeekingIdeaPin:t.payload.isSeekingIdeaPin};case"UPDATE_CURRENT_TIME":return{...e,currentProgressInfo:{...e.currentProgressInfo,currentTime:t.payload.currentTime}};case"UPDATE_DURATION":return{...e,currentProgressInfo:{...e.currentProgressInfo,duration:t.payload.duration}};default:return e}}},518521:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(540975);const a=/\{\s*(\w+)\s*\}/g,r=(e,t)=>(0,i.Z)(a,e,t);function o({args:e,format:t}){const n=(e||[]).reduce(((e,t,n)=>({...e,[n]:t.text})),{});return r(t,n)}},637362:(e,t,n)=>{n.d(t,{J:()=>i,Z:()=>a});const i=-1;function a(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},729522:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(540975);const a=/\{\{\s*(\w+)\s*\}\}/g,r=(e,t)=>(0,i.Z)(a,e,t)},686473:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},540975:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t,n)=>t?t.replace(e,((e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:"")):""},493851:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(729522),a=n(686473);const r=(e,t)=>{const n={};return Object.keys(t).forEach((e=>{n[e]=t[e]?(0,a.Z)(t[e].toString()):""})),(0,i.Z)(e,n)}},716793:(e,t,n)=>{function i(e){return e.replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))}n.d(t,{Z:()=>i})},99220:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(667294),a=n(758360),r=n(310561),o=n(282802),l=n(114935),s=n(291986),c=n(583592);const{Provider:d,useMaybeHook:u}=(0,c.Z)("timeSpentContext");var p=n(393729),h=n(525104),m=n(785893);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends i.Component{constructor(e){super(e),_(this,"componentWillUnmount",(()=>{this.unregisterComponent()})),_(this,"getContext",(()=>{const{clientTrackingParams:e,component:t,element:n,objectId:i,timeSpentContext:a,view:r,viewParameter:o}=this.props;return{view:r||a&&a.view,viewParameter:o||a&&a.viewParameter,component:t||a&&a.component,element:n,objectId:i||a&&a.objectId,clientTrackingParams:e||a&&a.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}})),_(this,"getLoggerContext",(()=>{const e={...this.getContext()};return delete e.getParentUuid,e})),_(this,"getParentId",(()=>{const{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){const t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0})),_(this,"getUuid",(()=>this.state.timedPair?this.state.timedPair.uuid:void 0)),_(this,"getTimedPair",(()=>this.state.timedPair)),_(this,"setTimedPair",(e=>this.setState({timedPair:e}))),_(this,"isRegistered",!1),_(this,"registerComponent",(()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0})),_(this,"unregisterComponent",(()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)})),_(this,"handleVisibilityChange",(e=>{const{intersectionRatio:t}=e[0],{bottom:n,left:i,right:a,top:r}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===n&&0===i&&0===a&&0===r?this.unregisterComponent():this.registerComponent())})),this.state={timedPair:new s.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,l.Z)(e.auxData,this.props.auxData)&&(0,l.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){const{children:e}=this.props;return(0,m.jsx)(d,{value:this.getContext(),children:(0,m.jsx)(a.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:i.Children.only(e)})})}}function y(e){var t;const n=(0,r.Hv)(),a=u(),l=(0,p.w)(),s=(0,h.H0)(),{requestIdentifier:c=""}=(0,o.B)(),d={app_instance_id:c.slice(0,8),...null!==(t=e.auxData)&&void 0!==t?t:{}};return(0,i.useEffect)((()=>{null==l||l.setHistoryStackContext(n)}),[n,l]),(0,i.useEffect)((()=>{null==l||l.setPins(null!=s?s:{})}),[s,l]),l?(0,m.jsx)(g,{...e,auxData:d,timeSpentContext:a,timeSpentManager:l,children:e.children}):e.children}y.displayName="TimeSpent";const v=y},393729:(e,t,n)=>{n.d(t,{j:()=>u,w:()=>d});var i=n(388011),a=n(583592),r=n(282802),o=n(549201),l=n(272109),s=n(785893);const{Provider:c,useMaybeHook:d}=(0,a.Z)("TimeSpentManagerContext");function u({children:e,value:t}){const n=(0,i.v)(),a=(0,o.HG)(),{isAuthenticated:d}=(0,r.B)(),u=a&&d;return(0,l.Z)((()=>{document.hasFocus()&&t(n,u).registerApp(),t(n,u).addEventListeners()})),(0,s.jsx)(c,{value:t(n,u),children:e})}},291986:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(172045),a=n(17314);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now();const l=class{constructor(e){r(this,"start",(()=>(this.startTime=o(),this.startTime))),r(this,"end",(()=>(this.endTime=o(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration)));try{this.uuid=(0,i.Z)()}catch(t){this.uuid=(0,a.Z)()}e&&Object.assign(this,e)}}},469093:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(739425);function a(){const e=(0,i.mB)(window.location.search);if("31"===e.utm_source)return"email";if(e.utm_pai)return"paid";const t=document.referrer;return t?t.includes("/t.co/")?"twitter":t.includes("cdn.ampproject.org")?"amp":t.includes("google.")?"google":t.includes("bing.")?"bing":t.includes("facebook.")?"facebook":"other":"direct"}},777849:(e,t,n)=>{n.d(t,{U:()=>r,Z:()=>o});var i=n(883119),a=n(785893);const r=", ";function o(){return(0,a.jsx)(i.xu,{display:"visuallyHidden",children:r})}},938818:(e,t,n)=>{n.d(t,{Qy:()=>c,Wu:()=>u,ZP:()=>d});var i=n(616550),a=n(883119),r=n(282802),o=n(739425),l=n(802071),s=n(785893);const c=()=>{const e=(0,l.Z)(),{isInternalIP:t}=(0,r.B)(),n=(0,i.useLocation)();return(t||e.isAuth&&e.isEmployee)&&Object.keys((0,o.mB)(n.search)).some((e=>e.startsWith("deb_")))};function d({data:e}){return(0,s.jsx)(a.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",children:(0,s.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}const u=e=>(0,s.jsx)(a.xu,{width:236,dangerouslySetInlineStyle:{__style:{marginTop:10}},children:(0,s.jsx)(d,{...e})})},910717:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(785893);function r({ariaHidden:e=!1,color:t="darkGray",size:n}){return(0,a.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,a.jsx)(i.xv,{color:t,inline:!0,size:null!=n?n:"200",children:""})})}},769340:(e,t,n)=>{n.d(t,{Z:()=>s,n:()=>o});var i=n(883119),a=n(667294);var r=n(785893);function o({items:e,itemWidth:t,itemGap:n,numRows:i=1,actionItemType:r}){const[o,l]=function(){const[e,t]=(0,a.useState)(0),n=(0,a.useRef)(null),i=(0,a.useCallback)((()=>{n.current&&t(n.current.clientWidth)}),[n]);return(0,a.useEffect)((()=>(window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)})),[i]),(0,a.useEffect)(i),[e,n]}(),s=Math.floor((o+n)/(t+n))*i||i,c=e.slice(0,s);let d,u=[];switch(r){case"nextFour":s>=e.length?u=[c.pop()]:(c.pop(),u=e.slice(s-1,s+3));break;case"one":d=s>e.length?e[Math.floor(e.length/2)]:c.pop()}return{containerRef:l,itemsToRender:c,actionItem:d,nextFourItems:u}}const l={center:{outer:"center",inner:"center"},left:{outer:"start",inner:"start"},right:{outer:"end",inner:"end"}};function s({children:e,itemGap:t,containerRef:n,numRows:a=1,rowAlignment:o="center"}){const s=l[o];return(0,r.jsx)(i.xu,{ref:n,width:"100%",children:(0,r.jsx)(i.kC,{alignItems:"center",justifyContent:s.outer,children:(0,r.jsx)(i.kC,{justifyContent:s.inner,gap:{row:Math.floor(t/4),column:0},wrap:a>1,children:e})})})}},63262:(e,t,n)=>{n.d(t,{F9:()=>r,Zo:()=>a});var i=n(583592);const{Provider:a,useHook:r}=(0,i.Z)("toastManagerContext")},105314:(e,t,n)=>{n.d(t,{M:()=>o,Q:()=>r});var i=n(667294);const a=(0,i.createContext)(null),r=()=>(0,i.useContext)(a),o=a.Provider},348672:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(105314);const a=()=>{var e;return(null===(e=(0,i.Q)())||void 0===e?void 0:e.showUnauthContextMenu)||(()=>{})}},28630:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(799665);const a=({url:e})=>!(!e||!e.match(/^https{0,1}:\/\//)||(0,i.Z)(e))},769623:(e,t,n)=>{function i(e){const t="--";if((e||"").includes(t)){const n=e.split(t),i=n.pop();return{text:n.join(t),pinId:i}}return{text:"",pinId:e}}n.d(t,{Z:()=>i})},549201:(e,t,n)=>{n.d(t,{HG:()=>u,Kf:()=>o,Mq:()=>a,Wb:()=>d,ZP:()=>p,dA:()=>l,ds:()=>s,ml:()=>c});var i=n(282802);function a(e){const{isMobile:t,isTablet:n}=e.userAgent;return n?"tablet":t?"phone":"desktop"}const r=()=>a((0,i.B)()),o=e=>"phone"===e,l=e=>"tablet"===e,s=e=>"desktop"===e,c=()=>o(r()),d=()=>l(r()),u=()=>s(r()),p=r},133244:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294);function a(e,t){const n=(0,i.useRef)([]),[a,r]=(0,i.useState)(),[o,l]=(0,i.useReducer)(null!=a?a:()=>t,t),s=(0,i.useCallback)((t=>{a?l(t):(n.current.length||e().then((e=>{r((()=>e.default))})),n.current=[...n.current,t])}),[e,a]);return(0,i.useEffect)((()=>{a&&(n.current.forEach(l),n.current=[])}),[a]),[o,s]}},272109:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294);const a=e=>{(0,i.useEffect)(e,[])}},806681:(e,t,n)=>{n.d(t,{Z:()=>o,q:()=>r});var i=n(667294);const a=()=>{const[e,t]=(0,i.useState)(!1),[n,a]=(0,i.useState)(!1),[r,o]=(0,i.useState)(!1);return{active:e,focused:n,hovered:r,onBlur:()=>{a(!1),t(!1)},onFocus:()=>a(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>o(!0),onMouseLeave:()=>{o(!1),t(!1)},onMouseUp:()=>t(!1)}};function r({children:e}){return e(a())}const o=a},464649:(e,t,n)=>{n.d(t,{G:()=>l,Z:()=>s});var i=n(667294),a=n(616550),r=n(785893);const o=(0,i.createContext)(!0);function l({children:e}){const t=(0,a.useLocation)(),[n,l]=(0,i.useState)(!0),s=(0,i.useRef)(t);return(0,i.useEffect)((()=>{s.current!==t&&(s.current=t,l(!1))}),[t]),(0,r.jsx)(o.Provider,{value:n,children:e})}function s(){return(0,i.useContext)(o)}},802071:(e,t,n)=>{n.d(t,{$:()=>a,Z:()=>o});var i=n(583592);const{Provider:a,useHook:r}=(0,i.Z)("viewer"),o=r},83503:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294);const a=new Map;let r=null;const o=e=>{e.forEach((e=>{const t=a.get(e.target);t&&t(e)}))},l=e=>{r.unobserve(e),a.delete(e)},s=(e,t="-64px 0px 0px 0px",n)=>{const i={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};r=r||new window.IntersectionObserver(o,i),a.set(e,n),r.observe(e)},c=e=>a.has(e);function d({onVisibilityChanged:e,inAdsDesktopVideoExperiment:t,trackFullVisible:n,rootMargin:r}){const o=(0,i.useRef)(null);let d=!1;const u=()=>{o.current instanceof HTMLElement&&c(o.current)&&d&&(e(!1),d=!1)},p=(0,i.useCallback)((i=>{o.current instanceof HTMLElement&&s(o.current,i,(i=>{if(!a.has(o.current))return;const r=t?i.intersectionRatio>=.5:i.intersectionRatio>0||i.isIntersecting,l=n?i.intersectionRatio>=1:r,s=n?0===i.intersectionRatio:!l;!d&&l?(t=>{const n=t.intersectionRatio>0||t.isIntersecting;d=n,d&&e(!0)})(i):d&&s&&u()}))}),[o.current]);return(0,i.useEffect)((()=>(p(r),()=>{o.current instanceof HTMLElement&&(u(),l(o.current))})),[p]),o}},782219:(e,t,n)=>{n.d(t,{GW:()=>a,RL:()=>i,s4:()=>r});const i="ios",a="android",r="ipad"},736567:(e,t,n)=>{n.d(t,{Z:()=>r,e:()=>a});var i=n(117651);const a=e=>{if("undefined"==typeof window)return"";let t=0;const n=document.querySelector('[data-test-id="header"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:n}=e.getBoundingClientRect();t+=n}break;case"SearchItem":const n=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}const i=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"},r=e=>{var t,n,a,r,o;return(0,i.Z)((null===(t=e.videos)||void 0===t?void 0:t.duration)||(null===(n=e.videos)||void 0===n||null===(a=n.video_list)||void 0===a||null===(r=a.V_HLSV4)||void 0===r?void 0:r.duration)||(null===(o=e.story_pin_data)||void 0===o?void 0:o.total_video_duration)||0)}},684913:(e,t,n)=>{n.d(t,{Z:()=>i});const i={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},490152:(e,t,n)=>{function i(e,t,n){return Object.keys(e).reduce(((n,i)=>n+Math.abs(e[i]-t[i])),0)<=n}n.d(t,{Z:()=>i})},849886:(e,t,n)=>{function i(e){return e.filter((e=>e.is_stela))}function a(e){return e.filter((e=>!!e.label))}n.d(t,{k:()=>i,m:()=>a})},818748:(e,t,n)=>{function i({x:e,y:t,w:n,h:i}){return[e,t,n,i].every((e=>""!==e&&null!=e&&Number.isFinite(Number(e))))?{x:parseFloat(e),y:parseFloat(t),w:parseFloat(n),h:parseFloat(i)}:{x:0,y:0,w:1,h:1}}n.d(t,{Z:()=>i})},452253:(e,t,n)=>{function i({cropArea:{x:e,y:t,w:n,h:i},scaledWidth:a,scaledHeight:r}){return{x:e/a,y:t/r,w:n/a,h:i/r}}n.d(t,{Z:()=>i})},525010:(e,t,n)=>{function i({cropArea:{x:e=0,y:t=0,w:n=0,h:i=0},scaledWidth:a,scaledHeight:r}){return{h:Math.floor(i*r),w:Math.floor(n*a),x:Math.floor(e*a),y:Math.floor(t*r)}}n.d(t,{Z:()=>i})},351116:(e,t,n)=>{function i({cropArea:{x:e,y:t,w:n,h:i},cropSource:a,searchQuery:r,entry:o,entrySource:l,title:s,trafficSource:c,imageSignature:d}){const u=[];e>=0&&t>=0&&n>=0&&i>=0&&u.push(`x=${e}`,`y=${t}`,`w=${n}`,`h=${i}`),a&&u.push(`cropSource=${a}`),l&&u.push(`entrySource=${l}`),r&&u.push(`q=${r}`),s&&u.push(`full_feed_title=${encodeURIComponent(s)}`),d&&u.push(`imageSignature=${d}`),c&&"unknown"!==c&&u.push(`rs=${c}`),o&&"shop"===o&&u.push(`entry=${o}`);return u.length?`?${u.join("&")}`:""}n.d(t,{Z:()=>i})},732719:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(351116);function a({cropArea:e,cropSource:t,entry:n,entrySource:a,isProductOnlyFeed:r,isUnified:o,imageSignature:l,pinId:s,searchQuery:c,title:d,trafficSource:u,view:p}){return`/pin/${s}/${o?"related-products":"visual-search"}/${o||"products"!==p?"":"products/"}${r?"all/":""}${(0,i.Z)({cropArea:e,cropSource:t,entry:n,entrySource:a,title:d,trafficSource:u,searchQuery:c,imageSignature:l})}`}},850865:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(282802),a=n(819079),r=n(802071);function o(){var e;const t=(0,i.B)(),n=(0,r.Z)(),{advertiser:o}=t,l=(0,a.Z)(null!=o&&o.merchant_id?null:{name:"UserResource",options:{user_id:o?o.owner_user_id:n.isAuth&&n.id,field_set_key:"merchant_summary"}});return{merchantId:(null==o?void 0:o.merchant_id)||(null===(e=l.data)||void 0===e?void 0:e.ppa_merchant_id)||"",advertiserId:(null==o?void 0:o.id)||"",ownerUserId:(null==o?void 0:o.owner_user_id)||(n.isAuth?n.id:""),advertiser:o}}},705837:(e,t,n)=>{n.d(t,{AC:()=>p,AV:()=>r,Bm:()=>u,E2:()=>d,HS:()=>l,cb:()=>i,mX:()=>c,rf:()=>a,yo:()=>o,zv:()=>s});const i=150,a=175,r=300,o=700,l=4e3,s=6e3,c={DESC:"desc",ASC:"asc"},d={SHOPIFY:"SHOPIFY",WOOCOMMERCE:"WOOCOMMERCE"},u=32,p=10},478138:(e,t,n)=>{n.d(t,{C:()=>a,O:()=>i});const i=()=>["2","100","101","102","103","129","138","139","140","143","150","152","155","9051"],a=()=>["108","114","115","116","117","118","119","121","124","125","126","127","129","130","131","132","133","134","136","137","144","145","146","147","148","149","153","154","155","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","174","175","176","179","180","181","182","183","184","185","186","188","189","191","192","4029","4043","4055"]},637110:(e,t,n)=>{n.d(t,{GN:()=>_,Ju:()=>c,lW:()=>h,nl:()=>s,p8:()=>d,so:()=>m});var i=n(667294),a=n(965533),r=n(739425),o=n(705837),l=n(395487);const s=({advertiser:e,history:t,location:n})=>{const i=e&&e.id,o=e&&e.actions,l=(0,r.mB)(n.search),s=l.advertiserId;if(n){const e=!i||o&&o.includes(68);if(!i&&s||!e)return(0,a.Z)(`${n.pathname}`),!0;if(i&&i!==s)return t.replace({pathname:n.pathname,search:`?${(0,r.XP)({...l,advertiserId:i})}`}),!0}return!1};function c(e,t=[]){const n=e=>"function"==typeof e?e():null!=e?e:0;return[...Object.entries(e)].sort((([e,i],[a,r])=>(-1!==(null!=t?t:[]).indexOf(e)?t.indexOf(e):n(i.order))-(-1!==(null!=t?t:[]).indexOf(a)?t.indexOf(a):n(r.order)))).map((([e,t])=>[e,t]))}function d(e,t,n){const i=e=>null==e,a=(e,t,n)=>Number.isNaN(e)&&Number.isNaN(t)?0:Number.isNaN(e)?1:Number.isNaN(t)?-1:n;return(r,l)=>{for(const d of Object.keys(e)){const{value:u,propertyName:p,type:h,isSortable:m,propertyPath:_}=e[d];if(m&&(p||_)&&t===u){var s,c;const e=(null!==(s=null!=p?p:_)&&void 0!==s?s:"").split(".").reduce(((e,t)=>null==e?void 0:e[t]),r),t=(null!==(c=null!=p?p:_)&&void 0!==c?c:"").split(".").reduce(((e,t)=>null==e?void 0:e[t]),l);if(i(e)&&i(t))return 0;if(i(e))return 1;if(i(t))return-1;if(h===Number){const i=Number(e),r=Number(t);return a(i,r,n===o.mX.ASC?i-r:r-i)}if(h===Date){const i=new Date(e),r=new Date(t);return a(i.getTime(),r.getTime(),n===o.mX.ASC?i-r:r-i)}if(h===String||!h){const i=String(e),a=String(t);return n===o.mX.ASC?i.localeCompare(a):a.localeCompare(i)}}}return null}}function u(e){const t=function(e){const{type:t}=(0,i.createElement)(e);return t}(e);return e=>t===e.type}function p(e){return i.Children.toArray(e).flatMap((e=>u(i.Fragment)(e)?p(e.props.children):e))}function h(e,t){var n;return null!==(n=p(e).find(u(t)))&&void 0!==n?n:null}function m(e,t){return p(e).filter(u(t))}const _=(e,t,n)=>{if(n===l.Be[Number(t)]){if(1===Number(t))return e._('All Products', 'catalogs.productGroup.name.allProducts', 'Product group name All Products');if(2===Number(t))return e._('Best Deals', 'catalogs.productGroup.name.bestDeals', 'Product group name Best Deals');if(3===Number(t))return e._('Most Popular', 'catalogs.productGroup.name.mostPopular', 'Product group name Most Popular');if(4===Number(t))return e._('Top Sellers', 'catalogs.productGroup.name.topSellers', 'Product group name Top Sellers');if(5===Number(t))return e._('Back In Stock', 'catalogs.productGroup.name.inStock', 'Product group name In Stock');if(6===Number(t))return e._('New Arrivals', 'catalogs.productGroup.name.newArrivals', 'Product group name New Arrivals')}return n}},548672:(e,t,n)=>{n.d(t,{$E:()=>i,AG:()=>f,EF:()=>p,F4:()=>_,HB:()=>b,Hm:()=>u,N7:()=>r,OF:()=>c,Qv:()=>d,RS:()=>g,TL:()=>h,Wd:()=>s,Wg:()=>w,gp:()=>v,n6:()=>m,pg:()=>a,qN:()=>o,ul:()=>y,v6:()=>x,yn:()=>l});const i=[1,3],a={1:5,2:8,3:24,4:24},r={inStockCount:"inStockProductCount",outOfStockCount:"outOfStockProductCount",preorderCount:"preorderProductCount"},o={PROCESSING:"PROCESSING",FAILED:"FAILED",COMPLETED:"COMPLETED",COMPLETED_EARLY:"COMPLETED_EARLY",UNDER_REVIEW:"UNDER_REVIEW",DISAPPROVED:"DISAPPROVED",QUEUED_FOR_PROCESSING:"QUEUED_FOR_PROCESSING",UNDER_APPEAL:"UNDER_APPEAL"},l={PENDING:"PENDING",ACTIVE:"ACTIVE",PAUSED:"PAUSED",DISABLED:"DISABLED",INACTIVE:"INACTIVE"},s={APPROVED:"approved",PENDING:"pending",DECLINED:"declined",REVOKED:"revoked",STAGING:"staging",PROD_TEST:"prod_test",APPEAL_PENDING:"appeal_pending"},c={MARKETPLACE:"MARKETPLACE",MARKETPLACE_SECOND_HAND:"MARKETPLACE_SECOND_HAND",MARKETPLACE_AFFILIATES:"MARKETPLACE_AFFILIATES",MARKETPLACE_WHOLESALE:"MARKETPLACE_WHOLESALE",PROHIBITED_PRODUCTS:"PROHIBITED_PRODUCTS",SERVICES:"SERVICES",DOMAIN_AGE:"DOMAIN_AGE",DOMAIN_MISMATCH:"DOMAIN_MISMATCH",SHIPPING:"SHIPPING",RETURNS:"RETURNS",BROKEN_URL:"BROKEN_URL",BROKEN_404:"BROKEN_404",BROKEN_REGISTRATION:"BROKEN_REGISTRATION",INCOMPLETE:"INCOMPLETE",AUTHENTICITY:"AUTHENTICITY",IN_STOCK:"IN_STOCK",BANNER_ADS:"BANNER_ADS",LOW_QUALITY_IMAGERY:"LOW_QUALITY_IMAGERY",SALE:"SALE",OUT_OF_DATE:"OUT_OF_DATE",PRODUCTS:"PRODUCTS",POP_UP:"POP_UP",MINIMUM_WEBSITE_QUALITY:"MINIMUM_WEBSITE_QUALITY",BROKEN_SOCIAL_MEDIA:"BROKEN_SOCIAL_MEDIA",INACTIVE_FEED:"INACTIVE_FEED",TERMINATED:"TERMINATED",LABELING:"LABELING",TS:"TS",ADS_QUALITY:"ADS_QUALITY",PINNER:"PINNER",SHOPPING:"SHOPPING",MERCHANT:"MERCHANT",HUMAN_REVIEW_CONFIRMED_PINNER_REPORTS_HIGH:"HUMAN_REVIEW_CONFIRMED_PINNER_REPORTS_HIGH",HUMAN_REVIEW_CONFIRMED_PINNER_REPORTS_MED:"HUMAN_REVIEW_CONFIRMED_PINNER_REPORTS_MED",HUMAN_REVIEW_COPYRIGHT_DMCA_STRIKES_HIGH:"HUMAN_REVIEW_COPYRIGHT_DMCA_STRIKES_HIGH",HUMAN_REVIEW_COPYRIGHT_DMCA_STRIKES_MED:"HUMAN_REVIEW_COPYRIGHT_DMCA_STRIKES_MED",RESALE_MARKETPLACE:"RESALE_MARKETPLACE",AFFILIATE_MARKETPLACE:"AFFILIATE_MARKETPLACE",WEBSITE_REQUIREMENTS:"WEBSITE_REQUIREMENTS",PRODUCT_REQUIREMENTS:"PRODUCT_REQUIREMENTS",BRAND_REPUTATION:"BRAND_REPUTATION"},d=[c.TS,c.ADS_QUALITY,c.PINNER,c.SHOPPING,c.MERCHANT],u={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE",NEW_NOT_YET_ACTIVE:"NEW_NOT_YET_ACTIVE",TESTING:"TESTING"},p=[o.PROCESSING,o.QUEUED_FOR_PROCESSING],h={DISMISS_INGESTION_STATUS_POPUP:1,DATA_SOURCE_PENDING_GOT_IT_DISMISSED:2,DATA_SOURCE_VERIFIED_GOT_IT_DISMISSED:3,PRODUCT_GROUPS_CREATE_GOT_IT_DISMISSED:4,PRODUCT_GROUPS_PROMOTE_GOT_IT_DISMISSED:5,ADD_DATA_SOURCE_GOT_IT_DISMISSED:6,FEED_PROFILES_NEW_BADGE_SEEN:7,PRODUCT_GROUPS_SELECTED_METRICS:8,SHOPIFY_COLLECTION_MODAL_GOT_IT_DISMISSED:9,SHOPIFY_COLLECTION_CALLOUT_GOT_IT_DISMISSED:10,PRODUCT_GROUPS_NEW_BADGE_SEEN:11,PRODUCT_GROUPS_METRICS_SELECTED_NUM_OF_DAYS:12,I2PC_MODAL_GOT_IT_DISMISSED:13},m={PENDING:0,SUCCESS:1,UNKNOWN_FAILURE:2,BAD_URL_OR_CREDENTIAL:3,UNSUPPORTED_PROTOCOL:4,BAD_FEED_FORMAT:5,EMPTY_FEED_PROFILE:6,HTML:7,MISSING_REQUIRED_HEADERS:8},_="USD",g="None",y={IN_STOCK:"IN STOCK",OUT_OF_STOCK:"OUT OF STOCK",PREORDER:"PREORDER"},v=e=>[{value:"AED",label:e._('AED - United Arab Emirates Dirham', '[catalogs] name of AED currency', '[catalogs] name of AED currency')},{value:"AFN",label:e._('AFN - Afghanistan Afghani', '[catalogs] name of AFN currency', '[catalogs] name of AFN currency')},{value:"ALL",label:e._('ALL - Albania Lek', '[catalogs] name of ALL currency', '[catalogs] name of ALL currency')},{value:"AMD",label:e._('AMD - Armenia Dram', '[catalogs] name of AMD currency', '[catalogs] name of AMD currency')},{value:"ANG",label:e._('ANG - Netherlands Antilles Guilder', '[catalogs] name of ANG currency', '[catalogs] name of ANG currency')},{value:"AOA",label:e._('AOA - Angola Kwanza', '[catalogs] name of AOA currency', '[catalogs] name of AOA currency')},{value:"ARS",label:e._('ARS - Argentina Peso', '[catalogs] name of ARS currency', '[catalogs] name of ARS currency')},{value:"AUD",label:e._('AUD - Australia Dollar', '[catalogs] name of AUD currency', '[catalogs] name of AUD currency')},{value:"AWG",label:e._('AWG - Aruba Guilder', '[catalogs] name of AWG currency', '[catalogs] name of AWG currency')},{value:"AZN",label:e._('AZN - Azerbaijan New Manat', '[catalogs] name of AZN currency', '[catalogs] name of AZN currency')},{value:"BAM",label:e._('BAM - Bosnia and Herzegovina Convertible Marka', '[catalogs] name of BAM currency', '[catalogs] name of BAM currency')},{value:"BBD",label:e._('BBD - Barbados Dollar', '[catalogs] name of BBD currency', '[catalogs] name of BBD currency')},{value:"BDT",label:e._('BDT - Bangladesh Taka', '[catalogs] name of BDT currency', '[catalogs] name of BDT currency')},{value:"BGN",label:e._('BGN - Bulgaria Lev', '[catalogs] name of BGN currency', '[catalogs] name of BGN currency')},{value:"BHD",label:e._('BHD - Bahrain Dinar', '[catalogs] name of BHD currency', '[catalogs] name of BHD currency')},{value:"BIF",label:e._('BIF - Burundi Franc', '[catalogs] name of BIF currency', '[catalogs] name of BIF currency')},{value:"BMD",label:e._('BMD - Bermuda Dollar', '[catalogs] name of BMD currency', '[catalogs] name of BMD currency')},{value:"BND",label:e._('BND - Brunei Darussalam Dollar', '[catalogs] name of BND currency', '[catalogs] name of BND currency')},{value:"BOB",label:e._('BOB - Bolivia Boliviano', '[catalogs] name of BOB currency', '[catalogs] name of BOB currency')},{value:"BRL",label:e._('BRL - Brazil Real', '[catalogs] name of BRL currency', '[catalogs] name of BRL currency')},{value:"BSD",label:e._('BSD - Bahamas Dollar', '[catalogs] name of BSD currency', '[catalogs] name of BSD currency')},{value:"BTN",label:e._('BTN - Bhutan Ngultrum', '[catalogs] name of BTN currency', '[catalogs] name of BTN currency')},{value:"BWP",label:e._('BWP - Botswana Pula', '[catalogs] name of BWP currency', '[catalogs] name of BWP currency')},{value:"BYR",label:e._('BYR - Belarus Ruble', '[catalogs] name of BYR currency', '[catalogs] name of BYR currency')},{value:"BZD",label:e._('BZD - Belize Dollar', '[catalogs] name of BZD currency', '[catalogs] name of BZD currency')},{value:"CAD",label:e._('CAD - Canada Dollar', '[catalogs] name of CAD currency', '[catalogs] name of CAD currency')},{value:"CDF",label:e._('CDF - Congo/Kinshasa Franc', '[catalogs] name of CDF currency', '[catalogs] name of CDF currency')},{value:"CHF",label:e._('CHF - Switzerland Franc', '[catalogs] name of CHF currency', '[catalogs] name of CHF currency')},{value:"CLP",label:e._('CLP - Chile Peso', '[catalogs] name of CLP currency', '[catalogs] name of CLP currency')},{value:"CNY",label:e._('CNY - China Yuan Renminbi', '[catalogs] name of CNY currency', '[catalogs] name of CNY currency')},{value:"COP",label:e._('COP - Colombia Peso', '[catalogs] name of COP currency', '[catalogs] name of COP currency')},{value:"CRC",label:e._('CRC - Costa Rica Colon', '[catalogs] name of CRC currency', '[catalogs] name of CRC currency')},{value:"CUC",label:e._('CUC - Cuba Convertible Peso', '[catalogs] name of CUC currency', '[catalogs] name of CUC currency')},{value:"CUP",label:e._('CUP - Cuba Peso', '[catalogs] name of CUP currency', '[catalogs] name of CUP currency')},{value:"CVE",label:e._('CVE - Cape Verde Escudo', '[catalogs] name of CVE currency', '[catalogs] name of CVE currency')},{value:"CZK",label:e._('CZK - Czech Republic Koruna', '[catalogs] name of CZK currency', '[catalogs] name of CZK currency')},{value:"DJF",label:e._('DJF - Djibouti Franc', '[catalogs] name of DJF currency', '[catalogs] name of DJF currency')},{value:"DKK",label:e._('DKK - Denmark Krone', '[catalogs] name of DKK currency', '[catalogs] name of DKK currency')},{value:"DOP",label:e._('DOP - Dominican Republic Peso', '[catalogs] name of DOP currency', '[catalogs] name of DOP currency')},{value:"DZD",label:e._('DZD - Algeria Dinar', '[catalogs] name of DZD currency', '[catalogs] name of DZD currency')},{value:"EGP",label:e._('EGP - Egypt Pound', '[catalogs] name of EGP currency', '[catalogs] name of EGP currency')},{value:"ERN",label:e._('ERN - Eritrea Nakfa', '[catalogs] name of ERN currency', '[catalogs] name of ERN currency')},{value:"ETB",label:e._('ETB - Ethiopia Birr', '[catalogs] name of ETB currency', '[catalogs] name of ETB currency')},{value:"EUR",label:e._('EUR - Euro Member Countries', '[catalogs] name of EUR currency', '[catalogs] name of EUR currency')},{value:"FJD",label:e._('FJD - Fiji Dollar', '[catalogs] name of FJD currency', '[catalogs] name of FJD currency')},{value:"FKP",label:e._('FKP - Falkland Islands (Malvinas) Pound', '[catalogs] name of FKP currency', '[catalogs] name of FKP currency')},{value:"GBP",label:e._('GBP - United Kingdom Pound', '[catalogs] name of GBP currency', '[catalogs] name of GBP currency')},{value:"GEL",label:e._('GEL - Georgia Lari', '[catalogs] name of GEL currency', '[catalogs] name of GEL currency')},{value:"GGP",label:e._('GGP - Guernsey Pound', '[catalogs] name of GGP currency', '[catalogs] name of GGP currency')},{value:"GHS",label:e._('GHS - Ghana Cedi', '[catalogs] name of GHS currency', '[catalogs] name of GHS currency')},{value:"GIP",label:e._('GIP - Gibraltar Pound', '[catalogs] name of GIP currency', '[catalogs] name of GIP currency')},{value:"GMD",label:e._('GMD - Gambia Dalasi', '[catalogs] name of GMD currency', '[catalogs] name of GMD currency')},{value:"GNF",label:e._('GNF - Guinea Franc', '[catalogs] name of GNF currency', '[catalogs] name of GNF currency')},{value:"GTQ",label:e._('GTQ - Guatemala Quetzal', '[catalogs] name of GTQ currency', '[catalogs] name of GTQ currency')},{value:"GYD",label:e._('GYD - Guyana Dollar', '[catalogs] name of GYD currency', '[catalogs] name of GYD currency')},{value:"HKD",label:e._('HKD - Hong Kong Dollar', '[catalogs] name of HKD currency', '[catalogs] name of HKD currency')},{value:"HNL",label:e._('HNL - Honduras Lempira', '[catalogs] name of HNL currency', '[catalogs] name of HNL currency')},{value:"HRK",label:e._('HRK - Croatia Kuna', '[catalogs] name of HRK currency', '[catalogs] name of HRK currency')},{value:"HTG",label:e._('HTG - Haiti Gourde', '[catalogs] name of HTG currency', '[catalogs] name of HTG currency')},{value:"HUF",label:e._('HUF - Hungary Forint', '[catalogs] name of HUF currency', '[catalogs] name of HUF currency')},{value:"IDR",label:e._('IDR - Indonesia Rupiah', '[catalogs] name of IDR currency', '[catalogs] name of IDR currency')},{value:"ILS",label:e._('ILS - Israel Shekel', '[catalogs] name of ILS currency', '[catalogs] name of ILS currency')},{value:"IMP",label:e._('IMP - Isle of Man Pound', '[catalogs] name of IMP currency', '[catalogs] name of IMP currency')},{value:"INR",label:e._('INR - India Rupee', '[catalogs] name of INR currency', '[catalogs] name of INR currency')},{value:"IQD",label:e._('IQD - Iraq Dinar', '[catalogs] name of IQD currency', '[catalogs] name of IQD currency')},{value:"IRR",label:e._('IRR - Iran Rial', '[catalogs] name of IRR currency', '[catalogs] name of IRR currency')},{value:"ISK",label:e._('ISK - Iceland Krona', '[catalogs] name of ISK currency', '[catalogs] name of ISK currency')},{value:"JEP",label:e._('JEP - Jersey Pound', '[catalogs] name of JEP currency', '[catalogs] name of JEP currency')},{value:"JMD",label:e._('JMD - Jamaica Dollar', '[catalogs] name of JMD currency', '[catalogs] name of JMD currency')},{value:"JOD",label:e._('JOD - Jordan Dinar', '[catalogs] name of JOD currency', '[catalogs] name of JOD currency')},{value:"JPY",label:e._('JPY - Japan Yen', '[catalogs] name of JPY currency', '[catalogs] name of JPY currency')},{value:"KES",label:e._('KES - Kenya Shilling', '[catalogs] name of KES currency', '[catalogs] name of KES currency')},{value:"KGS",label:e._('KGS - Kyrgyzstan Som', '[catalogs] name of KGS currency', '[catalogs] name of KGS currency')},{value:"KHR",label:e._('KHR - Cambodia Riel', '[catalogs] name of KHR currency', '[catalogs] name of KHR currency')},{value:"KMF",label:e._('KMF - Comoros Franc', '[catalogs] name of KMF currency', '[catalogs] name of KMF currency')},{value:"KPW",label:e._('KPW - Korea (North) Won', '[catalogs] name of KPW currency', '[catalogs] name of KPW currency')},{value:"KRW",label:e._('KRW - Korea (South) Won', '[catalogs] name of KRW currency', '[catalogs] name of KRW currency')},{value:"KWD",label:e._('KWD - Kuwait Dinar', '[catalogs] name of KWD currency', '[catalogs] name of KWD currency')},{value:"KYD",label:e._('KYD - Cayman Islands Dollar', '[catalogs] name of KYD currency', '[catalogs] name of KYD currency')},{value:"KZT",label:e._('KZT - Kazakhstan Tenge', '[catalogs] name of KZT currency', '[catalogs] name of KZT currency')},{value:"LAK",label:e._('LAK - Laos Kip', '[catalogs] name of LAK currency', '[catalogs] name of LAK currency')},{value:"LBP",label:e._('LBP - Lebanon Pound', '[catalogs] name of LBP currency', '[catalogs] name of LBP currency')},{value:"LKR",label:e._('LKR - Sri Lanka Rupee', '[catalogs] name of LKR currency', '[catalogs] name of LKR currency')},{value:"LRD",label:e._('LRD - Liberia Dollar', '[catalogs] name of LRD currency', '[catalogs] name of LRD currency')},{value:"LSL",label:e._('LSL - Lesotho Loti', '[catalogs] name of LSL currency', '[catalogs] name of LSL currency')},{value:"LYD",label:e._('LYD - Libya Dinar', '[catalogs] name of LYD currency', '[catalogs] name of LYD currency')},{value:"MAD",label:e._('MAD - Morocco Dirham', '[catalogs] name of MAD currency', '[catalogs] name of MAD currency')},{value:"MDL",label:e._('MDL - Moldova Leu', '[catalogs] name of MDL currency', '[catalogs] name of MDL currency')},{value:"MGA",label:e._('MGA - Madagascar Ariary', '[catalogs] name of MGA currency', '[catalogs] name of MGA currency')},{value:"MKD",label:e._('MKD - Macedonia Denar', '[catalogs] name of MKD currency', '[catalogs] name of MKD currency')},{value:"MMK",label:e._('MMK - Myanmar (Burma) Kyat', '[catalogs] name of MMK currency', '[catalogs] name of MMK currency')},{value:"MNT",label:e._('MNT - Mongolia Tughrik', '[catalogs] name of MNT currency', '[catalogs] name of MNT currency')},{value:"MOP",label:e._('MOP - Macau Pataca', '[catalogs] name of MOP currency', '[catalogs] name of MOP currency')},{value:"MRO",label:e._('MRO - Mauritania Ouguiya', '[catalogs] name of MRO currency', '[catalogs] name of MRO currency')},{value:"MUR",label:e._('MUR - Mauritius Rupee', '[catalogs] name of MUR currency', '[catalogs] name of MUR currency')},{value:"MVR",label:e._('MVR - Maldives (Maldive Islands) Rufiyaa', '[catalogs] name of MVR currency', '[catalogs] name of MVR currency')},{value:"MWK",label:e._('MWK - Malawi Kwacha', '[catalogs] name of MWK currency', '[catalogs] name of MWK currency')},{value:"MXN",label:e._('MXN - Mexico Peso', '[catalogs] name of MXN currency', '[catalogs] name of MXN currency')},{value:"MYR",label:e._('MYR - Malaysia Ringgit', '[catalogs] name of MYR currency', '[catalogs] name of MYR currency')},{value:"MZN",label:e._('MZN - Mozambique Metical', '[catalogs] name of MZN currency', '[catalogs] name of MZN currency')},{value:"NAD",label:e._('NAD - Namibia Dollar', '[catalogs] name of NAD currency', '[catalogs] name of NAD currency')},{value:"NGN",label:e._('NGN - Nigeria Naira', '[catalogs] name of NGN currency', '[catalogs] name of NGN currency')},{value:"NIO",label:e._('NIO - Nicaragua Cordoba', '[catalogs] name of NIO currency', '[catalogs] name of NIO currency')},{value:"NOK",label:e._('NOK - Norway Krone', '[catalogs] name of NOK currency', '[catalogs] name of NOK currency')},{value:"NPR",label:e._('NPR - Nepal Rupee', '[catalogs] name of NPR currency', '[catalogs] name of NPR currency')},{value:"NZD",label:e._('NZD - New Zealand Dollar', '[catalogs] name of NZD currency', '[catalogs] name of NZD currency')},{value:"OMR",label:e._('OMR - Oman Rial', '[catalogs] name of OMR currency', '[catalogs] name of OMR currency')},{value:"PAB",label:e._('PAB - Panama Balboa', '[catalogs] name of PAB currency', '[catalogs] name of PAB currency')},{value:"PEN",label:e._('PEN - Peru Nuevo Sol', '[catalogs] name of PEN currency', '[catalogs] name of PEN currency')},{value:"PGK",label:e._('PGK - Papua New Guinea Kina', '[catalogs] name of PGK currency', '[catalogs] name of PGK currency')},{value:"PHP",label:e._('PHP - Philippines Peso', '[catalogs] name of PHP currency', '[catalogs] name of PHP currency')},{value:"PKR",label:e._('PKR - Pakistan Rupee', '[catalogs] name of PKR currency', '[catalogs] name of PKR currency')},{value:"PLN",label:e._('PLN - Poland Zloty', '[catalogs] name of PLN currency', '[catalogs] name of PLN currency')},{value:"PYG",label:e._('PYG - Paraguay Guarani', '[catalogs] name of PYG currency', '[catalogs] name of PYG currency')},{value:"QAR",label:e._('QAR - Qatar Riyal', '[catalogs] name of QAR currency', '[catalogs] name of QAR currency')},{value:"RON",label:e._('RON - Romania New Leu', '[catalogs] name of RON currency', '[catalogs] name of RON currency')},{value:"RSD",label:e._('RSD - Serbia Dinar', '[catalogs] name of RSD currency', '[catalogs] name of RSD currency')},{value:"RUB",label:e._('RUB - Russia Ruble', '[catalogs] name of RUB currency', '[catalogs] name of RUB currency')},{value:"RWF",label:e._('RWF - Rwanda Franc', '[catalogs] name of RWF currency', '[catalogs] name of RWF currency')},{value:"SAR",label:e._('SAR - Saudi Arabia Riyal', '[catalogs] name of SAR currency', '[catalogs] name of SAR currency')},{value:"SBD",label:e._('SBD - Solomon Islands Dollar', '[catalogs] name of SBD currency', '[catalogs] name of SBD currency')},{value:"SCR",label:e._('SCR - Seychelles Rupee', '[catalogs] name of SCR currency', '[catalogs] name of SCR currency')},{value:"SDG",label:e._('SDG - Sudan Pound', '[catalogs] name of SDG currency', '[catalogs] name of SDG currency')},{value:"SEK",label:e._('SEK - Sweden Krona', '[catalogs] name of SEK currency', '[catalogs] name of SEK currency')},{value:"SGD",label:e._('SGD - Singapore Dollar', '[catalogs] name of SGD currency', '[catalogs] name of SGD currency')},{value:"SHP",label:e._('SHP - Saint Helena Pound', '[catalogs] name of SHP currency', '[catalogs] name of SHP currency')},{value:"SLL",label:e._('SLL - Sierra Leone Leone', '[catalogs] name of SLL currency', '[catalogs] name of SLL currency')},{value:"SOS",label:e._('SOS - Somalia Shilling', '[catalogs] name of SOS currency', '[catalogs] name of SOS currency')},{value:"SPL",label:e._('SPL - Seborga Luigino', '[catalogs] name of SPL currency', '[catalogs] name of SPL currency')},{value:"SRD",label:e._('SRD - Suriname Dollar', '[catalogs] name of SRD currency', '[catalogs] name of SRD currency')},{value:"STD",label:e._('STD - So Tom and Prncipe Dobra', '[catalogs] name of STD currency', '[catalogs] name of STD currency')},{value:"SVC",label:e._('SVC - El Salvador Colon', '[catalogs] name of SVC currency', '[catalogs] name of SVC currency')},{value:"SYP",label:e._('SYP - Syria Pound', '[catalogs] name of SYP currency', '[catalogs] name of SYP currency')},{value:"SZL",label:e._('SZL - Swaziland Lilangeni', '[catalogs] name of SZL currency', '[catalogs] name of SZL currency')},{value:"THB",label:e._('THB - Thailand Baht', '[catalogs] name of THB currency', '[catalogs] name of THB currency')},{value:"TJS",label:e._('TJS - Tajikistan Somoni', '[catalogs] name of TJS currency', '[catalogs] name of TJS currency')},{value:"TMT",label:e._('TMT - Turkmenistan Manat', '[catalogs] name of TMT currency', '[catalogs] name of TMT currency')},{value:"TND",label:e._('TND - Tunisia Dinar', '[catalogs] name of TND currency', '[catalogs] name of TND currency')},{value:"TOP",label:e._('TOP - Tonga Pa\'anga', '[catalogs] name of TOP currency', '[catalogs] name of TOP currency')},{value:"TRY",label:e._('TRY - Turkey Lira', '[catalogs] name of TRY currency', '[catalogs] name of TRY currency')},{value:"TTD",label:e._('TTD - Trinidad and Tobago Dollar', '[catalogs] name of TTD currency', '[catalogs] name of TTD currency')},{value:"TVD",label:e._('TVD - Tuvalu Dollar', '[catalogs] name of TVD currency', '[catalogs] name of TVD currency')},{value:"TWD",label:e._('TWD - Taiwan New Dollar', '[catalogs] name of TWD currency', '[catalogs] name of TWD currency')},{value:"TZS",label:e._('TZS - Tanzania Shilling', '[catalogs] name of TZS currency', '[catalogs] name of TZS currency')},{value:"UAH",label:e._('UAH - Ukraine Hryvnia', '[catalogs] name of UAH currency', '[catalogs] name of UAH currency')},{value:"UGX",label:e._('UGX - Uganda Shilling', '[catalogs] name of UGX currency', '[catalogs] name of UGX currency')},{value:"USD",label:e._('USD - United States Dollar', '[catalogs] name of USD currency', '[catalogs] name of USD currency')},{value:"UYU",label:e._('UYU - Uruguay Peso', '[catalogs] name of UYU currency', '[catalogs] name of UYU currency')},{value:"UZS",label:e._('UZS - Uzbekistan Som', '[catalogs] name of UZS currency', '[catalogs] name of UZS currency')},{value:"VEF",label:e._('VEF - Venezuela Bolivar', '[catalogs] name of VEF currency', '[catalogs] name of VEF currency')},{value:"VND",label:e._('VND - Viet Nam Dong', '[catalogs] name of VND currency', '[catalogs] name of VND currency')},{value:"VUV",label:e._('VUV - Vanuatu Vatu', '[catalogs] name of VUV currency', '[catalogs] name of VUV currency')},{value:"WST",label:e._('WST - Samoa Tala', '[catalogs] name of WST currency', '[catalogs] name of WST currency')},{value:"XAF",label:e._('XAF - Communaut Financire Africaine (BEAC) CFA Franc BEAC', '[catalogs] name of XAF currency', '[catalogs] name of XAF currency')},{value:"XCD",label:e._('XCD - East Caribbean Dollar', '[catalogs] name of XCD currency', '[catalogs] name of XCD currency')},{value:"XDR",label:e._('XDR - International Monetary Fund (IMF) Special Drawing Rights', '[catalogs] name of XDR currency', '[catalogs] name of XDR currency')},{value:"XOF",label:e._('XOF - Communaut Financire Africaine (BCEAO) Franc', '[catalogs] name of XOF currency', '[catalogs] name of XOF currency')},{value:"XPF",label:e._('XPF - Comptoirs Franais du Pacifique (CFP) Franc', '[catalogs] name of XPF currency', '[catalogs] name of XPF currency')},{value:"YER",label:e._('YER - Yemen Rial', '[catalogs] name of YER currency', '[catalogs] name of YER currency')},{value:"ZAR",label:e._('ZAR - South Africa Rand', '[catalogs] name of ZAR currency', '[catalogs] name of ZAR currency')},{value:"ZMW",label:e._('ZMW - Zambia Kwacha', '[catalogs] name of ZMW currency', '[catalogs] name of ZMW currency')},{value:"ZWD",label:e._('ZWD - Zimbabwe Dollar', '[catalogs] name of ZWD currency', '[catalogs] name of ZWD currency')}],f=["Africa/Abidjan","Africa/Accra","Africa/Algiers","Africa/Bissau","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/El_Aaiun","Africa/Johannesburg","Africa/Juba","Africa/Khartoum","Africa/Lagos","Africa/Maputo","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Sao_Tome","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Adak","America/Anchorage","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Asuncion","America/Atikokan","America/Bahia","America/Bahia_Banderas","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Cayenne","America/Chicago","America/Chihuahua","America/Costa_Rica","America/Creston","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Fort_Nelson","America/Fortaleza","America/Glace_Bay","America/Goose_Bay","America/Grand_Turk","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Inuvik","America/Iqaluit","America/Jamaica","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/La_Paz","America/Lima","America/Los_Angeles","America/Maceio","America/Managua","America/Manaus","America/Martinique","America/Matamoros","America/Mazatlan","America/Menominee","America/Merida","America/Metlakatla","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Nuuk","America/Ojinaga","America/Panama","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Punta_Arenas","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Sitka","America/St_Johns","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Tijuana","America/Toronto","America/Vancouver","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Atyrau","Asia/Baghdad","Asia/Baku","Asia/Bangkok","Asia/Barnaul","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Chita","Asia/Choibalsan","Asia/Colombo","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Famagusta","Asia/Gaza","Asia/Hebron","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kathmandu","Asia/Khandyga","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qostanay","Asia/Qyzylorda","Asia/Riyadh","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Thimphu","Asia/Tokyo","Asia/Tomsk","Asia/Ulaanbaatar","Asia/Urumqi","Asia/Ust-Nera","Asia/Vladivostok","Asia/Yakutsk","Asia/Yangon","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faroe","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/Stanley","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Currie","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/Lindeman","Australia/Lord_Howe","Australia/Melbourne","Australia/Perth","Australia/Sydney","CET","CST6CDT","EET","EST","EST5EDT","Etc/GMT","Etc/GMT+1","Etc/GMT+10","Etc/GMT+11","Etc/GMT+12","Etc/GMT+2","Etc/GMT+3","Etc/GMT+4","Etc/GMT+5","Etc/GMT+6","Etc/GMT+7","Etc/GMT+8","Etc/GMT+9","Etc/GMT-1","Etc/GMT-10","Etc/GMT-11","Etc/GMT-12","Etc/GMT-13","Etc/GMT-14","Etc/GMT-2","Etc/GMT-3","Etc/GMT-4","Etc/GMT-5","Etc/GMT-6","Etc/GMT-7","Etc/GMT-8","Etc/GMT-9","Etc/UTC","Europe/Amsterdam","Europe/Andorra","Europe/Astrakhan","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Helsinki","Europe/Istanbul","Europe/Kaliningrad","Europe/Kiev","Europe/Kirov","Europe/Lisbon","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Oslo","Europe/Paris","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/Saratov","Europe/Simferopol","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Ulyanovsk","Europe/Uzhgorod","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zaporozhye","Europe/Zurich","HST","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Reunion","MET","MST","MST7MDT","PST8PDT","Pacific/Apia","Pacific/Auckland","Pacific/Bougainville","Pacific/Chatham","Pacific/Chuuk","Pacific/Easter","Pacific/Efate","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Pohnpei","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Wake","Pacific/Wallis","WET"],x=[{label:"English (Canada)",value:"en-CA"},{label:"Franais (Canadien)",value:"fr-CA"}],b=50,w="-"},531017:(e,t,n)=>{n.d(t,{Bc:()=>x,Di:()=>S,Dy:()=>_,Hc:()=>v,I5:()=>A,Qv:()=>c,Sx:()=>E,Vn:()=>P,Yy:()=>h,bD:()=>b,bQ:()=>s,d9:()=>T,do:()=>C,f7:()=>d,gP:()=>I,h$:()=>f,hW:()=>p,p6:()=>m,qH:()=>y,v6:()=>g});n(883119);var i=n(642447),a=n(493851),r=n(478138),o=n(548672),l=n(524378);const s=({feedProfile:e,workflows:t})=>{if(t.length){var n;const i=t[0].workflowStatus,a=o.EF.includes(i);return i===o.qN.DISAPPROVED?o.yn.DISABLED:(null==e?void 0:e.feedStatus)===o.Hm.INACTIVE?o.yn.PAUSED:i===o.qN.UNDER_REVIEW||i===o.qN.UNDER_APPEAL||a&&(null==e||null===(n=e.lastSuccessfulIngestion)||void 0===n?void 0:n.workflowStatus)!==o.qN.COMPLETED?o.yn.PENDING:null!=e&&e.lastSuccessfulIngestion?o.yn.ACTIVE:o.yn.INACTIVE}return null},c=(e,t=null)=>0===e&&(t===l.$o.PENDING||t===l.$o.APPEAL_PENDING),d=e=>({[o.yn.PENDING]:{color:"subtle",icon:"workflow-status-unstarted",text:e._('Pending', 'catalogs.dataSource.UnderReviewStatus', '[Catalogs] The data source is under review')},[o.yn.ACTIVE]:{color:"success",icon:"workflow-status-in-progress",text:e._('Active', 'catalogs.dataSource.ActiveStatus', '[Catalogs] The feed has ingested successfully.')},[o.yn.PAUSED]:{color:"subtle",icon:"workflow-status-halted",text:e._('Paused', 'catalogs.dataSource.PausedStatus', '[Catalogs] The daily feed ingestion processes are paused and will not refresh')},[o.yn.DISABLED]:{color:"error",icon:"workflow-status-problem",text:e._('Disabled', 'catalogs.dataSource.DisabledStatus', '[Catalogs] The feed has been disapproved by our review team.')},[o.yn.INACTIVE]:{color:"error",icon:"workflow-status-problem",text:e._('Inactive', 'catalogs.dataSource.InactiveStatus', '[Catalogs] The feed has not completed ingestion successfully and needs to be corrected')}}),u={SHOPIFY:"Shopify",WOOCOMMERCE:"WooCommerce",ADOBE:"Adobe",SALESFORCE:"Salesforce"},p=(e,t,n)=>{if(n&&n in u)return u[n];if(!t)return e._('-', 'catalogs.dataSource.noFileName', '[Catalogs] no data source file name');const i=t.split("/");if(1===i.length)return t;const a=i.pop();return a.length>15?"../"+a.slice(a.length-15):"../"+a},h=(e,t,n,i,r)=>`${(0,a.Z)(i.ngettext('{{ count }} error', '{{ count }} errors', t, ' - ', ' -- '),{count:r(e,t)})} | ${(0,a.Z)(i.ngettext('{{ count }} alert', '{{ count }} alerts', n, ' - ', ' -- '),{count:r(e,n)})}`,m=(e,t,n,a)=>n.toDateString()===t.toDateString()?a._('Today', 'catalogs.dataSources.dateAttribute', 'Date represents today in local timezone'):(0,i.Z)(e,t,i.k.NUMERIC),_=(e,t)=>{if(!e)return"-";const n=t[e]||e;return n.length>17?n.substring(0,14)+"...":n},g=e=>({...e.validationStatsWarnings,...e.ingestionStatsWarnings}),y=e=>({...e.validationStatsErrors,...e.ingestionStatsErrors}),v=e=>({warningStats:g(e),errorStats:y(e),downloadUrl:e.s3ValidationUrl,s3SourceUrl:e.s3SourceUrl,successCount:e.productCount,workflowStatus:e.workflowStatus,disapprovalReasons:e.disapprovalReasons||[]}),f=(e,t)=>Object.keys(e).length>0||Object.keys(t).length>0,x=e=>({id:e.id,url:e.url,format:e.format,defaultCurrency:e.defaultCurrency,defaultAvailability:"None"===e.defaultAvailability?null:e.defaultAvailability,credential:e.credential,feedStatus:e.feedStatus,feedPreferredScheduleTime:e.feedPreferredScheduleTime,feedPreferredScheduleTimezone:e.feedPreferredScheduleTimezone,locale:e.locale,country:e.country,feedProfileName:e.feedProfileName});function b(e){return e.filter((({workflowStatus:e})=>e===o.qN.COMPLETED||e===o.qN.COMPLETED_EARLY)).some((e=>Object.values(o.N7).some((t=>e[t]&&0!==e[t]))))}function w(e){const t="128",n="1008";return Object.keys(e).every((e=>[t,n].includes(e)))}function P(e,t){return w(t)&&0===Object.keys(e).length||w(t)&&!function(e){return Object.keys(e).some((e=>(0,r.C)().includes(e)))}(e)}function S(e){const{feed_format:t,feed_default_currency:n,default_availability_type:i,id:a,location_config:r,feed_username:o,feed_has_password:l,feed_status:s,preferred_schedule:c,locale:d,country:u,display_name:p,last_successful_ingestion:h,all_products_pg_item_count:m,integration_platform_type:_,created_at:g,domain:y,eligible_for_on_demand_kickoff:v,priority_lane:f,active_epoch_id:x,catalog_id:b}=e||{};return{id:a,url:r?r.full_feed_fetch_location:"",format:t,defaultCurrency:n,defaultAvailability:i,feedStatus:s,feedPreferredScheduleTime:c?c.time:void 0,feedPreferredScheduleTimezone:c?c.timezone:void 0,feedProfileName:p,integrationPlatformType:_,locale:d,country:u,credential:{username:o,hasPassword:l},lastSuccessfulIngestion:(w=h,w?{workflowStatus:w.workflow_status,workflowId:w.feed_fetch_workflow_id,productCount:w.product_count,inStockProductCount:w.in_stock_product_count,outOfStockProductCount:w.out_of_stock_product_count,preorderProductCount:w.preorder_product_count,originalProductCount:w.original_product_count,dateModified:w.created_at,originalUrl:w.original_url,s3SourceUrl:w.s3_source_url,s3ValidationUrl:w.s3_validation_url,validationStatsWarnings:w.validation_stats_warnings||{},validationStatsErrors:w.validation_stats_errors||{},ingestionStatsWarnings:w.ingestion_stats_warnings||{},ingestionStatsErrors:w.ingestion_stats_errors||{},ingestionStatsInfo:w.ingestion_stats_info||{},lastSuccessfulWorkflowId:w.last_successful_workflow_id}:null),allProductsPGItemCount:m,createdAt:g,domain:y,eligibleForOnDemandKickoff:v,priorityLane:f,activeEpochId:x,catalogId:b};var w}function T(e){return(e||[]).map((e=>S(e)))}function I(e,t){return!!(e.id&&t.id?e.id===t.id:e.feedProfileName&&t.feedProfileName&&e.feedProfileName===t.feedProfileName)}function A(e,t){return e.find((e=>I(t,e)))}const k=(e,t)=>({[o.ul.IN_STOCK]:t._('in stock', 'Catalogs.DataSource.feedProfileAvailabilyType.inStock', 'Feed profile in stock availability type'),[o.ul.OUT_OF_STOCK]:t._('out of stock', 'Catalogs.DataSource.feedProfileAvailabilyType.outOfStock', 'Feed profile out of stock availability type'),[o.ul.PREORDER]:t._('preorder', 'Catalogs.DataSource.feedProfileAvailabilyType.preorder', 'Feed profile preorder availability type')}[e]),E=e=>[{value:"UNAVAILABLE",label:e._('NONE', 'Catalogs.DataSource.feedProfileAvailabilyType.none', 'Feed profile no availability type')},...Object.keys(o.ul).map((t=>{var n;return{value:t,label:(null!==(n=k(o.ul[t],e))&&void 0!==n?n:e._('Unknown Type', 'Catalogs.DataSource.feedProfileAvailabilyType.Unknown', 'Unknown availability type.')).toUpperCase()}}))],C=e=>{var t;const{product_pin_approval_status:n="",product_pin_approval_status_reasons:i,format:a,id:r,disapprovalTrackingData:o}=null!==(t=e.data)&&void 0!==t?t:{};return{...e,data:{product_pin_approval_status:n,product_pin_approval_status_reasons:i,disapprovalTrackingData:o,format:a,id:r}}}},395487:(e,t,n)=>{n.d(t,{Be:()=>l,DD:()=>P,EK:()=>s,Eo:()=>m,Gv:()=>ce,HK:()=>Y,J_:()=>le,KO:()=>j,MD:()=>F,MU:()=>L,PD:()=>z,Pf:()=>ae,QE:()=>T,QX:()=>B,R0:()=>$,Rd:()=>se,S8:()=>re,V0:()=>g,VO:()=>ne,WH:()=>C,XT:()=>x,Y3:()=>d,aF:()=>N,aZ:()=>i,bS:()=>_,cU:()=>S,cm:()=>K,d0:()=>w,eu:()=>h,g2:()=>I,gd:()=>A,h1:()=>Z,h8:()=>r,hh:()=>b,iu:()=>V,j0:()=>ie,j1:()=>M,k7:()=>q,kc:()=>p,kl:()=>u,kq:()=>y,l5:()=>v,pA:()=>oe,pF:()=>O,pM:()=>D,pV:()=>f,ps:()=>o,q9:()=>c,qB:()=>W,qf:()=>ee,r2:()=>k,rC:()=>R,rD:()=>Q,sG:()=>U,ss:()=>te,t7:()=>J,ul:()=>a,vr:()=>X,wZ:()=>G,yA:()=>H,yq:()=>E});const i=864e5,a={IN_STOCK:"in stock",OUT_OF_STOCK:"out of stock",PREORDER:"preorder"},r={NEW:"new",USED:"used",REFURBISHED:"refurbished"},o={MALE:"male",FEMALE:"female",UNISEX:"unisex"},l={1:"All Products",2:"Best Deals",3:"Most Popular",4:"Top Sellers",5:"Back In Stock",6:"New Arrivals"},s={FEATURED:"FEATURED",CAN_FEATURE:"CAN_FEATURE",FEATURING:"FEATURING",NO_FILTERS:"NO_FILTERS",TOO_FEW_PRODUCTS:"TOO_FEW_PRODUCTS",TOO_FEW_UNIQUE_PRODUCTS:"TOO_FEW_UNIQUE_PRODUCTS",TOO_MANY_PRODUCTS:"TOO_MANY_PRODUCTS",MAX_GROUPS_FEATURED:"MAX_GROUPS_FEATURED",UNFEATUREABLE:"UNFEATUREABLE"},c=[1,2,3,4,5,6,7,8],d=[1,2,3,4,5,6,8],u=[1,2,3,4,5,6,7,0,8],p=90,h=350,m=72,_=450,g=200,y=12,v=114,f={MERCHANT_CREATED:"MERCHANT_CREATED",ALL_PRODUCTS:"ALL_PRODUCTS"},x={FEATUREABLE:1,UNFEATUREABLE_NOT_ENOUGH_PINS:2,UNFEATUREABLE_NOT_ENOUGH_UNIQUE_PINS:3,UNFEATUREABLE_EXCEEDED_PINS_LIMIT:4},b={ITEM_ID:"Item ID",PRODUCT_CATEGORY:"Category",PRODUCT_TYPE:"Product type",BRANDS:"Brands",COST:"Cost",CUSTOM_LABEL:"Custom",CUSTOM_LABEL_0:"Custom label 0",CUSTOM_LABEL_1:"Custom label 1",CUSTOM_LABEL_2:"Custom label 2",CUSTOM_LABEL_3:"Custom label 3",CUSTOM_LABEL_4:"Custom label 4",AVAILABILITY:"Availability",PRICE:"Price",GENDER:"Gender",CONDITION:"Condition",CURRENCY:"Currency",ITEM_GROUP_ID:"Item group ID"},w=[b.PRODUCT_CATEGORY,b.PRODUCT_TYPE,b.BRANDS,b.CUSTOM_LABEL_0,b.CUSTOM_LABEL_1,b.CUSTOM_LABEL_2,b.CUSTOM_LABEL_3,b.CUSTOM_LABEL_4],P={[b.ITEM_ID]:["ITEM_ID"],[b.ITEM_GROUP_ID]:["ITEM_GROUP_ID"],[b.PRODUCT_CATEGORY]:["GOOGLE_PRODUCT_CATEGORY_0"],[b.PRODUCT_TYPE]:["PRODUCT_TYPE_0"],[b.COST]:["MIN_PRICE","MAX_PRICE"],[b.BRANDS]:["BRAND"],[b.CUSTOM_LABEL]:["CUSTOM_LABEL_0","CUSTOM_LABEL_1","CUSTOM_LABEL_2","CUSTOM_LABEL_3","CUSTOM_LABEL_4"],[b.AVAILABILITY]:["AVAILABILITY"],[b.CONDITION]:["CONDITION"],[b.GENDER]:["GENDER"]},S=[b.CUSTOM_LABEL,b.COST,b.CURRENCY],T={1:a.IN_STOCK,2:a.OUT_OF_STOCK,3:a.PREORDER},I={1:r.NEW,2:r.USED,3:r.REFURBISHED},A={1:o.MALE,2:o.FEMALE,3:o.UNISEX},k={1:b.ITEM_ID,5:b.PRODUCT_CATEGORY,12:b.PRODUCT_TYPE,3:b.BRANDS,2:b.AVAILABILITY,17:b.CUSTOM_LABEL_0,18:b.CUSTOM_LABEL_1,19:b.CUSTOM_LABEL_2,20:b.CUSTOM_LABEL_3,21:b.CUSTOM_LABEL_4,4:b.CONDITION,25:b.GENDER,22:b.PRICE,23:b.PRICE,26:b.CURRENCY,24:b.ITEM_GROUP_ID},E={[b.ITEM_ID]:1,[b.PRODUCT_CATEGORY]:5,[b.PRODUCT_TYPE]:12,[b.BRANDS]:3,[b.AVAILABILITY]:2,[b.CUSTOM_LABEL_0]:17,[b.CUSTOM_LABEL_1]:18,[b.CUSTOM_LABEL_2]:19,[b.CUSTOM_LABEL_3]:20,[b.CUSTOM_LABEL_4]:21,[b.CONDITION]:4,[b.GENDER]:25,[b.PRICE]:23,[b.CURRENCY]:26,[b.ITEM_GROUP_ID]:24},C={GREATER_INCLUSION:"0",GREATER_EXCLUSION:"1",LESS_INCLUSION:"2",LESS_EXCLUSION:"3"},j={[C.GREATER_EXCLUSION]:{filterType:22,filterOperator:{negated:!1,inclusion:!1}},[C.GREATER_INCLUSION]:{filterType:22,filterOperator:{negated:!1,inclusion:!0}},[C.LESS_EXCLUSION]:{filterType:23,filterOperator:{negated:!1,inclusion:!1}},[C.LESS_INCLUSION]:{filterType:23,filterOperator:{negated:!1,inclusion:!0}}},D="newlyCreatedPGId",R="storefront",F={campaignId:"createNewCampaign",objectiveType:"CATALOG_SALES",absolutify:!0},L=163,O=350,z={LIST:"LIST",GRID:"GRID"},M="236x",N=23,Z=164,U=256,B=112,K="calc(100vh - 175px)",H=75,G=200,W=40,$={PRODUCT_GROUP_NAME:"PRODUCT_GROUP_NAME",PRODUCT_COUNT:"PRODUCT_COUNT",PRODUCT_AVAILABILITY:"PRODUCT_AVAILABILITY",LAST_UPDATE:"LAST_UPDATE",PRODUCT_GROUP_PROMOTED:"PRODUCT_GROUP_PROMOTED",PRODUCT_GROUP_FEATURED:"PRODUCT_GROUP_FEATURED",PRODUCT_GROUP_ACTIONS:"PRODUCT_GROUP_ACTIONS",PG_METRIC:"PG_METRIC",PRODUCT_GROUP_COUNTRY:"PRODUCT_GROUP_COUNTRY"},V=500,q=20,Y=40,X=100,J=4,Q={DELETE_FAILED:"DELETE_FAILED",DELETE_SUCCESSFULLY:"DELETE_SUCCESSFULLY",REMOVE_SUCCESSFULLY:"REMOVE_SUCCESSFULLY"},ee={ALL:"ALL",MIXED:"MIXED",FEED_PROFILE:"FEED_PROFILE"},te="US",ne="selectedCountryKey",ie="selectedFeedProfileId",ae="NEXT_BUTTON",re="PRODUCT_GROUP_NAME_INPUT",oe="APPLY_FILTER_BUTTON",le="activated",se="ads_create_source_param",ce="SIMILARLY_PRICED_PG_GUIDANCE_ID"},259511:(e,t,n)=>{n.d(t,{G7:()=>a,Lp:()=>r,Ib:()=>c});var i=n(819079);function a(e={},t=!0){const n=(0,i.Z)(t?null:{name:"FeaturedProductGroupsResource",enabledRouteRefresh:!0,options:e});return{...n,isLoaded:!0,data:n&&n.data||[]}}function r(e={}){const t=(0,i.Z)({name:"ProductGroupFilterResource",options:e,enabledRouteRefresh:!0});return{...t,data:t&&t.data||{}}}var o=n(667294),l=n(536042),s=n(637110);function c(e={},t=!1,n=!1){const a=(0,l.ZP)(),r=(0,i.Z)(t?null:{name:"ProductGroupsResource",options:e,enabledRouteRefresh:!0,noCache:n}),c=(0,o.useMemo)((()=>r.data&&r.isLoaded?r.data.map((e=>(e.name=(0,s.GN)(a,e.type,e.name),e))):[]),[a,r.data,r.isLoaded]);return{...r,data:c}}},732192:(e,t,n)=>{n.r(t),n.d(t,{RoleBasedAccessControlProvider:()=>f,useRoleBasedAccessControlContext:()=>v});var i=n(667294),a=n(583592),r=n(245410),o=n(819079),l=n(802071),s=n(771799),c=n(173085),d=n(716793);const u=e=>{const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?t[(0,d.Z)(n)]=e[n]:t[(0,d.Z)(n)]=u(e[n]));return t},p=(e,t)=>{const n=[];for(const r in e)r!==t&&n.push({id:r,...u(e[r])});const i=n.sort((({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t))),a=new Map;for(const r of i)a.set(r.id,r);return a},h={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},m=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},_=e=>{const[t,n]=(0,i.useReducer)(m,h),a=(({dispatch:e,isEnabled:t,state:n})=>{const{orbacVisibility:a,disableProfileChanger:r,headerVisible:o}=n;return{changeProfile:(0,i.useCallback)((n=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:n})}),[t,e]),toggleORBACVisibility:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=n?n:!a})}),[t,e,a]),toggleDisableProfileChanger:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=n?n:!r})}),[t,e,r]),toggleHeaderVisibility:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=n?n:!o})}),[t,e,o])}})({dispatch:n,isEnabled:e,state:t}),{activeProfile:r,orbacVisibility:o}=t;(0,i.useEffect)((()=>{const e=(0,c.qn)("orbacActiveProfile",!1);e&&n({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,i.useEffect)((()=>{const e=(0,c.qn)("orbacVisibilty",!1);e&&n({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,i.useEffect)((()=>{(0,c.Nh)("orbacVisibility",o)}),[o]),(0,i.useEffect)((()=>{(0,c.Nh)("orbacActiveProfile",r)}),[r]);return{state:t,actions:a,receiveProfiles:(0,i.useCallback)(((e,t)=>{n({type:"LOAD_PROFILES",payload:p(e,t)})}),[n])}};var g=n(785893);const{Provider:y,useMaybeHook:v}=(0,a.Z)("RoleBasedAccessControlContext"),f=({children:e})=>{const{checkExperiment:t}=(0,r.F)(),n=(0,l.Z)(),a=Boolean(n.isAuth&&n.isPartner&&t("web_m10n_business_access_orbac_www").anyEnabled),{state:c,actions:d,receiveProfiles:u}=_(a),{activeProfile:p,headerVisible:h,profiles:m=[]}=c,v=m?Array.from(m.values()):[],f=(0,s.Z)(v),x=!!(n.isAuth&&v.length>0)&&f,b=n.isAuth?n.id:"",w=n.isAuth?n.username:"",{changeProfile:P,toggleORBACVisibility:S,toggleDisableProfileChanger:T,toggleHeaderVisibility:I}=d;(0,i.useEffect)((()=>{a&&("string"!=typeof f?p||P(b):P(f))}),[f,b,a,P,p]),(0,i.useEffect)((()=>{a&&(x&&!h&&I(!0),!x&&h&&I(!1))}),[I,x,a,h,m]);const{data:A}=(0,o.Z)(a?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),k=null==A?void 0:A.profiles;let E;n&&n.isAuth&&c.activeProfile===n.id?E={id:n.id,permissions:["OWNER"],user:{username:w,businessName:n.fullName,imgUrl:n.imageSmallUrl}}:p&&c.profiles&&(E=c.profiles.get(p)),(0,i.useEffect)((()=>{k&&u(k,b)}),[u,k,b]);const C=c.profiles?Array.from(c.profiles.values()):[];return(0,g.jsx)(y,{value:{profiles:C,headerVisible:c.headerVisible,activeProfile:E,changeProfile:P,toggleORBACVisibility:S,toggleDisableProfileChanger:T,toggleHeaderVisibility:I},children:e})}},329689:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(245410),a=n(732192),r=n(771799);const o=()=>{const{checkExperiment:e}=(0,i.F)(),t=(0,a.useRoleBasedAccessControlContext)(),{activeProfile:n}=t||{},o=e("web_m10n_business_access_orbac_www").anyEnabled,l=(0,r.Z)((null==t?void 0:t.profiles)||[]),{anyEnabled:s}=e("useorbacroutematcher_in_useorbacactingas");return o?s&&!l?Object.freeze({}):n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:Object.freeze({}):Object.freeze({})}},771799:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(616550),a=n(988014),r=n(245410),o=n(802071),l=n(525104);const s=e=>{var t,n,s,c;const d=(0,i.useLocation)(),u=(0,o.Z)(),p=(0,l.S6)(),{anyEnabled:h}=(0,r.F)().checkExperiment("web_m10n_business_access_orbac_www"),m=(0,i.useRouteMatch)("/:username"),_=null==m||null===(t=m.params)||void 0===t?void 0:t.username,g=(0,i.useRouteMatch)("/pin/:id"),y=!(null==g||null===(n=g.params)||void 0===n||!n.id)&&(null===(s=p(g.params.id))||void 0===s||null===(c=s.pinner)||void 0===c?void 0:c.id);if((0,a.ej)(d))return!1;if((0,a.RU)(d))return!0;if((0,a.mY)(d))return h;const v=e.concat(u.isAuth?{user:{username:u.username},id:u.id}:{}).find((e=>{const{user:t={},id:n}=e||{},{username:i}=t;return!!(i&&_||y&&n)&&(i===_||y===n)}));return!!v&&v.id}},384722:(e,t,n)=>{n.d(t,{D3:()=>c,DX:()=>l,KY:()=>d,Ms:()=>i,N1:()=>u,_P:()=>o,lJ:()=>r,nl:()=>a,q6:()=>s});const i=(e,t)=>{let n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},a=(e,t)=>Boolean(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),r=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",o=(e,t,n)=>{var i;return n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:null===(i=e.advertiser)||void 0===i?void 0:i.merchant_id},l=(e,t,n)=>n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,s=(e,t,n)=>!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t),c=(e,t,n)=>!!(s(e,t,n)||e&&e.isAuth&&t===e.id),d=(e,t,n)=>{const i=t&&t.owner&&t.owner.id||"";return c(e,i,n)};function u(e,t,n){const i=t?t.id:"";return c(e,i,n)}},515640:(e,t,n)=>{n.d(t,{N:()=>p,t:()=>_});var i=n(667294),a=n(690108),r=n(463310),o=n(980124),l=n(519677),s=n(583592),c=n(245410),d=n(785893);const{Provider:u,useHook:p}=(0,s.Z)("LinkedAccount"),h=e=>{(0,r.Z)(e?`/?next=${encodeURIComponent(e)}`:"/")},m=e=>{o.Z.reportFacebookConversion(l.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/convert"}),o.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),o.Z.reportLinkedInConversion(l.Z.LINKEDIN_PARTNER_ID,l.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),o.Z.reportGoogleConversion(l.Z.GOOGLE_ADWORDS_ID,l.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT,"/",e)};function _({children:e}){const[t,n]=(0,i.useState)(!1),[r,o]=(0,i.useState)([]),{checkExperiment:l}=(0,c.F)(),s=l("ppm_p_gate").anyEnabled,p=(0,i.useCallback)((({businessName:e,thirdPartyApps:t,thirdPartyMarketingTrackingEnabled:i,nextUrl:r})=>{n(!0);const o={business_name:e,third_party_apps:t};return a.Z.create("BusinessOwnershipResource",o).callCreate({showError:!0}).then((()=>{i&&m(s),n(!1),h(r)})).catch((e=>(n(!1),Promise.reject({error:e}))))}),[n,s]),_=(0,i.useMemo)((()=>({createLinkedBusinessAccount:p,linkedBusinessCreationLoading:t,userAccounts:r,userAccountsRetrieved:o})),[p,t,o,r]);return(0,d.jsx)(u,{value:_,children:e})}},477001:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(702664),a=n(883119),r=n(603801),o=n(388011),l=n(527386),s=n(105095),c=n(621699),d=n(83503),u=n(785893);function p({isFullWidth:e,actionType:t,buttonAction:n,buttonText:p,experience:h,hideCompleteButton:m,imageAlt:_,imageUrl:g,openNewTab:y,avatarImageDetails:v,examplePinImage:f,titleText:x,titleTextColor:b,titleTextCustomization:w,descriptionText:P,descriptionTextCustomization:S}){var T,I;const{logContextEvent:A}=(0,o.v)(),k=(e=>0===e?3833:1===e?3834:2===e?3835:null)(t),E=(0,i.useDispatch)(),{experience_id:C,placement_id:j}=h||{},D=(0,d.Z)({onVisibilityChanged:e=>{e&&h&&(h.status="viewed",A({event_type:13,view_type:612,view_parameter:k}),E((0,l.UT)(j,C,!1,!0)))}}),{width:R}=(0,r.Z)()||{width:8},F=R-8,L=(0,s.IA)(R),O=F*L,z=L===s.LX||L===s.Ec,{url:M,full_name:N}=v||{},Z=O*s.l0,{url:U}=f||{},B=U?O*s.l0:0,K=U?s.ml*B:0,{color:H,fontStyle:G,fontWeight:W,horizontalAlignment:$,fontSize:V}=(0,s.Mf)(w||{},"mweb"),{color:q,fontStyle:Y,fontWeight:X,horizontalAlignment:J,fontSize:Q}=(0,s.Mf)(S||{},"mweb");return(0,u.jsx)(a.xu,{position:"relative",padding:1,marginBottom:2,ref:D,children:(0,u.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)",backgroundColor:e?"#003441":"education"}},color:e?"default":"education",paddingX:2,paddingY:4,position:"relative",rounding:4,children:[e&&g&&M&&(0,u.jsx)(a.xu,{height:O,width:F,children:(0,u.jsx)(a.Ee,{alt:_||x||"",color:"rgb(111, 91, 77)",naturalHeight:O,naturalWidth:F,src:g,fit:"cover",children:(0,u.jsx)(a.xu,{paddingY:M?12:3,children:(0,u.jsxs)(a.kC,{direction:"column",gap:2,alignItems:"center",flex:"grow",width:"100%",justifyContent:"center",children:[N&&M&&(0,u.jsx)(a.xu,{height:Z,width:Z,children:(0,u.jsx)(c.Z,{name:N,src:M,size:"fit"})}),(0,u.jsx)(a.xv,{align:$,color:b,italic:"italics"===G,weight:W,children:(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(T=H||b)&&void 0!==T?T:void 0,fontSize:z?s.SF:V}},children:x})}),(0,u.jsx)(a.xv,{align:J,italic:"italics"===Y,weight:X,children:(0,u.jsx)(a.xu,{paddingX:12,dangerouslySetInlineStyle:{__style:{color:null!=q?q:void 0,fontSize:z?s._e:Q}},children:P})})]})})})}),(!e||e&&U)&&(0,u.jsxs)(a.kC,{direction:"column",gap:2,alignItems:"center",flex:"grow",justifyContent:"center",children:[f&&U&&(0,u.jsx)(a.xu,{paddingY:4,children:(0,u.jsx)(a.zd,{height:B,width:K,rounding:4,children:(0,u.jsx)(a.Ee,{alt:"Your first saved Pin",naturalHeight:B,naturalWidth:K,src:U,fit:"cover"})})}),(0,u.jsx)(a.xv,{align:$,color:b,italic:"italics"===G,weight:W,children:(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(I=H||b)&&void 0!==I?I:void 0,fontSize:z&&e?s._e:V}},children:x})}),P&&S&&(0,u.jsx)(a.xu,{paddingX:e?2:0,paddingY:0,children:(0,u.jsx)(a.xv,{align:J,italic:"italics"===Y,weight:X,children:(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{color:null!=q?q:void 0,fontSize:z&&e?s._e:Q}},children:P})})}),!m&&(0,u.jsx)(a.kC.Item,{alignSelf:"center",children:(0,u.jsx)(a.xu,{marginTop:2,marginBottom:e?4:0,children:(0,u.jsx)(a.zx,{accessibilityLabel:p,color:"white",text:p,size:"md",role:"link",href:n,target:y?"blank":null,onClick:()=>{h&&(A({event_type:102,view_type:612,view_parameter:k}),E((0,l.CK)(j,C,!1,!0)))}})})})]})]})})}},724097:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(883119),a=n(460914),r=n(785893);const o={__style:{borderRadius:"4px",padding:"10px 14px"}},l={borderWidth:"1px",borderStyle:"solid",borderColor:"white"},s={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},c=({accessibilityLabel:e,color:t,customStyles:n,forwardedRef:c,icon:d,inline:u=!1,minHeight:p=40,minWidth:h=70,onTouch:m,pressState:_,shape:g,text:y})=>{const v=(e=>"transparent"===e||"dark"===e?"inverse":"primary"===e?"light":"default")(t),f=(({color:e,icon:t})=>t?s:"transparent"===e?{__style:{...o.__style,...l}}:o)({color:t,icon:d}),x=(0,r.jsx)(i.xu,{position:"relative",children:(0,r.jsx)(i.xu,{color:t,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:p,minWidth:h,dangerouslySetInlineStyle:"pill"===g?(b=n,{__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...b}}):f,children:(0,r.jsxs)(i.kC,{alignItems:"center",justifyContent:"center",children:[d&&(0,r.jsx)(i.xu,{paddingX:"check"===d?2:0,children:(0,r.jsx)(i.JO,{accessibilityLabel:e,color:v,icon:d,inline:!0,size:"check"===d?16:20})}),(0,r.jsx)(i.xv,{color:v,inline:!0,size:"300",lineClamp:1,weight:"bold",children:y})]})})});var b;return m?(0,r.jsx)(a.Z,{onTouch:m,rounding:"pill"===g?"pill":2,pressState:_||"none",children:(0,r.jsx)(i.xu,{ref:c,children:x})}):x}},870601:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),a=n(883119),r=n(936677),o=n(162664),l=n(589665),s=n(934211),c=n(785893);function d({children:e,className:t,forwardRef:n,offset:d=0,position:u,shouldShowShadow:p=!1,style:h={},top:m}){const{setIsContentHeaderPresent:_}=(0,r.i)();(0,i.useEffect)((()=>(_(!0),function(){_(!1)})),[]);const{currentScrollPosition:g,isScrolled:y,setSubheaderShadow:v}=(0,s.WQ)();(0,i.useEffect)((()=>(p&&v("contentHeader"),()=>{p&&v(null)})),[p]);let f=!1;"pending"!==m&&(f=null!=m?g>=m:y);const x=(0,o.t)(),b=(0,c.jsx)("div",{className:t,ref:n,style:{...h,top:x+d,...f&&p?{...l.Rz,zIndex:499}:{},...u&&"sticky"!==u?{position:u}:{}},children:e});return"sticky"===u?(0,c.jsx)(a.Le,{top:x+d,children:b}):b}},936677:(e,t,n)=>{n.d(t,{Z:()=>s,i:()=>l});var i=n(667294),a=n(583592),r=n(785893);const{Provider:o,useHook:l}=(0,a.Z)("ContentHeader");function s({children:e}){const[t,n]=(0,i.useState)(!1),a=(0,i.useMemo)((()=>({isContentHeaderPresent:t,setIsContentHeaderPresent:n})),[t]);return(0,r.jsx)(o,{value:a,children:e})}},843843:(e,t,n)=>{n.d(t,{MZ:()=>F,di:()=>O,Ai:()=>L});var i=n(667294),a=n(616550),r=n(883119),o=n(865173),l=n(563962),s=n(525571),c=n(988014),d=n(245410),u=n(617285),p=n(500797),h=n(282802),m=n(611756),_=n(173085),g=n(98736),y=n(802071),v=n(700453),f=n(277192),x=n(799006),b=n(724097),w=n(250307),P=n(354428),S=n(28630),T=n(204926);const I=({children:e,external:t,externalQueryParams:n,target:i,href:r})=>{const o=(0,a.useHistory)();if(!r)return null;const l=(0,w.Z)(r);return e({navigate:e=>{e.preventDefault(),(0,S.Z)({url:l})||t?"undefined"!=typeof window&&window.Windows?(0,T.Z)(l):(0,P.Gj)(l,{queryParams:n}):(0,P.G3)({event:e,href:r,history:o,target:"blank"===i?"blank":null})}})};var A=n(785893);const k=({accessibilityLabel:e,children:t,external:n,externalQueryParams:i,inline:a=!1,newTab:o,nofollow:l,onTouch:s,onBlur:c,onFocus:d,pressState:u,rounding:p,to:h})=>(0,A.jsx)(I,{external:n,target:o?"blank":null,externalQueryParams:i,href:h,children:({navigate:n})=>(0,A.jsx)(r.rU,{accessibilityLabel:e,onBlur:c?({event:e})=>c(e):void 0,onFocus:d?({event:e})=>d(e):void 0,underline:"none",href:(0,w.Z)(h),display:a?"inlineBlock":"block",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),null==s||s(e),e.defaultPrevented||n(e)},rel:l?"nofollow":"none",rounding:p,tapStyle:(Array.isArray(u)?u:[u]).includes("compress")?"compress":"none",children:t})}),E=({external:e,externalQueryParams:t,newTab:n,onTouch:i,to:a,...r})=>(0,A.jsx)(I,{external:e,target:n?"blank":null,externalQueryParams:t,href:a,children:({navigate:e})=>(0,A.jsx)(b.Z,{onTouch:t=>{null==i||i(t),t.defaultPrevented||e(t)},...r})});var C=n(951599),j=n(352865),D=n(712968);const R=(e,t=!1)=>function({isAppUpsellDisabled:n,...b}){const{children:w,clientTrackingParams:P,deeplinkUri:S,external:T,onTouch:I,refresh:k,to:E,viewParameter:R,viewType:F}=b,L=(0,x.Z)(),[O,z]=(0,i.useState)(!1),[M,N]=(0,i.useState)(!1),[Z,U]=(0,i.useState)(!1),{isAuth:B}=(0,y.Z)(),{userAgent:{platform:K,browserName:H},locale:G}=(0,h.B)(),W=(0,D.Tt)(),$=(0,l.Z)(),{checkExperiment:V}=(0,d.F)(),q=(0,a.useLocation)(),Y=(0,u.Z)();(0,i.useEffect)((()=>{!async function(){if(o.v){U(!0);(await(0,o.Z)()).length>0&&N(!0)}}()}),[]),(0,i.useEffect)((()=>{B||(0,g.My)(`unauth.app_upsell.has_app.${M.toString()}`,{browser:H,platform:K})}),[H,M,B,K]);const X=()=>{$({event_type:1701,view_type:F,view_parameter:R}),O&&z(!1)};return(0,A.jsxs)(r.xu,{"data-test-id":"deeplink-wrapper",children:[O&&(0,A.jsx)(f.Z,{clientTrackingParams:P,deepLinkUri:S,isOpen:!0,onDismiss:()=>{$({component:14157,element:10308,event_type:10220,view_type:F||202,view_parameter:R,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}})},onOpenInApp:()=>{(0,m.Nh)("deeplinkBehavior","branchfallback"),X()},shouldTrackDismiss:!0,to:E,viewParameter:R,viewType:F,within:"deep-link-app-upsell-modal"}),(0,A.jsx)(C.Z,{children:i=>(0,A.jsx)(e,{...b,onTouch:e=>{const a=L&&!n&&B&&!T&&!k&&!(0,p.FP)(window)&&!("ios"===K&&(G||"").startsWith("ar"))&&(0,j.kp)((0,s.Z)(null==W?void 0:W.created_at));if(a){let t=!0,n=!1;"string"==typeof S&&(S||"").startsWith("/pin/")&&((0,c.uM)(q)||(0,c.am)(q)||(0,c.C$)(q))?Z&&M&&S&&"android"===K&&V("mweb_auth_deep_link_app_installed_user").anyEnabled&&(Y(),t=!1):(t=!1,n=!0),t?(e.stopPropagation(),e.preventDefault(),z(!0)):n||(e.stopPropagation(),e.preventDefault(),$({component:14347,element:13582,event_type:3830,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}}),i(null!=S?S:(0,v.B)(q),"deep-link-app-upsell-modal"))}else"branchfallback"!==(0,m.qn)("deeplinkBehavior")||(0,_.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,_.Nh)("fallbackAttempt",1),i(S,"deep-link-app-upsell-modal",`${window.location.origin}${r=E,"string"==typeof r?r:`${r.pathname||""}${r.search?`?${r.search}`:""}`}`),X());var r;t&&a||!I||I(e)},children:w})})]})},F=R(k),L=R(E),O=R(b.Z,!0)},951599:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(388011),a=n(245410),r=n(282802),o=n(868489),l=n(352865),s=n(185803),c=n(785893);function d({children:e,invite_code:t}){const{isAuthenticated:n,isBot:o,unauthId:c,userAgent:{platform:d,raw:u}}=(0,r.B)(),{logContextEvent:p}=(0,i.v)(),{checkExperiment:h}=(0,a.F)();return e((async(e,i,a)=>{p({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:i}}),(0,s.Z)({isAuthenticated:n,checkExperiment:h,deeplinkUri:e,fallbackUrl:a,invite_code:t,logContextEvent:p,platform:d,redirectToLite:(0,l.Rp)({isBot:o,platform:d,userAgent:u}),unauthId:c,userAgent:u,within:i})}))}const u=e=>(0,c.jsx)(o.ty,{children:t=>(0,c.jsx)(d,{...e,invite_code:t})});u.displayName="DeepLinkNavigator";const p=u},506888:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),a=n(883119),r=n(377234),o=n(467105),l=n(906215),s=n(946579),c=n(455788),d=n(886365),u=n(785893);const p={border:(0,r.Yc)()?void 0:"1px solid #efefef",width:"100vw",maxHeight:"100%",height:"100%",overflow:"auto",top:"0",left:"0",position:"fixed",backgroundColor:(0,r.Yc)()?"#000":"#fff",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"},h={modalOpen:{__style:{...p}},modalClose:{__style:{...p,transform:"translate3d(0px, 100%, 0px)"}}};function m({accessibilityModalLabel:e,allowClickAndDrag:t,children:n,isOpen:r}){const{setAppFocusState:p}=(0,d.I)(),m=(0,i.useRef)(null);return(0,i.useEffect)((()=>(r&&(l.Z.pause(),p(!1),document.body&&(document.body.style.overflow="hidden")),()=>{r&&(l.Z.resume(),p(!0),document.body&&(document.body.style.overflow=""))})),[r,p]),(0,u.jsx)(c.Z,{allowClickAndDrag:t,children:(0,u.jsx)(a.mh,{zIndex:o.b7,children:(0,u.jsx)(a.xu,{display:"inlineBlock",role:"dialog","aria-label":e,children:(0,u.jsx)(a.xu,{ref:m,dangerouslySetInlineStyle:{__style:r?h.modalOpen.__style:h.modalClose.__style},children:(0,u.jsx)(s.Z.Provider,{value:m.current,children:n})})})})})}},914716:(e,t,n)=>{n.d(t,{Zt:()=>fe,iK:()=>xe,ZP:()=>be,cV:()=>ge});var i=n(667294),a=n(702664),r=n(616550),o=n(883119),l=n(604541),s=n(24286),c=n(536042),d=n(282442),u=n(282802),p=n(819079),h=n(946579),m=n(549201),_=n(586058),g=n(293926),y=n(387977),v=n(798198),f=n(777610),x=n(874261),b=n(943795),w=n(260070),P=n(785893);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T="BizNuxHomefeedLoader",I=[140,220,265],A=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],k=e=>({position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${T}_FadeOut`,animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${T}_FadeOut`}:{}}),E=e=>e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${T}_FadeOut`,animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:`${T}_FadeOut`}:{},C=[`${T}_FadeOut {\n    from { opacity: 1 }\n    to { opacity: 0 }\n  }`,`${T}_SlideUp {\n    from {\n      -webkit-transform: translateY(100vh);\n      transform: translateY(100vh);\n    }\n    to {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n    }\n  }`];class j extends i.PureComponent{constructor(...e){super(...e),S(this,"state",{enterAnimationFinished:!1,startExitAnimation:!1}),S(this,"enterAnimationDidFinished",(()=>{this.setState({enterAnimationFinished:!0})})),S(this,"startExitAnimation",(()=>{const{dismissLoader:e}=this.props;this.setState({startExitAnimation:!0},(()=>{this.exitAnimationTimeout=setTimeout((()=>{e()}),1700)}))}))}componentDidMount(){window.scrollTo(0,0),this.enterAnimationTimeout=setTimeout((()=>{this.enterAnimationDidFinished()}),2e3)}componentDidUpdate(){const{homefeedLoading:e}=this.props,{enterAnimationFinished:t,startExitAnimation:n}=this.state;!t||e||n||(0,y.Z)(this.startExitAnimation)}componentWillUnmount(){clearTimeout(this.enterAnimationTimeout),clearTimeout(this.exitAnimationTimeout)}get gridCellDimensionsByColumn(){const{gridContainerRef:e}=this.props;if(!e.current)return null;const t=e.current.querySelectorAll(".PinCard__imageWrapper"),n=Array.from({length:this.numberOfColumns},(()=>[]));for(let i=0;i<t.length;i+=1){const e=t[i].getBoundingClientRect();n[Math.round(e.left/(window.innerWidth/this.numberOfColumns))].push(e)}return n}get numberOfColumns(){return Math.max(Math.floor(window.innerWidth/200),2)}computeGridCellLayout(e,t,n){const i=this.numberOfColumns+1,a=(window&&window.innerWidth-16*i)/this.numberOfColumns;return{left:e*a+16*(e+1),top:n,width:a,height:I[(e+t)%I.length]}}renderGrid(){const{selectedTopics:e}=this.props,{startExitAnimation:t}=this.state,n=Array(this.numberOfColumns).fill(b.DEFAULT_HEIGHT),{gridCellDimensionsByColumn:i}=this,a=e.map(((e,a)=>{const r=a%this.numberOfColumns,l=Math.floor(a/this.numberOfColumns),s=A[a%A.length],c=n[r],d=this.computeGridCellLayout(r,l,c),u=(({color:e,startAnimation:t,originDimension:n,destinationDimension:i})=>{const a=i&&i.height>0?{top:i.top,left:i.left,width:i.width,height:i.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:n.height,width:n.width,left:n.left,top:n.top,backgroundColor:e,borderRadius:"8px",...t?a:{}}})({color:s,startAnimation:t,originDimension:d,destinationDimension:i&&i[r][l]});return n[r]+=16+d.height,(0,P.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:u},children:(0,P.jsx)(o.xu,{margin:5,display:"flex",justifyContent:"start",alignItems:"start",dangerouslySetInlineStyle:{__style:E(t)},children:(0,P.jsx)(o.X6,{color:"light",size:"500",children:e.name})})},a)}));return(0,P.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{position:"absolute",height:"100%",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"1.2s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${T}_SlideUp`,transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${T}_SlideUp`}},children:a})}render(){const{startExitAnimation:e}=this.state;return(0,P.jsxs)(i.Fragment,{children:[(0,P.jsx)(x.Z,{unsafeCSS:(0,v.Ll)(C)}),(0,P.jsx)(o.xu,{color:"default",dangerouslySetInlineStyle:{__style:k(e)},children:(0,P.jsxs)(o.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,P.jsxs)(i.Fragment,{children:[(0,P.jsx)(g.Z,{duration:3700,finalProgress:100}),(0,P.jsx)(o.xu,{margin:10,dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"1.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${T}_FadeOut`,animationDuration:".5s",animationDelay:"1.25s",animationFillMode:"forwards",animationName:`${T}_FadeOut`}},children:(0,P.jsx)(o.X6,{children:this.props.i18n._('Personalizing your feed with...', 'Loading homefeed details', 'Loading homefeed details')})})]}),this.renderGrid()]})})]})}}function D(e){const t=(0,c.ZP)(),n=(0,a.useSelector)((({topics:e})=>e)),i=(0,a.useDispatch)();return(0,f.Q)({view_type:24,view_parameter:261}),(0,P.jsx)(j,{...e,dismissLoader:()=>i((0,w.MI)(!1)),i18n:t,selectedTopics:Object.keys(n).filter((e=>n[e].is_followed)).map((e=>n[e]))})}var R=n(233569),F=n(372836),L=n(367184),O=n(220067),z=n(812889),M=n(392553),N=n(40660),Z=n(448709),U=n(477001),B=n(532243),K=n(825199),H=n(20227),G=n(563962),W=n(245410),$=n(802071),V=n(328939),q=n(525104);const Y=16,X=2;function J({pin:e,width:t,height:n,showDivider:i}){var a,r,l,s,c,d,u;const p=null===(a=e.images)||void 0===a?void 0:a["236x"];return(0,P.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:i?{borderRight:`${X}px solid #fff`}:{}},children:(0,P.jsx)(o.GH,{contentAspectRatio:(null!==(r=null==p?void 0:p.width)&&void 0!==r?r:1)/(null!==(l=null==p?void 0:p.height)&&void 0!==l?l:1),height:n,width:t,children:(0,P.jsx)(o.Ee,{alt:null!==(s=e.description)&&void 0!==s?s:"",naturalWidth:null!==(c=null==p?void 0:p.width)&&void 0!==c?c:1,naturalHeight:null!==(d=null==p?void 0:p.height)&&void 0!==d?d:1,src:null!==(u=null==p?void 0:p.url)&&void 0!==u?u:""})})})}function Q({storyId:e,slotIndex:t}){const n=(0,r.useHistory)(),l=(0,r.useLocation)(),{isAuth:s}=(0,$.Z)(),{checkExperiment:c}=(0,W.F)(),[d,u]=(0,i.useState)(0),p=(0,i.useRef)(),h=(0,G.Z)(),m=(0,q.S6)();(0,i.useLayoutEffect)((()=>{const e=p.current;e&&u(e.offsetWidth)}),[]);const _=(0,a.useSelector)((({stories:t})=>t[e])),g=_.objects.map((e=>m(e.id))).filter(Boolean).slice(0,2),{story_type:y,action:v}=_,f=`${l.pathname}products/${l.search}`,x=()=>{h({component:200,event_type:102,view_parameter:3050,view_type:72}),n.push(f)};return c(s?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,P.jsx)(V.qS,{auxData:{story_type:y,content_ids:g.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:({impressionTrackerRef:e})=>d?(0,P.jsx)(o.xu,{padding:2,ref:e,children:(0,P.jsx)(o.zd,{rounding:2,children:(0,P.jsxs)(o.iP,{onTap:x,children:[(0,P.jsx)(o.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:g.map(((e,t)=>(0,P.jsx)(J,{pin:e,width:(d-Y)/2-X/2,height:d-Y,showDivider:!t},e.id)))}),(0,P.jsx)(o.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,P.jsx)(o.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,P.jsx)(o.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,P.jsx)(o.xv,{weight:"bold",children:v.text})})})})]})})}):(0,P.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative"})}):(0,P.jsx)(V.Hs,{auxData:{story_type:y,content_ids:g.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:d?(0,P.jsx)(o.xu,{padding:2,children:(0,P.jsx)(o.zd,{rounding:2,children:(0,P.jsxs)(o.iP,{onTap:x,children:[(0,P.jsx)(o.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:g.map(((e,t)=>(0,P.jsx)(J,{pin:e,width:(d-Y)/2-X/2,height:d-Y,showDivider:!t},e.id)))}),(0,P.jsx)(o.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,P.jsx)(o.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,P.jsx)(o.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,P.jsx)(o.xv,{weight:"bold",children:v.text})})})})]})})}):(0,P.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",ref:p})})}var ee=n(806530),te=n(739425),ne=n(277828);const ie=43,ae=2,re=["#CFFFCA","#D7EDFF","#DAD4FF","#DAFFF6","#FFE2EB","#FFE4C1","#FFFD92"],oe=e=>re[e.charCodeAt(0)%re.length];function le({guides:e,storyId:t,slotIndex:n,titleFormat:a}){var l;const{isAuth:s}=(0,$.Z)(),{checkExperiment:c}=(0,W.F)(),d=null!==(l=(0,te.mB)((0,r.useLocation)().search).q)&&void 0!==l?l:"";return c(s?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,P.jsx)(V.qS,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:n,viewParameter:ie,viewType:ae,children:({impressionTrackerRef:t})=>(0,P.jsxs)(o.xu,{ref:t,children:[a&&(0,P.jsx)(o.xu,{paddingY:1,marginTop:2,children:(0,P.jsx)(o.xv,{align:"center",children:a})}),(0,P.jsx)(ne.Z,{guides:e.map((e=>({display:e.display,dominant_color:oe(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:d})]})}):(0,P.jsx)(V.Hs,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:n,viewParameter:ie,viewType:ae,children:(0,P.jsxs)(i.Fragment,{children:[a&&(0,P.jsx)(o.xu,{paddingY:1,marginTop:2,children:(0,P.jsx)(o.xv,{align:"center",children:a})}),(0,P.jsx)(ne.Z,{guides:e.map((e=>({display:e.display,dominant_color:oe(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:d})]})})}var se=n(819365);function ce({slotIndex:e,storyId:t,viewParameter:n,viewType:a,storyData:r}){const{actionText:l,actionUrl:s,contextualSearchFromObjects:c,customProperties:d,descriptionFormat:u,displayOptions:p,experience:h,storyType:m,titleFormat:_}=r;switch((0,i.useEffect)((()=>{N.Z.increment("webapp.graphql.pinStory",.1,{viewType:a,storyType:m})}),[a,m]),m){case K.q:{var g,y,v;if(!d||!p)return null;const{numColumnsRequested:e,titleTextColor:t}=p;return 2===e?null:(0,P.jsx)(U.Z,{isFullWidth:!1,actionType:d.actionType,buttonAction:null!=s?s:"",buttonText:null!=l?l:"",experience:null!=h?h:void 0,hideCompleteButton:d.hide_complete_button,imageAlt:d.image_alt,imageUrl:d.image,openNewTab:d.open_new_tab,avatarImageDetails:null!==(g=d.avatar_image_details)&&void 0!==g?g:{},examplePinImage:null!==(y=null===(v=d.example_pin_image_details)||void 0===v?void 0:v.originals)&&void 0!==y?y:{},titleText:null!=_?_:"",titleTextColor:H.e[t],titleTextCustomization:d.title_text_customization,descriptionText:null!=u?u:"",descriptionTextCustomization:d.description_text_customization})}case"feed_card_default":case"feed_card_video":return(0,P.jsx)(H.Z,{buttonAction:null!=s?s:"",buttonCustomization:d.button_customization,buttonText:null!=l?l:"",experience:null!=h?h:void 0,hideCompleteButton:d.hide_complete_button,imageAlt:d.image_alt,imageUrl:d.image,openNewTab:d.open_new_tab,storyType:m,titleText:null!=_?_:"",titleTextColor:H.e[p.titleTextColor],titleTextCustomization:d.title_text_customization,videoPin:d.video_pin,videoPlaceholderImage:d.video_placeholder_image});case"general_shopping_upsell":return(0,P.jsx)(H.Z,{buttonAction:null!=s?s:"",buttonText:null!=l?l:"",imageAlt:null==d?void 0:d.image_alt,imageUrl:null==d?void 0:d.image,storyType:m,titleText:null!=_?_:"",titleTextColor:H.e[p.titleTextColor]});case"BUBBLE_ONE_COL":return(0,P.jsx)(o.xu,{padding:2,children:(0,P.jsx)(B.Z,{slotIndex:e,storyGraphqlRef:null,storyId:t,viewType:a,viewParameter:n})});case"pinner_authority":case"pinner_authority_unified":return(0,P.jsx)(ee.Z,{storyId:t,slotIndex:e});case"stela_in_flashlight_onecol":return(0,P.jsx)(Q,{storyId:t,slotIndex:e});case"search_guides":return(0,P.jsx)(le,{guides:null!=c?c:[],slotIndex:e,storyId:t,titleFormat:null!=_?_:""});default:return null}}const de=(0,Z.Z)({useGraphQLAdapter:()=>null,useLegacyAdapter:e=>{const t=(0,a.useSelector)((({stories:t})=>t[e]));if(!t)return null;const{action:n,container_type:i,custom_properties:r,display_options:o,experience:l,story_type:s,title:c,description:d,objects:u}=t;if(!s)return null;const p=u,h=null==p?void 0:p.filter((e=>"contextual_search"===e.schema||"contextual_search"===e.type)).map((e=>{var t,n;return{schema:"contextual_search",display:null!==(t=e.display)&&void 0!==t?t:"",term:null!==(n=e.term)&&void 0!==n?n:""}}));return{actionText:null==n?void 0:n.text,actionUrl:null==n?void 0:n.url,customProperties:r,displayOptions:o?{numColumnsRequested:o.num_columns_requested,titleTextColor:o.title_text_color}:null,experience:l,storyType:(0,se.Z)({containerTypeIsItemGrid:56===i,storyType:s})?"BUBBLE_ONE_COL":s,titleFormat:null==c?void 0:c.format,descriptionFormat:null==d?void 0:d.format,contextualSearchFromObjects:h}}}),ue=e=>(0,P.jsx)(de,{input:{enabled:!1,data:e.storyId},children:({data:t})=>t&&(0,P.jsx)(ce,{...e,storyData:t})});var pe=n(679420),he=n(726091);function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _e={},ge=e=>{_e[e]&&_e[e].handlePullToRefresh()},ye=()=>{const{plpImageRenderData:e}=(0,O.HW)(),[t]=e;return t?t.pin_id:null};class ve extends i.PureComponent{constructor(...e){super(...e),me(this,"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:this.props.authHomefeedComponentDidUpdate?{pinId:ye(),feedItem:null}:null}),me(this,"backOnlineAutoFetchResource",(()=>{this.props.pagination.loadNext()})),me(this,"handlePullToRefresh",(()=>{this.props.pagination.refetch(),this.setState({refreshing:!0})})),me(this,"gridContainerRef",(0,i.createRef)()),me(this,"renderFeedPin",((e,t)=>{const{feedItemProps:n,location:i,performanceOptimization:a,renderSquarePins:r,showSeoMetadata:o,squarePins:l,trafficSource:s}=this.props,{auxData:c,componentType:d,feedback:u,imageOnly:p,impressionData:h,objectIdStr:m,oneTapSave:_,onFeedItemClick:g,onPinLinkClick:y,shouldAllowProductPriceIndicator:v,showSeoMetadata:f,viewData:x,viewParameter:b,viewType:w}=n||{},S=(i.search||"").includes("force_seo"),T=!(null==a||!a.lazyLoadBelowFoldIndex)&&t>a.lazyLoadBelowFoldIndex,I=!(null==a||!a.priorityFetchAboveFoldIndex)&&t<=a.priorityFetchAboveFoldIndex;return(0,P.jsx)(M.default,{auxData:c,componentType:d||0,duploFeedItemProps:{onPinClick:g,onPinLinkClick:y,showSeoMetadata:o||S||f},duploIsSquarePin:r||l,duploLazyLoadImage:T,duploOneTapSave:_,duploPriorityFetchImage:I,duploQueryRef:null,duploShouldAllowProductPriceIndicator:v,feedback:u,imageOnlyOption:p?"image-only":"default",impressionData:h,objectIdStr:m,pinId:e.id,slotIndex:t,trackingParams:e.trackingParams,trafficSource:s,viewData:x,viewParameter:b,viewType:w||1})}))}componentDidMount(){var e,t;window.addEventListener("online",this.backOnlineAutoFetchResource),e=this.props.feedKey,t=this,_e[e]=t}componentWillUnmount(){var e;window.removeEventListener("online",this.backOnlineAutoFetchResource),e=this.props.feedKey,delete _e[e]}componentDidUpdate(e){const{refreshing:t,unauthLandingPinStateForAuthHomefeed:n}=this.state,{feedItems:i,authHomefeedComponentDidUpdate:a}=this.props,r=t&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(r&&this.setState({refreshing:!1}),a&&n){const t=a({feedItems:i,prevFeedItems:e.feedItems,finishedRefresh:r,unauthLandingPinStateForAuthHomefeed:n});t&&this.setState({unauthLandingPinStateForAuthHomefeed:t})}}render(){const{deviceType:e,emptyState:t,feedItemProps:n,feedItems:a,feedItemsAdjustment:r,feedKey:c,gridConfig:u,pagination:p,pullToRefresh:m,renderFeedItem:g,serverRender:y,showBizNuxHomefeedLoader:v,trafficSource:f,visuallyCompleteProfilerOptions:x,i18n:b,pageSize:w}=this.props,{unauthLandingPinStateForAuthHomefeed:S}=this.state,T=null!=S&&S.feedItem&&a.length?[S.feedItem,...a]:a,{viewParameter:I,viewType:A}=n||{},{key:k}=u||{},E=c+(k?`|${k}`:""),C="user_search"===f,j=C?window.innerWidth-16:200,R="board"===f?4:void 0,O={columnWidth:"desktop"===e?s.yF:j,renderItem:({data:e,itemIdx:t})=>{if(g){const n=g(e,t);if("FALLBACK_TO_DEFAULT"!==n)return n}switch(e.type){case"pin":return(0,P.jsx)(F.cn,{children:this.renderFeedPin(e,t)});case"user":return(0,P.jsx)(he.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:C,viewParameter:I,viewType:A});case"board":return(0,P.jsx)(_.Z,{boardId:e.id,type:"grid",viewParameter:I,viewType:A});case"topic":return(0,P.jsx)(pe.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:I,viewType:A});case"story":return"number"==typeof I?(0,P.jsx)(ue,{slotIndex:t,storyId:e.id,viewParameter:I,viewType:A||1}):null;case"FEED_BREAK_IN":return r&&"breakIn"===r.type&&r.value.content;default:return null}},gutterWidth:"desktop"===e?4*s.jC:R,loadItems:p.loadNext,minCols:C?1:2,...u},M=!v&&p.isLoadingNext&&0===T.length&&!this.state.refreshing,N=w&&parseInt(w,10)<25,[Z,U,B]="fullWidthBreakIn"===(null==r?void 0:r.type)?[T.slice(0,r.value.index),r.value.content,T.slice(r.value.index)]:[T,null,[]],K="desktop"===e&&"flashlight"===f,H=K?0:s.qG;return(0,P.jsxs)(o.xu,{"data-test-id":"MobileFeed",children:[(0,P.jsx)(L.Z,{enabled:!!m,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing}),(0,P.jsxs)(o.xu,{marginStart:H,marginEnd:H,"data-test-id":"grid",ref:this.gridContainerRef,opacity:this.state.refreshing?.5:1,children:[(0,P.jsxs)(d.Z,{includeBackgroundImages:null==x?void 0:x.includeBackgroundImages,includeVideos:null==x?void 0:x.includeVideos,isAtEndOfFeed:!p.hasNext,itemCount:T.length,pinData:null==x?void 0:x.pins,children:[T.length?(0,P.jsx)(o.xu,{"data-test-id":"feed",marginTop:(0,F.kk)({isDesktop:"desktop"===e}),children:(0,P.jsx)(h.Z.Consumer,{children:e=>(0,P.jsx)(i.Fragment,{children:(0,P.jsxs)(F.c$,{children:[(0,P.jsx)(l.Z,{cacheKey:E,id:y?c:void 0,items:Z,scrollContainerRef:e,serverRender:y,...O}),U,B.length>0&&(0,P.jsx)(l.Z,{cacheKey:`${E}_afterBreak`,items:B,scrollContainerRef:e,...O})]})})})}):p.isLoadingNext?(0,P.jsx)(F.gG,{}):null!=t?t:null,p.isLoadingNext&&"board"===f&&N&&(0,P.jsx)(o.$j,{accessibilityLabel:b._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})]}),M&&(0,P.jsx)(o.xu,{column:12,paddingY:2,children:(0,P.jsx)(z.Z,{partialViewportWidth:K})}),v&&(0,P.jsx)(D,{homefeedLoading:p.isLoadingNext,gridContainerRef:this.gridContainerRef})]})]})}}function fe({feedItems:e,pagination:t,...n}){const{feedItemsAdjustment:i}=n,o=(0,r.useLocation)(),l=(0,m.ZP)(),s=(0,c.ZP)(),{isAuthenticated:d,isBot:p}=(0,u.B)(),{isBizNuxHomefeedLoadShown:h}=(0,a.useSelector)((({session:e})=>e));let _=e;return"breakIn"===(null==i?void 0:i.type)?_=(0,R.N)({items:e,breakIn:i.value}):"offset"===(null==i?void 0:i.type)&&(_=e.slice(i.value)),(0,P.jsx)(ve,{...n,deviceType:l,feedItems:_,isAuthenticated:d,pagination:t,location:o,i18n:s,showBizNuxHomefeedLoader:!!h,showSeoMetadata:p||!d})}function xe({resource:{isAtEnd:e,isFetching:t,fetchMore:n,refresh:i},...r}){const o=(0,a.useSelector)((({feeds:e})=>{var t;return null!==(t=e[r.feedKey])&&void 0!==t?t:[]}));return(0,P.jsx)(fe,{...r,feedItems:o,pagination:{hasNext:!e,isLoadingNext:t,loadNext:()=>n(),refetch:()=>i()}})}function be({resourceConfig:e,...t}){const n=(0,p.Z)(e);return(0,P.jsx)(xe,{...t,resource:n})}},41669:(e,t,n)=>{n.d(t,{Z:()=>P});var i=n(883119),a=n(563962),r=n(536042),o=n(245410),l=n(599226),s=n(98736),c=n(618569),d=n(63262),u=n(549201),p=n(272109),h=n(802071),m=n(230910),_=n(198060),g=n(471819),y=n(525104),v=n(712968),f=n(820166),x=n(618671),b=n(785893);const w=({children:e,pulsar:t,testId:n})=>t.show?(0,b.jsx)(i.xu,{position:"relative","data-test-id":n,children:(0,b.jsxs)(i.iP,{tapStyle:"none",onTap:t.onClick,children:[(0,b.jsx)(i.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,b.jsx)(i.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,b.jsx)(i.o3,{})})]})}):(0,b.jsx)(i.xu,{"data-test-id":n,children:e});function P({auxData:e,disabled:t,disableLog:n,followEventType:P,id:S,inline:T,invertColors:I,isFollowed:A,isIdeaPin:k,isLegoEnabled:E,isSecondaryButton:C,isUserFollowButton:j,isUserMe:D,onFollow:R,onUnfollow:F,pinId:L,shouldUseLegoColors:O,showPulsar:z,size:M,textType:N="FollowFollowing",unfollowEventType:Z,viewParameter:U,viewType:B,clientTrackingParams:K}){const H=(0,r.ZP)(),G=(0,u.HG)(),{showToast:W}=(0,d.F9)(),$=(0,c.Z)(),V=(0,a.Z)(),q=(0,l.Z)(),{checkExperiment:Y}=(0,o.F)(),X=(0,g.Z)(),J=(0,h.Z)(),Q=J&&J.isAuth,{unauthFollowUserId:ee,setUnauthFollowUserId:te}=(0,x.f)(),ne=(0,v.mN)()(S),ie=(0,y.S6)()(null!=L?L:""),{link_domain:ae,native_creator:re,origin_pinner:oe,pinner:le}=ie||{},se=(0,m.wS)(ae,re,oe,le),ce=null!=ne?ne:se;(0,p.Z)((()=>{!G&&Q&&ee&&S&&ee===S&&R(S)}));const de=X({fn:()=>{Q?A?(F(S),n||V({event_type:Z,view_type:B,view_parameter:U,object_id_str:S,aux_data:e,clientTrackingParams:K})):(R(S),j&&W((({hideToast:e})=>{if(!ce)return null;const t=ce.username?`/${ce.username}/`:"";return(0,b.jsx)(f.Z,{handleHide:e,text:H._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow'),userId:S,href:t,imageUrl:ce.image_medium_url})})),n||V({event_type:P,view_type:B,view_parameter:U,object_id_str:S,aux_data:e,clientTrackingParams:K})):((0,s.My)(`mweb_unauth_follow_button.tap.${String(B)}`),5===B&&26===P&&(0,s.My)("mweb_unauth_board_page_follow_button.tap"),(0,s.NC)(A?"press_profile_unfollow":"press_profile_follow"),$({action:"click",item:"board-follow-button"}),q({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:k?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:G&&Y("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!G&&Y("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),G||te(null!=S?S:""),(0,s.NC)("clickthrough"))},modalHeader:(0,_.N4)({i18n:H,toFollow:!A})}),ue=!A&&!!z,pe=()=>{if(D)return H._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===N)return A?H._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):H._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');const e="FollowUnfollow"===N?H._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):H._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return A?e:H._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,b.jsx)(w,{pulsar:ue?{show:!0,onClick:de}:{show:!1},testId:D||A?"board-unfollow-button":"board-follow-button",children:(0,b.jsx)(i.zx,{color:O||"AddRemove"===N||!E&&C||A?"gray":"red",disabled:D||t,fullWidth:T,onClick:ue?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),n||V({event_type:101,component:13672,element:11951,object_id_str:S,view_type:B,view_parameter:U,aux_data:e,clientTrackingParams:K}),de()},selected:I?!A:O&&A||!!A&&C,size:M,text:pe(),accessibilityLabel:pe()})})}},475190:(e,t,n)=>{n.d(t,{HW:()=>o,YW:()=>u,i3:()=>p,o2:()=>d});var i=n(667294),a=n(583592),r=n(785893);const o=660,l={educationId:null,paddingRight:0,zIndex:o};function s(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":const{educationId:n}=t.payload;return{...e,educationId:n};case"FOOTER_SET_PADDING_RIGHT":const{paddingRight:i}=t.payload;return{...e,paddingRight:i};case"FOOTER_SET_Z_INDEX":const{zIndex:a}=t.payload;return{...e,zIndex:a};default:return e}}const{Provider:c,Consumer:d,useHook:u}=(0,a.Z)("footerContext");function p({children:e}){const[t,n]=(0,i.useReducer)(s,l),a=(0,i.useCallback)((e=>n({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}})),[]),o=(0,i.useCallback)((e=>n({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}})),[]),d=(0,i.useCallback)((e=>n({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}})),[]),u=(0,i.useMemo)((()=>({...t,setEducationId:o,setPaddingRight:a,setZIndex:d})),[t,o,a,d]);return(0,r.jsx)(c,{value:u,children:e})}},818577:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(785893);function r({text:e}){return(0,a.jsx)(i.xu,{display:"visuallyHidden",children:(0,a.jsx)(i.X6,{accessibilityLevel:1,children:e})})}},162664:(e,t,n)=>{n.d(t,{c:()=>a,t:()=>r});var i=n(435399);function a({children:e}){const{height:t}=(0,i.J)();return e(t)}function r(){const{height:e}=(0,i.J)();return e}},435399:(e,t,n)=>{n.d(t,{J:()=>c,Z:()=>h});var i=n(667294),a=n(583592),r=n(515640),o=n(589665),l=n(785893);const{Provider:s,useHook:c}=(0,a.Z)("Header"),d={childList:!0,attributes:!0,subtree:!0},u={height:o.cI,isInBiznuxFullscreen:!1,repinPinId:null,repinStartAnimation:!1,showAccountMenuFlyout:!1};function p(e,t){switch(t.type){case"showAccountMenuFlyout":return{...e,showAccountMenuFlyout:!0};case"hideAccountMenuFlyout":return{...e,showAccountMenuFlyout:!1};case"showRepinAnimation":return{...e,repinStartAnimation:!0,repinPinId:t.payload};case"hideRepinAnimation":return{...e,repinStartAnimation:!1,repinPinId:null};case"updateHeight":return{...e,height:t.payload};case"updateIsInBiznuxFullscreen":return{...e,isInBiznuxFullscreen:t.payload};default:throw new Error("action type not supported")}}function h({children:e}){const t=(0,i.useRef)(null),[{height:n,isInBiznuxFullscreen:a,repinPinId:c,repinStartAnimation:h,showAccountMenuFlyout:m},_]=(0,i.useReducer)(p,u);(0,i.useEffect)((()=>{const e=document.getElementById(o.WZ),n=()=>{e&&_({type:"updateHeight",payload:e.clientHeight})};return e&&"undefined"!=typeof MutationObserver&&(t.current=new MutationObserver(n),t.current.observe(e,d)),()=>{var e;null===(e=t.current)||void 0===e||e.disconnect()}}));const g=(0,i.useMemo)((()=>({height:n,isInBiznuxFullscreen:a,repinPinId:c,repinStartAnimation:h,showAccountMenuFlyout:m,updateHeaderState:_})),[_,n,a,c,h,m]);return(0,l.jsx)(s,{value:g,children:(0,l.jsx)(r.t,{children:e})})}},589665:(e,t,n)=>{n.d(t,{L1:()=>r,Rz:()=>s,WZ:()=>o,cI:()=>a,fe:()=>l,hu:()=>i});const i=64,a=80,r=22,o="HeaderContent",l=671,s={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},934211:(e,t,n)=>{n.d(t,{Hv:()=>d,WQ:()=>c});var i=n(667294),a=n(583592),r=n(223654),o=n(785893);const l=50,{Provider:s,useHook:c}=(0,a.Z)("HeaderShadow");function d({children:e}){const[t,n]=(0,i.useState)(!1),[a,c]=(0,i.useState)(0),[d,u]=(0,i.useState)(null);return(0,i.useEffect)((()=>{const e=(0,r.Z)((()=>{n(window.scrollY>0),c(window.scrollY)}),l);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),(0,o.jsx)(s,{value:{currentScrollPosition:a,isScrolled:t,setSubheaderShadow:u,subheaderShadow:d},children:e})}},367184:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),a=n(245410),r=n(616550),o=n(883119),l=n(388011),s=n(536042),c=n(785893);const d=24;function u({text:e,isSelected:t,icon:n,animationType:i,position:a,hasStartPulling:r,isExecuted:l}){return(0,c.jsxs)(o.xu,{display:"flex",direction:"column",alignItems:"center",marginBottom:6,children:[(0,c.jsx)(o.xu,{color:t?"dark":"secondary","data-test-id":"action-animated-icon",rounding:"circle",padding:r?4:0,dangerouslySetInlineStyle:t&&l?{__style:{transform:"rotate(360deg)",transition:"all .9s ease-out"}}:{__style:{transition:"all .3s ease-out",marginTop:t&&"move"===i?40:0}},children:(0,c.jsx)(o.JO,{size:100*a<d?100*a:d,icon:n,accessibilityLabel:e,color:t?"light":"dark"})}),(0,c.jsx)(o.xu,{padding:1,"data-test-id":"action-animated-text",dangerouslySetInlineStyle:{__style:{opacity:t?1:0,transition:"all .3s ease-out"}},children:(0,c.jsx)(o.xv,{align:"center",size:"100",children:e})})]})}const p=.5,h=250;function m({enabled:e,onSelect:t,refreshing:n}){const a=(0,i.useRef)(null),[r,o]=(0,i.useState)(0),[l,s]=(0,i.useState)(!1),c=n?0:r/h,d=c>0,u=()=>{s(!1),o(0)};(0,i.useEffect)((()=>{if(e){const e=e=>{window.scrollY<=0&&!n&&(a.current=e.touches[0].clientY)},i=e=>{if(a.current){const t=(e.touches[0].clientY-a.current)*p;t>0&&(o(t),e.preventDefault())}},l=()=>{a.current&&(s(!0),t({pullDistance:r,position:c,resetState:u}),a.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",i,{passive:!1}),window.addEventListener("touchend",l),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",i,{passive:!1}),window.removeEventListener("touchend",l)}}}),[e,t,r,n,c]);const m=a.current;return{pullDistance:r,hasStartPulling:d,position:c,startYRefCurrent:m,PULL_MENU_DISTANCE:h,isExecuted:l}}const _=500;function g({enabled:e,onPull:t,refreshing:n}){const i=(0,s.ZP)(),a=(0,r.useHistory)(),{logContextEvent:d}=(0,l.v)(),p=e=>e>=.6,h=e=>e>.4&&e<.6,{position:g,hasStartPulling:y,PULL_MENU_DISTANCE:v,isExecuted:f}=m({enabled:e,onSelect:e=>{const{position:n,resetState:i}=e;h(n)?setTimeout((()=>{d({view_type:1,event_type:158,view_parameter:92}),t(),i()}),_):p(n)?setTimeout((()=>{d({view_type:1,event_type:10144,view_parameter:92}),a.push("edit/"),i()}),_):i()},refreshing:n}),x=i._('Refresh', 'pullMenu.refresh', 'Pull down on grid to refresh items'),b=i._('Edit Feed', 'pullMenu.goTuner', 'Pull down on grid to edit your feed');return(0,c.jsx)(o.xu,{children:e&&(0,c.jsxs)(o.xu,{display:"flex",alignItems:"center",direction:"column",height:g*v,justifyContent:"center",marginBottom:y?4:0,children:[(0,c.jsx)(u,{text:b,isSelected:p(g),icon:"edit",animationType:"move",position:g,hasStartPulling:y,isExecuted:f}),(0,c.jsx)(u,{text:x,isSelected:h(g),icon:"refresh",position:g,hasStartPulling:y,isExecuted:f})]})})}const y=120;function v({enabled:e,onPull:t,refreshing:n}){const i=(0,s.ZP)(),{logContextEvent:a}=(0,l.v)(),{position:r,startYRefCurrent:d,pullDistance:u}=m({enabled:e,onSelect:e=>{const{pullDistance:n,resetState:i}=e;n>=y&&(a({view_type:1,event_type:158,view_parameter:92}),t()),i()},refreshing:n}),p=Math.min(r,1),h=i._('Pull to refresh', 'Pull down on grid to refresh items', 'Pull down on grid to refresh items');return(0,c.jsx)(o.xu,{children:e&&(0,c.jsx)(o.xu,{display:"flex",alignItems:"center",justifyContent:"center",height:r*y,dangerouslySetInlineStyle:{__style:{opacity:p,transition:null===d?"all .3s ease-out":void 0}},children:(0,c.jsx)(o.JO,{size:40,icon:d&&u<y?"arrow-circle-down":"arrow-circle-up",accessibilityLabel:h})})})}function f({enabled:e,onPull:t,refreshing:n}){const{checkExperiment:r}=(0,a.F)(),{anyEnabled:o}=r("hfp_drive_traffic_to_homefeed_tuner_mweb");return(0,c.jsx)(i.Fragment,{children:o?(0,c.jsx)(g,{enabled:e,onPull:t,refreshing:n}):(0,c.jsx)(v,{enabled:e,onPull:t,refreshing:n})})}},328939:(e,t,n)=>{n.d(t,{fv:()=>_,Hs:()=>y,Mv:()=>h,uc:()=>m,dL:()=>p,qS:()=>g,Y4:()=>x,HE:()=>f,Cy:()=>v});var i=n(667294),a=n(973935),r=n(388011),o=n(906215),l=n(785893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),s(this,"observe",(()=>{try{if(this.node=(0,a.findDOMNode)(this),this.node instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=this.props.eventData;o.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||t||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),s(this,"logImpression",(e=>{this.props.logImpression({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}})}))}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&o.Z.stop(this.node)}render(){return i.Children.only(this.props.children)}}function d(e){const{logImpression:t}=(0,r.v)();return(0,l.jsx)(c,{...e,logImpression:t})}function u({auxData:e,component:t,eventData:n,eventType:a,impressionType:l,isPaused:s,objectIdStr:c,viewData:d,viewType:u,viewParameter:p}){const h=(0,i.useRef)(null),{logImpression:m}=(0,r.v)(),_=(0,i.useCallback)((()=>{const i=i=>{var r,o,s,_;m({viewData:d||{},viewType:u,viewParameter:p,eventType:a,impressionType:l,auxData:e,component:t,objectIdStr:c,eventData:{endTime:i.endTime,time:i.startTime,pinCellWidth:(null===(r=h.current)||void 0===r?void 0:r.getBoundingClientRect().width)||0,pinCellHeight:(null===(o=h.current)||void 0===o?void 0:o.getBoundingClientRect().height)||0,windowWidth:null===(s=window)||void 0===s?void 0:s.innerWidth,windowHeight:null===(_=window)||void 0===_?void 0:_.innerHeight,...n}})};try{if(h.current instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=n;o.Z.start(h.current).onExitViewport(i).setDebugId(e||t||"unknown")}}catch(r){window.console.error('Can only track impressions for type "HTMLElement"')}}),[h.current]);return(0,i.useEffect)((()=>{s||_();const{current:e}=h;return()=>{e instanceof HTMLElement&&o.Z.stop(e)}}),[s,_]),h}const p=e=>{const t=u({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},h=e=>{const t=u({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},m=e=>{const t=u({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:t})},_=e=>(0,l.jsx)(d,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),g=e=>{const t=u({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},y=e=>(0,l.jsx)(d,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),v=e=>{const t=u({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},f=e=>{const t=u({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},x=e=>{const t=u({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},460914:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(785893);function r({children:e,onMouseEnter:t,onMouseLeave:n,onTouch:r,rounding:o,fullWidth:l=!1,pressState:s="none",accessibilityLabel:c,role:d}){const u=(Array.isArray(s)?s:[s]).includes("compress");return(0,a.jsx)(i.iP,{fullWidth:l,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:r&&(({event:e})=>r(e)),rounding:o,tapStyle:u?"compress":"none",accessibilityLabel:c,role:d,children:e})}},397831:(e,t,n)=>{n.d(t,{C:()=>s,f:()=>l});var i=n(667294),a=n(583592),r=n(785893);const{Provider:o,useHook:l}=(0,a.Z)("MostRecentPin");function s({children:e}){const[t,n]=(0,i.useState)(),[a,l]=(0,i.useState)(),s=(0,i.useCallback)((e=>{const t=a?a.slice(0,10):[],n=[e].concat(t.filter((t=>t!==e)));l(n)}),[a]),c=(0,i.useMemo)((()=>({id:t,plpImageSignatures:a,setMostRecentPinId:n,setMostRecentPinImage:s})),[t,a,s]);return(0,r.jsx)(o,{value:c,children:e})}},360675:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(558533);const r=new i.H3([a.Z])},199999:(e,t,n)=>{n.d(t,{D:()=>a,a:()=>r});var i=n(583592);const{Provider:a,useMaybeHook:r}=(0,i.Z)("unauthPageWrapperContext")},684274:(e,t,n)=>{n.d(t,{Z:()=>he});var i=n(667294),a=n(167912),r=n(616550),o=n(883119),l=n(117651),s=n(781493),c=n(448709),d=n(536042),u=n(988014),p=n(898252),h=n(176172),m=n(245410),_=n(282802),g=n(98736),y=n(618569),v=n(348672),f=n(549201),x=n(702664),b=n(563962),w=n(550140),P=n(63262),S=n(739425),T=n(272109),I=n(994405),A=n(169492),k=n(624524),E=n(471819),C=n(527386),j=n(724097),D=n(843843),R=n(922204),F=n(260070),L=n(712968),O=n(648575),z=n(252315),M=n(785893);const N=new o.Ry(1);function Z({buttonText:e,clientTrackingParams:t,color:n="primary",deeplinkUri:a,experience:l,inline:s=!0,minWidth:c,onTouch:u,onUnsave:p,pinId:h,pinnedToBoardId:m,shape:_,shouldShowSavedButton:g,viewType:v,viewParameter:f,showSaveHandoffExperience:P}){var S;const T=(0,d.ZP)(),I=(0,x.useDispatch)(),A=(0,r.useHistory)(),Z=(0,r.useLocation)(),U=(0,z.M)(),B=Z.pathname.startsWith("/pin"),K=(0,x.useSelector)((({session:e})=>e.hasSavedUnauthPin)),H=(0,x.useSelector)((({session:e})=>e.unauthSavePinId)),G=null===(S=(0,L.Tt)())||void 0===S?void 0:S.pin_count,W=(0,b.Z)(),$=(0,y.Z)(),V=e=>A.push(e),{showToast:q,showRepinConfirmation:Y}=(0,R.Z)(),X=()=>{var e;I((0,O.Z)({history:A,i18n:T,logContextEvent:W,onSuccess:()=>{l&&I((0,C.CK)(l.placement_id,l.experience_id))},originalPinId:h,pinId:h,trackingParams:{clientTrackingParams:t,pinnedToBoardId:m},showRepinConfirmation:P&&!B?()=>{}:Y,disableRepinAnimation:H===h,pinCount:G,historyPush:V,savePinId:null!==(e=null==U?void 0:U.save)&&void 0!==e?e:()=>{}})).catch((e=>q((({hideToast:t})=>(0,M.jsx)(w.ZP,{type:"error",text:e.message||T._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),onHide:t})))))},J=(0,i.useRef)(null),Q=P&&!K,ee=(0,E.Z)()({fn:e=>{e.stopPropagation(),e.preventDefault(),u&&u(e),g?g&&p&&p():X()},modalHeader:(0,k.Bx)(T)});(0,i.useEffect)((()=>{Q&&!J.current&&($({action:"trigger",item:"unauth-save-button-quicksave"}),W({event_type:14581}),X(),I((0,F.e2)())),J.current=Q}));const te=()=>T._('Pin', 'quickSave.quickSaveButton.icon.accessibilityLabel', 'Pin accessibility label'),ne=()=>e||T._('Save', 'quickSave.quickSaveButton.buttonText', 'Auth mobile web save button for pin closeup');return K&&!B?null:(0,M.jsx)(o.xu,{"data-test-id":"save-button-mobile",zIndex:N,children:a?(0,M.jsx)(D.di,{accessibilityLabel:te(),color:n,customStyles:{padding:"14px 16px"},deeplinkUri:a,inline:s,minHeight:48,minWidth:c,onTouch:ee,pressState:["compress","background"],shape:_,size:"lg",text:ne(),to:A.location.pathname,upsellType:"save",viewType:v,viewParameter:f}):(0,M.jsx)(j.Z,{accessibilityLabel:te(),color:n,customStyles:{padding:"14px 16px"},inline:s,minHeight:48,minWidth:c,onTouch:ee,pressState:"compress",shape:_,size:"300",text:ne()})})}var U=n(86829),B=n(540459),K=n(77875);function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class G extends i.PureComponent{constructor(...e){var t;super(...e),t=this,H(this,"state",{saveState:void 0}),H(this,"legoFixedZIndex",new o.Ry(2)),H(this,"onAddPin",(async function(){const{clientTrackingParams:e,dispatch:n,i18n:i,oneTapSave:a,pinId:r,pinnedToBoardId:o,showToast:l,viewType:s,historyPush:c,repinContext:d}=t.props;try{var u;const i=await n((0,K.w)({i18n:t.props.i18n,logContextEvent:t.props.logContextEvent,originalPinId:r,pinId:r,boardId:null==a?void 0:a.boardId,isOneTapSave:!0,onUndo:()=>{t.onDeletePin()},section:null==a?void 0:a.section,showToast:l,trackingParams:{clientTrackingParams:e,pinnedToBoardId:o},viewType:s,historyPush:c,savePinId:null!==(u=null==d?void 0:d.save)&&void 0!==u?u:()=>{}}));t.setState({saveState:"saved"}),n((0,U.a)({boardId:null==a?void 0:a.boardId,localPinId:i.id,pinId:r}))}catch(p){l((({hideToast:e})=>(0,M.jsx)(w.ZP,{type:"error",text:p.message||i._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),onHide:e}))),t.setState({saveState:void 0})}})),H(this,"onDeletePin",(async function(){const{dispatch:e,clientTrackingParams:n,i18n:i,pinId:a,savedInfo:r,showToast:o,repinContext:l}=t.props;if(r){e((0,U.k)({boardId:r.boardId,localPinId:r.localPinId,pinId:a})),null==l||l.unsave(a);try{await e((0,B.q)({pinId:r.localPinId,boardId:r.boardId,clientTrackingParams:n})),o((({hideToast:e})=>(0,M.jsx)(w.ZP,{text:i._('Pin deleted!', 'User deleted their pin', 'User deleted their pin'),onHide:e}))),t.setState({saveState:void 0})}catch(s){o((({hideToast:e})=>(0,M.jsx)(w.ZP,{type:"error",text:i._('Sorry! There was an error deleting your Pin.', 'Error when user tried to delete pin', 'Error when user tried to delete pin'),onHide:e}))),t.setState({saveState:"saved"})}}})),H(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();const{saveState:t}=this.state,{history:n,pinId:i,isOneTapExploreLocalTab:a,pinnedToBoard:r}=this.props;["saving","deleting"].includes(t)||a&&r||(t||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),a?n.push({pathname:`/pin/${i}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,k.Bx)(this.props.i18n)})),H(this,"shouldDisplayAsSaved",(({isOneTapExploreLocalTab:e,pinnedToBoard:t,savedInfo:n})=>e?!!t:!!n))}render(){const{checkExperiment:e,children:t,clientTrackingParams:n,homepageExperience:a,i18n:r,isBoardIdeas:l,isOneTapExploreLocalTab:s,isRTL:c,oneTapSave:d,pinId:u,pinnedToBoard:p,pinnedToBoardId:h,savedInfo:m,shouldShowSaveHandoffExp:_,useSmallSaveIcon:g}=this.props;if(!d&&!s&&!_)return t;const y=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:!!s,pinnedToBoard:p,savedInfo:m}),v="#000",f="rgba(255, 255, 255, 0.8)",x="light",b="dark",{group:w}=l?e("mweb_align_save_icon"):{},P=w&&w.includes("label"),S=w&&w.includes("all_surfaces");return(0,M.jsxs)(i.Fragment,{children:[t,(0,M.jsx)(o.xu,{bottom:!0,left:c,padding:2,position:"absolute",right:!c,zIndex:this.legoFixedZIndex,children:_?(0,M.jsx)(Z,{buttonText:p?r._('Saved', 'OneTapSave.QuickSaveButton.Saved', 'Message on saved pin'):"",clientTrackingParams:n,color:p?"default":"primary",deeplinkUri:"deeplinkUri",experience:a,inline:!0,pinnedToBoardId:h,minWidth:54,pinId:u,shape:"pill",shouldShowSavedButton:!!p,showSaveHandoffExperience:_}):(0,M.jsx)(o.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,M.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:y?v:f}},paddingX:P?3:2,paddingY:2,rounding:P?"pill":"circle",children:(0,M.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:[P&&(y?(0,M.jsx)(o.xv,{weight:"bold",color:"light",children:r._('Saved', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is saved')}):(0,M.jsx)(o.xv,{weight:"bold",color:"dark",children:r._('Save', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is unsaved')})),!P&&(0,M.jsx)(o.JO,{accessibilityLabel:y?r._('saved', 'checkmark icon to show pin has been saved', 'checkmark icon to show pin has been saved'):r._('save', 'button for saving quickly with one click', 'button for saving quickly with one click'),icon:y?"check":(()=>{if(w&&S){if(w.includes("pin"))return"angled-pin";if(w.includes("bookmark"))return"save-outline"}return"add"})(),color:y?x:b,size:g||S?16:24})]})})})})]})}}function W(e){const{showToast:t}=(0,P.F9)(),n=(0,r.useLocation)(),a=(0,d.ZP)(),o=(0,b.Z)(),l=(0,E.Z)(),s=(0,x.useDispatch)(),c=(0,r.useHistory)(),{isRTL:u,isAuthenticated:p}=(0,_.B)(),h=(0,z.M)(),y=(0,x.useSelector)((({session:e})=>e.unauthSavePinId)),v=p&&!!y&&y===e.pinId,{pins:w,clear:k}=(0,A.Z)(),C=(0,i.useRef)(!1),j=(0,S.mB)(n.search).ideas_referrer,D=(0,f.HG)(),{checkExperiment:R}=(0,m.F)(),F=(0,I.J1)(),L=!D&&j===String(25),N=e=>c.push(e),Z=(0,x.useSelector)((t=>t.pins[e.pinId]&&t.pins[e.pinId].savedInfo)),U=(0,x.useSelector)((t=>t.pins[e.pinId]&&t.pins[e.pinId].pinned_to_board)),B=(0,x.useSelector)((e=>e.experiences[40001]));return(0,T.Z)((()=>{p&&!C.current&&w.length>0&&(C.current=!0,o({event_type:14577,aux_data:{num_unauth_saved_pins:w.length}}),[...w,...y&&R(F).anyEnabled?[{id:y}]:[]].forEach((({id:t})=>{var n;s((0,O.Z)({history:c,i18n:a,logContextEvent:o,onSuccess:()=>{},originalPinId:t,pinId:t,trackingParams:{clientTrackingParams:e.clientTrackingParams,pinnedToBoardId:e.pinnedToBoardId},showRepinConfirmation:()=>{},disableRepinAnimation:!0,historyPush:N,savePinId:null!==(n=null==h?void 0:h.save)&&void 0!==n?n:()=>{}})).catch((e=>{(0,g.My)(`error.unauth_profile_pin_merge.${e}`)}))})),k())})),(0,M.jsx)(G,{...e,checkExperiment:R,i18n:a,requireAuthForLimitedLogin:l,history:c,logContextEvent:o,showToast:t,shouldShowSaveHandoffExp:v,isRTL:u,historyPush:N,useSmallSaveIcon:L,repinContext:h,savedInfo:Z,pinnedToBoard:U,homepageExperience:B,dispatch:s})}W.displayName="OneTapSave";const $=W;var V=n(630089),q=n(371362);function Y({boardUrl:e,boardName:t,isQuicksave:n,sectionName:i,sectionSlug:a}){const l=(0,d.ZP)(),s=(0,r.useHistory)(),c=new o.Ry(1),u=!!a&&`${e}${a}/`;return(0,M.jsx)(o.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:c,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,M.jsx)(o.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:4,children:(0,M.jsx)(o.iP,{onTap:t=>{t.event.preventDefault(),s.push(n?"/me/":u||e)},children:(0,M.jsx)(o.xv,{color:"light",children:i?(0,V.nk)(l._('Saved to {{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay'),{sectionName:(0,M.jsx)(o.xv,{color:"light",weight:"bold",inline:!0,children:(0,q.ZP)(i,22)},`pincard-${i}`)}):(0,V.nk)(l._('Saved to {{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay'),{boardName:(0,M.jsx)(o.xv,{color:"light",weight:"bold",inline:!0,children:n?l._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,q.ZP)(t,22)},`pincard-${t}`)})})})})})}var X=n(402833),J=n(391670),Q=n(51536);const ee=({clickLoggingOptions:e,domain:t,link:n,onClick:i})=>{var a;const r=null===(a=(0,J.lO)())||void 0===a?void 0:a.logging,l=(0,d.ZP)(),s=(0,b.Z)(),c=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:{}}].map((t=>({component:0,element:162,view_type:null==r?void 0:r.viewType,view_parameter:null==r?void 0:r.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...t})));return(0,M.jsx)(o.iP,{onTap:({event:e})=>{e.stopPropagation(),c().forEach((e=>s(e))),i(e)},children:(0,M.jsxs)(o.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,M.jsx)(o.xu,{marginEnd:1,children:(0,M.jsx)(o.JO,{size:9,icon:"arrow-up-right",color:"light",accessibilityLabel:l._('Link', 'unauth.pin.domain.link', 'Link to take them to the source of the iamge')})}),(0,M.jsx)("a",{href:n,onClick:e=>{e.stopPropagation(),c().forEach((e=>s(e))),i(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,M.jsx)(o.xv,{size:"200",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,Q.Z)(t,27)})})]})})},te=({domainLinkData:e})=>{const t=(0,d.ZP)(),n=(0,X.g)();return(0,M.jsxs)(o.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,M.jsx)(o.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,M.jsx)(o.X6,{size:"400",align:"center",color:"light",children:t._('Open', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.')})}),!!e&&(0,M.jsx)(o.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,M.jsx)(ee,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==n?void 0:n.pinLinkClickHandler)||(()=>{})})})]})};var ne,ie=n(698303),ae=n(107877),re=n(525104),oe=n(935340),le=n(738162);const se=void 0!==ne?ne:ne=n(182964),ce=({width:e,height:t,minY:n,maxY:i})=>{const a=t=>e<=0||!t?"0%":Math.round(t/e*100)+"%";return{top:n<=0?"0%":a(-1*n*t),bottom:i>=1?"0%":a(-1*(1-i)*t)}},de=({children:e,margin:t,disableRounding:n})=>(0,M.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:t?{marginTop:t.top,marginBottom:t.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,M.jsx)(o.zd,{wash:!0,rounding:n?0:h.mv,children:e})}),ue=({clientTrackingParams:e,color:t,data:n,description:a,domainLinkData:c,image:h,imageAltText:x,imageCrop:b,isBoardIdeas:w,isOneTapExploreLocalTab:P,isSquarePin:S,lazyLoadImage:T,onError:I,oneTapSave:A,onLoad:k,pinId:E,priorityFetchImage:C,disableDefaultContextMenu:j,pinnedToBoardId:D,productPrice:R,disableRounding:F,storyDataExists:L,title:O,type:N,videoDuration:Z,viewType:U,slotIndex:B})=>{var K,H,G,W,V,q,X,J,Q,ee,ne,ae;const re=(0,d.ZP)(),se=(0,v.Z)(),{checkExperiment:ue}=(0,m.F)(),[pe,he]=(0,i.useState)(!1),{isAuthenticated:me}=(0,_.B)(),_e=(0,f.ZP)(),ge="desktop"===_e,ye=(0,z.M)(),ve=D&&!(null==ye||!ye.isSaved(E)),fe=c&&c.link?"with-link":"without-link",xe=!me&&!ge,be=(0,i.useRef)(Date.now()),we=(0,i.useRef)(null),Pe=(0,y.Z)(),{shouldOpenInStream:Se}=n,Te=(0,le.I)();(0,i.useEffect)((()=>{pe&&!me&&Pe({action:"view",item:"unauth-video-autoplay-on-hover"})}),[pe,Pe,me]),(0,i.useEffect)((()=>{var e,t;const n="board-image-preload-"+(B-1),i=null!==(e=null===(t=document.getElementById(n))||void 0===t?void 0:t.getAttribute("href"))&&void 0!==e?e:"";Te&&5===U&&i&&(0,oe.nP)("www.blp.preloadImageCheck",{sampleRate:5,tags:{isAuthenticated:me,deviceType:_e,isEqual:i===h.url}})}),[]);const Ie=(0,M.jsx)(s.Z,{alt:x||O||a||"",color:t,naturalHeight:null!==(K=h.height)&&void 0!==K?K:1,naturalWidth:null!==(H=h.width)&&void 0!==H?H:1,onError:I,onLoad:k,src:null!==(G=h.url)&&void 0!==G?G:"",fit:S?"cover":void 0,loading:T?"lazy":"auto",fetchPriority:C?"high":"auto"}),Ae=(0,r.useLocation)(),ke=()=>(0,u.C$)(Ae)?"homefeed":(0,u.L6)(Ae)?"related_pins":(0,u.En)(Ae)?"search":"unknown";return(0,M.jsx)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:(0,M.jsxs)(o.xu,{onContextMenu:e=>{if("desktop"!==_e){const t=ke();(0,g.My)((me?"auth":"unauth")+".mweb_pin_feed.pin_image.long_press",{page:t}),me||(e.preventDefault(),e.stopPropagation())}},onTouchStart:e=>{if("desktop"!==_e&&((0,g.My)("unauth.mweb.related_pin.image.touch.start"),!me&&(null==j||j(),be.current=Date.now(),e.changedTouches&&e.changedTouches.length>0))){const t=e.changedTouches.item(0);t&&(we.current={x:t.pageX,y:t.pageY})}},onTouchEnd:e=>{if("desktop"!==_e){const t=ke();if((0,g.My)("unauth.mweb.related_pin.image.touch.end"),Date.now()-be.current>500&&!me&&("related_pins"===t||ue("pcons_enable_context_menu_all_feeds").anyEnabled)){const t=we.current;if(e.changedTouches&&e.changedTouches.length>0&&t){const n=e.changedTouches.item(0);if(n&&Math.pow(n.pageX-t.x,2)+Math.pow(n.pageY-t.y,2)>100)return;null==j||j(),se({pinId:E,location:"related-pins-long-press"}),e.stopPropagation()}}}},"data-test-id":`pincard-${N}-${fe}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:xe||ue("prevent_open_on_hover").anyEnabled?void 0:()=>he(!0),onMouseLeave:xe?void 0:()=>he(!1),position:"relative",rounding:F?0:4,children:[(0,M.jsxs)($,{clientTrackingParams:e||"",oneTapSave:A,isBoardIdeas:w,isOneTapExploreLocalTab:P,pinId:E,pinnedToBoardId:D,viewType:U,children:[(()=>{if("gif"===N&&!ve)return(0,M.jsx)(ie.Z,{text:re._('GIF', 'pin.pinCard.gifIconIdentifier', 'pin type identifier for gifs')});if("video"===N&&Z&&!ve)return(0,M.jsx)(ie.Z,{text:Z});if("storyPin"===N&&L&&!ve&&!1!==Se){var e,t,i;const a=(null===(e=n.storyPinData)||void 0===e?void 0:e.pageCount)||0,r=(null===(t=n.storyPinData)||void 0===t?void 0:t.staticPageCount)||0,o=(null===(i=n.storyPinData)||void 0===i?void 0:i.totalVideoDuration)||0;if(o>0){const e=o+r*p.oN;return(0,M.jsx)(ie.Z,{text:(0,l.Z)(e)})}if("number"==typeof a&&a>0)return(0,M.jsx)(ie.Z,{icon:"idea-pin",text:a.toString()})}return"product"===N&&R?(0,M.jsx)(ie.Z,{text:R}):null})(),(0,M.jsx)(de,{disableRounding:F,margin:b?ce({width:null!==(W=h.width)&&void 0!==W?W:1,height:null!==(V=h.height)&&void 0!==V?V:1,minY:b.minY,maxY:b.maxY}):void 0,children:S?(0,M.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,M.jsx)(o.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:Ie})}):Ie})]}),pe&&!me&&(0,M.jsx)(te,{domainLinkData:c}),me&&ve&&(0,M.jsx)(Y,{boardName:null!==(q=null===(X=n.board)||void 0===X?void 0:X.name)&&void 0!==q?q:"",boardUrl:null!==(J=null===(Q=n.board)||void 0===Q?void 0:Q.url)&&void 0!==J?J:"",sectionName:null==A||null===(ee=A.section)||void 0===ee?void 0:ee.title,sectionSlug:null==A||null===(ne=A.section)||void 0===ne?void 0:ne.slug,isQuicksave:"quick_saves"===(null===(ae=n.board)||void 0===ae?void 0:ae.layout)})]})})},pe=(0,c.Z)({useGraphQLAdapter:e=>{const t=(0,a.useFragment)(se,e);return{pin:t,pinGraphqlRef:t}},useLegacyAdapter:({pinId:e,pinnedToBoardId:t})=>{var n;const i=(0,re.S6)()(e),a=(0,ae.gC)();if(!i)return null;const r=a(t||String(null===(n=i.board)||void 0===n?void 0:n.id));return{pin:{board:r&&{layout:r.layout,name:r.name,url:r.url},shouldOpenInStream:i.should_open_in_stream,storyPinData:i.story_pin_data&&{pageCount:i.story_pin_data.page_count,staticPageCount:i.story_pin_data.static_page_count,totalVideoDuration:i.story_pin_data.total_video_duration}},pinGraphqlRef:null}}}),he=e=>(0,M.jsx)(pe,{input:e.pinGraphqlRef?{enabled:!0,data:e.pinGraphqlRef}:{enabled:!1,data:{pinId:e.pinId,pinnedToBoardId:e.pinnedToBoardId}},children:({data:t})=>t&&(0,M.jsx)(ue,{...e,data:t.pin,pinGraphqlRef:t.pinGraphqlRef})})},392553:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Xe,pinRepPaddingInBoint:()=>Be});var i,a=n(667294),r=n(702664),o=n(167912),l=n(616550),s=n(883119),c=n(563962),d=n(117651),u=n(402833),p=n(604094),h=n(765456),m=n(94103),_=n(536042),g=n(630089),y=n(525571),v=n(958083),f=n(624417),x=n(740494),b=n(465991),w=n(245410),P=n(950695),S=n(895200),T=n(282802),I=n(643183),A=n(446077),k=n(846226),E=n(98736),C=n(618569),j=n(938818),D=n(549201),R=n(272109),F=n(873610),L=n(768865),O=n(843843),z=n(328939),M=n(480462),N=n(348597),Z=n(230910),U=n(836),B=n(261453),K=n(411224),H=n(493214),G=n(621699),W=n(988014),$=n(460914),V=n(107877),q=n(377234),Y=n(785893);const X=({data:{pinProduct:{maxPrice:e,minPrice:t,inStock:n,standardPrice:i,price:r},domain:o}})=>{const l=(0,_.ZP)(),{textColor:c,inStockColor:d}=(({isDarkMode:e,inStock:t})=>e?{textColor:"light",inStockColor:"light"}:{textColor:"dark",inStockColor:t?"dark":"subtle"})({isDarkMode:(0,q.Yc)(),inStock:n||!1});return(0,Y.jsxs)(a.Fragment,{children:[o&&(0,Y.jsx)(s.xv,{color:c,size:"100",children:o}),(0,Y.jsxs)(s.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:[t&&e?(0,Y.jsxs)(s.xv,{size:"100",color:d,weight:"bold",children:[t," - ",e]}):(0,Y.jsx)(s.xv,{size:"100",color:d,weight:"bold",children:i||r}),!n&&(0,Y.jsxs)(a.Fragment,{children:[(0,Y.jsx)(s.xu,{paddingX:1,children:(0,Y.jsx)(s.xv,{size:"100",color:d,weight:"bold",children:""})}),(0,Y.jsx)(s.xv,{size:"100",color:d,weight:"bold",children:l._('Out of stock', 'pinCard.priceLego.outOfStock', 'display if a product is out of stock')})]})]})]})},{usePinData:J}=(0,m.x0)(void 0!==i?i:i=n(788536),{useLegacyAdapter:e=>{var t,n;return e&&{linkDomain:e.link_domain&&{__typename:"Domain"},richMetadata:e.rich_metadata&&{recipe:e.rich_metadata.recipe&&{fromAggregatedData:e.rich_metadata.recipe.from_aggregated_data},products:(null!==(t=e.rich_metadata.products)&&void 0!==t?t:[]).map((e=>({name:e.name,offerSummary:e.offer_summary&&{inStock:e.offer_summary.in_stock,maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}})))},richSummary:e.rich_summary&&{siteName:e.rich_summary.site_name,products:(null!==(n=e.rich_summary.products)&&void 0!==n?n:[]).map((e=>({name:e.name,offerSummary:e.offer_summary&&{inStock:e.offer_summary.in_stock,maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}})))}}}});function Q(e){var t,n,i;const[a]=J(e.pinGraphqlRef?{graphqlRef:e.pinGraphqlRef}:e.pinId);if(!a)return null;const r=(0,Z.kb)({hasLinkDomain:!!a.linkDomain,richMetadata:a.richMetadata&&{recipe:a.richMetadata.recipe&&{fromAggregatedData:a.richMetadata.recipe.fromAggregatedData},products:(null!==(t=a.richMetadata.products)&&void 0!==t?t:[]).map((e=>({name:e.name,offerSummary:e.offerSummary})))},richSummary:a.richSummary&&{products:(null!==(n=a.richSummary.products)&&void 0!==n?n:[]).map((e=>({name:e.name,offerSummary:e.offerSummary})))}});return r&&r.price?(0,Y.jsx)(X,{data:{pinProduct:r,domain:null===(i=a.richSummary)||void 0===i?void 0:i.siteName}}):null}var ee,te=n(510336),ne=n(333741);const ie=void 0!==ee?ee:ee=n(991102),ae=(0,a.lazy)((()=>n.e(21326).then(n.bind(n,121326)))),re=({title:e})=>{const t=(0,D.HG)(),n=(0,C.Z)();return(0,Y.jsx)(k.Z,{id:"related-pins-title",children:(0,Y.jsx)(s.iP,{onTap:()=>{n({action:"click",item:"related-pins-title"})},children:(0,Y.jsx)(H.Z,{size:t?"300":"100",weight:"bold",lineClamp:2,children:e})})})},oe=({credits:e,data:t,hasAffiliatedProducts:n,hidePinMetadata:i,isPromotedPin:r,isSponsoredPin:o,logCreditsClick:c,marginTop:d,pinDescription:u,pinGraphqlRef:h,pinId:m,pinnedToBoardId:g,pinReactionCounts:y,recipeReview:v,shouldShowReactions:f,showPriceIndicatorInPinCardDetails:x,title:b,type:w})=>{var P,S,A,j,R,F,L,O,z;const M=(0,_.ZP)(),N=(0,l.useLocation)(),Z=(0,C.Z)(),{isAuthenticated:U}=(0,T.B)(),B=(0,D.HG)(),K=(0,l.useHistory)(),H=b||u||"oneTap"===w,{pinner:q}=t,X=(0,V.gC)()(g||String(null===(P=t.board)||void 0===P?void 0:P.entityId)),J=r&&(null===(S=t.promoter)||void 0===S?void 0:S.entityId)===(null===(A=t.nativeCreator)||void 0===A?void 0:A.entityId),ee=W.Q0?2:d||(H&&!i?1:0),ie=!x;return(0,Y.jsxs)(s.xu,{flex:"grow",children:[(0,Y.jsx)(s.xu,{display:"flex",marginTop:i?0:d||1,children:(0,Y.jsxs)(s.xu,{flex:"grow",children:[(o||n)&&!J&&(0,Y.jsx)(s.xu,{marginBottom:1,children:(0,Y.jsx)(s.xu,{flex:"grow",overflow:"hidden",children:(0,Y.jsx)(te.Z,{hasAffiliatedProducts:n,isPromoted:r,sponsorName:t.sponsorship?(0,Y.jsx)(s.xv,{inline:!0,size:"100",weight:"bold",children:null==e?void 0:e.subtitle}):void 0,sponsorshipStatus:null===(j=t.sponsorship)||void 0===j?void 0:j.status})})}),b&&(0,Y.jsx)(s.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:U&&!i&&(0,Y.jsx)(re,{title:b})}),B&&!U&&u&&!(0,W.$Y)(N)&&!(0,W.E0)(N)&&(0,Y.jsx)(s.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,Y.jsx)(s.iP,{onTap:()=>{Z({action:"click",item:"related-pins-description"})},children:(0,Y.jsx)(s.xv,{size:"100",inline:!0,children:u})})}),x&&(0,Y.jsx)(Q,{pinId:m,pinGraphqlRef:h}),v]})}),f&&y&&Object.keys(y).length>0&&(0,Y.jsx)(s.xu,{height:18,display:void 0,justifyContent:"center",children:(0,Y.jsx)(p.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,Y.jsx)(I.Z,{children:(0,Y.jsx)(ae,{pinReactionCounts:y})})})}),ie&&e?(0,Y.jsx)($.Z,{onTouch:t=>{t.stopPropagation(),t.preventDefault(),e.link&&K.push(e.link),c()},pressState:"none",children:(0,Y.jsx)(s.xu,{children:(!i||o||J)&&(0,Y.jsxs)(s.xu,{display:"flex",marginTop:ee,marginBottom:i?2:0,position:"relative",direction:"row",children:[(0,Y.jsx)(s.xu,{flex:"none",display:void 0,justifyContent:"center","data-test-id":"related-pins-avatar-image",children:(0,Y.jsx)(s.iP,{onTap:()=>{Z({action:"click",item:"related-pins-avatar-image"})},children:(0,Y.jsx)(G.Z,{accessibilityLabel:e.title||e.subtitle||M._('Creator\'s avatar', 'pinCardDetails.tapArea.avatar', 'The avatar of the creator of this pin.'),name:e.title||"",outline:!1,size:"sm",src:e.avatar||void 0})})}),(0,Y.jsx)(s.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:(0,Y.jsx)(s.iP,{onTap:()=>{Z({action:"click",item:"related-pins-name"})},children:(0,Y.jsxs)(a.Fragment,{children:[e.title&&(0,Y.jsx)(s.xv,{lineClamp:1,size:"100",weight:o&&!J||n?"normal":"bold",children:e.title===(null==q?void 0:q.fullName)&&(null!=q&&q.isVerifiedMerchant||null!=q&&null!==(R=q.verifiedIdentity)&&void 0!==R&&R.verified)?(0,Y.jsx)(ne.Z,{badgeSize:"sm",badgeSpacing:2,fullName:e.title,verifiedType:q.isVerifiedMerchant?"verifiedMerchant":"verifiedIdentity"}):e.title}),e.subtitle?(!o&&!i||J)&&(0,Y.jsx)(s.xv,{lineClamp:o||n?void 0:1,size:B?"200":"100",weight:B?"bold":"normal",children:e.subtitle}):!U&&X&&"protected"!==X.privacy?(0,Y.jsx)(k.Z,{id:"related-pin-text-below-name",children:(0,Y.jsx)(s.rU,{underline:"hover",href:null!==(F=X.url)&&void 0!==F?F:"",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,E.NC)("click_board_pin_attribution_profile"),Z({action:"click",item:"related-pin-text-below-name"})},children:(0,Y.jsx)(s.xv,{size:"200",children:X.name})})}):null]})})})]})})}):B&&!!q&&((0,W.L6)(N)||(0,W.cD)(N)||(0,W.$Y)(N))&&(0,Y.jsxs)(s.xu,{display:"flex",marginTop:H?2:0,children:[(0,Y.jsx)(s.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,Y.jsx)(s.iP,{onTap:()=>{Z({action:"click",item:"related-pins-avatar-image"})},children:(0,Y.jsx)(G.Z,{name:q.username||"",size:"sm",src:null!==(L=q.imageSmallUrl)&&void 0!==L?L:void 0})})}),(0,Y.jsxs)(s.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:[(0,Y.jsx)(s.rU,{underline:"hover",href:`/${q.username||""}/`,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,E.NC)("click_board_pin_attribution_board"),Z({action:"click",item:"related-pins-name"})},children:(0,Y.jsx)(s.xv,{size:"200",weight:"bold",children:q.fullName||q.username})}),X&&"protected"!==X.privacy?(0,Y.jsx)(k.Z,{id:"related-pin-text-below-name",children:(0,Y.jsx)(s.rU,{underline:"hover",href:null!==(O=X.url)&&void 0!==O?O:"",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,E.NC)("click_board_pin_attribution_profile"),Z({action:"click",item:"related-pin-text-below-name"})},children:(0,Y.jsx)(s.xv,{size:"200",children:null!==(z=X.name)&&void 0!==z?z:""})})}):null]})]})]})},{usePinData:le}=(0,m.x0)(ie,{useLegacyAdapter:e=>e&&{entityId:e.id,board:e.board&&{entityId:e.board.id},nativeCreator:e.native_creator&&{entityId:e.native_creator.id},pinner:e.pinner&&{fullName:e.pinner.full_name,imageSmallUrl:e.pinner.image_small_url,isVerifiedMerchant:e.pinner.is_verified_merchant,username:e.pinner.username,verifiedIdentity:e.pinner.verified_identity&&{verified:e.pinner.verified_identity.verified}},promoter:e.promoter&&{entityId:e.promoter.id},sponsorship:e.sponsorship&&{status:e.sponsorship.status}}}),se=e=>{const{pinId:t,pinGraphqlRef:n}=e,[i,a]=le(n?{graphqlRef:n}:t);return i&&(0,Y.jsx)(oe,{...e,data:i,pinGraphqlRef:a})};var ce,de=n(792953),ue=n(671915);const pe=void 0!==ce?ce:ce=n(441959),he=(e,t)=>{const{checkExperiment:n}=(0,w.F)();return n("graphql_migration_sharelink_sgrowth_web").anyEnabled?((e,t)=>{const n=(0,o.useRelayEnvironment)();return(0,Y.jsx)(ue.t,{invite_code:e,relayEnvironment:n,inviteQuery:pe,children:e=>{const n=null!=e&&e.data?e.data.sender:null,i=n&&n.first_name?n.first_name.substring(0,30):"";if(!i)return null;const a=n&&!n.is_default_image?n.image_medium_url:"",r=(0,g.nk)(t._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:i});return(0,Y.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,Y.jsx)(s.zd,{height:32,width:32,children:(0,Y.jsx)(G.Z,{name:i,src:a})}),(0,Y.jsx)(s.xu,{width:"80%",paddingY:2,children:(0,Y.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:r})})]})}})})(e,t):((e,t)=>(0,Y.jsx)(ue.Z,{invite_code:e,children:e=>{const n=e?e.sender:null,i=n&&n.first_name?n.first_name.substring(0,30):"";if(!i)return null;const a=n&&!n.is_default_image?n.image_medium_url:"",r=(0,g.nk)(t._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:i});return(0,Y.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,Y.jsx)(s.zd,{height:32,width:32,children:(0,Y.jsx)(G.Z,{name:i,src:a})}),(0,Y.jsx)(s.xu,{width:"80%",paddingY:2,children:(0,Y.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:r})})]})}}))(e,t)},me=({inviteCode:e})=>{const t=(0,_.ZP)();return(0,Y.jsx)(s.xu,{minHeight:82,children:(0,Y.jsx)(p.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,Y.jsx)(I.Z,{fallback:(0,Y.jsx)(de.Z,{accessibilityLabel:t._('Loading Invitation component', 'Loading InviteFetch component', 'loading InviteFetch component')}),children:he(e,t)})})})};var _e=n(684274),ge=n(649796);const ye={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:.8,transition:"opacity 1s ease"}},ve=(e,t,n)=>(0,Y.jsx)(s.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,Y.jsx)(s.rU,{display:"inlineBlock",href:t,tapStyle:"none",underline:"hover",children:n})},e);function fe({color:e,getFeedbackText:t,onUnfollow:n,showing:i,unfollowed:r}){const o=(0,_.ZP)(),[l,c]=(0,a.useState)(i?"fadeIn":"initial"),d=(0,a.useRef)(null);(0,a.useEffect)((()=>("initial"===l&&i&&(d.current=window.requestAnimationFrame((()=>c("fadeIn")))),()=>{d.current&&window.cancelAnimationFrame(d.current)})),[l,c,i]);const{subTitle:u,title:p,unfollow:h}=t(ve);let m=p,g=u;h&&r&&(m=h.title,g=h.subTitle);const y=()=>h?(0,ge.t)(h.action,h.actionOptions,n):void 0;return i&&(0,Y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...ye[l]}},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,Y.jsxs)(s.xu,{width:"100%",height:"100%",color:"dark",rounding:4,overflow:"auto",children:[(0,Y.jsxs)(s.xu,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,Y.jsxs)(s.xu,{children:[(0,Y.jsx)(s.X6,{size:"400",color:"light",children:m}),!!g&&(0,Y.jsxs)(s.xu,{marginTop:1,children:[(0,Y.jsx)(s.xv,{color:"light",size:"200",inline:!0,children:g}),(0,Y.jsx)(s.xv,{color:"light",inline:!0,size:"200",weight:"bold",children:(0,Y.jsx)(s.rU,{href:"/edit",display:"inlineBlock",rounding:2,tapStyle:"none",underline:"hover",children:o._('Tune your home feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})})]})]}),!r&&h&&(0,Y.jsx)(s.xu,{paddingY:1,children:(0,Y.jsx)(s.zx,{fullWidth:!0,color:"white",text:o._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:y})})]}),!r&&h&&(0,Y.jsx)(s.xu,{paddingY:1,children:(0,Y.jsx)(s.zx,{fullWidth:!0,color:"white",text:o._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:y})})]})})}var xe=n(187768),be=n(31407);function we({maxRating:e,rating:t,text:n}){return(0,Y.jsxs)(s.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,Y.jsx)(be.Z,{max_rating:e||"",rating:t||"",width:10}),n&&(0,Y.jsx)(a.Fragment,{children:(0,Y.jsx)(s.xu,{marginStart:1,overflow:"hidden",children:(0,Y.jsx)(s.xv,{size:"100",lineClamp:1,children:n})})})]})}var Pe,Se=n(190253),Te=n(141418);const Ie=void 0!==Pe?Pe:Pe=n(937711);function Ae({dedupeVisualAnnotations:e,description:t,gridTitle:n,pinId:i,richMetadataTitle:a,richSummaryDisplayName:r,storyPinDataId:l,storyPinDataMetadataPinTitle:c,title:d,queryRef:u}){const p=(0,o.useFragment)(Ie,u);return(0,Y.jsxs)(s.xu,{paddingX:2,marginBottom:-1,display:"flex",children:[(0,Y.jsx)(s.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,Y.jsx)(s.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,b.fs)({pinTitle:d,gridTitle:n,richSummaryDisplayName:r,richMetadataTitle:a,storyPinDataId:l,storyPinDataMetadataPinTitle:c})||t})}),(0,Y.jsx)(s.xu,{children:(0,Y.jsx)(Te.Z,{pinId:i,size:"sm",graphqlRef:p,dedupeVisualAnnotations:e})})]})}var ke,Ee=n(117918),Ce=n(204722),je=n(448709);const De=void 0!==ke?ke:ke=n(143453),Re=({attribute:e,deviceType:t,location:n})=>{const i=(0,C.S)(n);(0,E.My)("unauth.product_attribution.click",{item:e,page:i,device:t})},Fe=({isSquarePin:e,price:t,shouldDisplayMerchant:n})=>t&&e?n?90:68:void 0,Le=({maxPrice:e,minPrice:t,price:n})=>e&&t?`${t}-${e}`:n;function Oe({dedupeVisualAnnotations:e,description:t,domain:n,graphqlRef:i,gridTitle:r,isSquarePin:o,pinId:c,priceSummary:d,richMetadataTitle:u,richSummaryDisplayName:p,storyPinDataId:h,storyPinDataMetadataPinTitle:m,title:_}){const g=(0,D.ZP)(),y=(0,l.useLocation)(),v=d&&(d.price||d.standardPrice||Le(d)),f=(0,a.useMemo)((()=>o?2:v?3:2),[o,v]);if(!c)return null;const x=(0,b.fs)({pinTitle:_,gridTitle:r,richSummaryDisplayName:p,richMetadataTitle:u,storyPinDataId:h,storyPinDataMetadataPinTitle:m})||t,w=`/pin/${c}/`;return(0,Y.jsx)(s.xu,{paddingX:2,marginBottom:-1,marginTop:2,display:"flex",direction:"column",height:Fe({isSquarePin:o,price:v}),children:(0,Y.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,Y.jsx)(s.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,Y.jsxs)(O.MZ,{to:w,accessibilityLabel:x,deeplinkUri:w,children:[v&&(0,Y.jsx)(s.iP,{onTap:()=>Re({deviceType:g,attribute:"price",location:y}),children:(0,Y.jsx)(s.xv,{size:"100",weight:"bold",children:v})}),(0,Y.jsx)(s.xu,{marginTop:1,children:(0,Y.jsx)(s.iP,{onTap:()=>Re({deviceType:g,attribute:"title",location:y}),children:(0,Y.jsx)(s.xv,{size:"100",weight:"bold",lineClamp:f,children:x})})}),n&&v&&(0,Y.jsx)(s.xu,{marginTop:1,children:(0,Y.jsx)(s.iP,{onTap:()=>Re({deviceType:g,attribute:"merchant",location:y}),children:(0,Y.jsx)(s.xv,{size:"100",lineClamp:1,children:n})})})]})}),"desktop"!==g&&(0,Y.jsx)(s.xu,{children:(0,Y.jsx)(Te.Z,{dedupeVisualAnnotations:e,pinId:c,size:"sm",graphqlRef:i})})]})})}const ze=(0,je.Z)({useGraphQLAdapter:({queryRef:e})=>(0,o.useFragment)(De,e),useLegacyAdapter:()=>null});function Me({queryRef:e,...t}){return(0,Y.jsx)(ze,{input:e?{enabled:!0,data:{queryRef:e}}:{enabled:!1,data:{pinId:t.pinId}},children:({data:e})=>(0,Y.jsx)(Oe,{...t,graphqlRef:e})})}var Ne,Ze=n(197838);const Ue=void 0!==Ne?Ne:Ne=n(256468),Be=({isDesktop:e})=>e?0:1,Ke=e=>Boolean(e.promoter&&!e.isDownstreamPromotion),He=e=>{const{attribution:t,embed:n,isEligibleForWebCloseup:i,richSummary:a,videos:r,storyPinDataId:o}=e,l=n||(null==t?void 0:t.embed);return i?"oneTap":r||"video"===(null==l?void 0:l.type)?"video":"gif"===(null==l?void 0:l.type)?"gif":"product"===(null==a?void 0:a.typeName)?"product":"recipe"===(null==a?void 0:a.typeName)?"recipe":o?"storyPin":"image"},Ge=e=>{var t,n,i;const a=null===(t=e.videos)||void 0===t?void 0:t.videoList;return a?(0,d.Z)(null!==(n=null===(i=a[Object.keys(a)[0]])||void 0===i?void 0:i.duration)&&void 0!==n?n:0):""},We=e=>{var t;const[n]=(null===(t=e.richSummary)||void 0===t?void 0:t.products)||[];if(!n)return null;const{offerSummary:i}=n;return i&&(i.price||i.maxPrice)},$e=e=>e&&e.includes("/user/default")?void 0:e,Ve=(0,a.lazy)((()=>Promise.all([n.e(68138),n.e(98291),n.e(6508)]).then(n.bind(n,588619))));function qe({auxData:e,componentType:t,debugInfo:n,disableAppUpsell:i,disableReaction:o,disableRounding:d,duploConversationPin:m,duploDedupeVisualAnnotations:j,duploDisablePinCardPadding:H,duploFeedItemProps:G,duploIsSquarePin:W,duploLazyLoadImage:$,duploOneTapSave:V,duploPinCardDetailsMargin:q,duploPriorityFetchImage:X,duploQueryRef:J,duploShouldAddNiiSearchParamToImageUrls:Q,duploShouldAllowProductPriceIndicator:ee,feedback:te,imageOnlyOption:ne,impressionData:ie,objectIdStr:ae,pin:re,slotIndex:oe,topLevelTrafficSource:le,topLevelTrafficSourceDepth:ce,trackingParams:de,trafficSource:ue,viewData:pe,viewParameter:he,viewType:ge}){var ye,ve,be,Pe,Te,Ie,ke,je,De,Re,Fe,Le,Oe,ze,Ne,Ue;const qe=(0,_.ZP)(),Ye=(0,u.g)(),Xe=(0,l.useLocation)(),Je=(0,D.HG)(),Qe=(0,K.Z)(),et=(0,P.yz)(),tt=(0,h._)({id:1000107}),nt=(0,c.Z)(),it=(0,C.Z)(),{country:at,isAuthenticated:rt,isBot:ot,isSocialBot:lt}=(0,T.B)(),{viewedSharedPins:st}=(0,r.useSelector)((({session:e})=>e)),ct=(0,r.useSelector)((({experiences:e})=>{const t=e[1000107];return!!t&&500678===t.experience_id})),dt=(0,r.useSelector)((({session:e,users:t})=>(0,y.Z)(t[e.userId].created_at))),{getPinFeedbackStatus:ut,setPinFeedbackStatus:pt}=(0,xe.K)(),[ht,mt]=(0,a.useState)(!1),[_t,gt]=(0,a.useState)(!1),yt=(0,a.useRef)(),vt=re.entityId,ft=!!re.storyPinDataId&&!1===re.shouldOpenInStream,xt=e=>Q&&e?{...e,url:e.url&&(0,A.H5)(e.url)}:e,bt=xt(re.imageSpec_136x136),wt=xt(re.imageSpec_170x),Pt=xt(re.imageSpec_236x),St=xt(re.imageSpec_474x),Tt=xt(re.imageSpec_736x),It=xt(re.imageSpec_orig),At={...[["136x136",bt],["170x",wt],["236x",Pt],["474x",St],["736x",Tt],["orig",It]].reduce(((e,[t,n])=>{var i,a,r,o;return n?(e[t]={dominant_color:null!==(i=n.dominantColor)&&void 0!==i?i:void 0,height:null!==(a=n.height)&&void 0!==a?a:void 0,url:null!==(r=n.url)&&void 0!==r?r:void 0,width:null!==(o=n.width)&&void 0!==o?o:void 0},e):e}),{})},{checkExperiment:kt}=(0,w.F)(),Et=rt?kt("web_auth_exclude_original_images").anyEnabled:kt("web_unauth_exclude_original_images").anyEnabled,Ct=e=>{var t,n;return(0,f.Z)({embedSrc:null===(t=re.embed)||void 0===t?void 0:t.src,embedType:null===(n=re.embed)||void 0===n?void 0:n.type,images:At,preferredResolution:e,excludeOriginals:!ot&&!lt&&Et})},jt=He(re),Dt=(0,F.z)();(0,R.Z)((()=>{if(Dt&&!Je&&"image"===jt){const e=At["236x"]||At["136x136"],t=Ct("736x");t&&Dt.setData(vt,{dominantColor:re.dominantColor,imageUrl:t,placeholder:e&&{width:e.width,height:e.height,url:e.url}})}})),(0,R.Z)((()=>{if(!rt&&0===oe&&3070===he){var e,t,n;const i=Xe.pathname,{imageSignature:a,entityId:r,imageSpec_236x:o,description:l}=re;(0,B.H$)(i,a,r,o&&{dominant_color:null!==(e=o.dominantColor)&&void 0!==e?e:void 0,height:null!==(t=o.height)&&void 0!==t?t:void 0,url:o.url,width:null!==(n=o.width)&&void 0!==n?n:void 0},l)}}));const Rt=92===he&&(null===(ye=st&&st[vt])||void 0===ye?void 0:ye.inviteCode),Ft=W?{height:136,url:null==Pt?void 0:Pt.url,width:136}:[Pt,wt,bt,Tt,St,It].find((e=>e&&e.url))||{width:1,height:1,url:""},Lt=null===(ve=re.videos)||void 0===ve||null===(be=ve.videoList)||void 0===be?void 0:be.v720P,Ot=(0,M.Z)({isEligibleForPdp:re.isEligibleForPdp,isOosProduct:re.isOosProduct,isStaleProduct:re.isStaleProduct,pinShoppingFlags:null!==(Pe=re.shoppingFlags)&&void 0!==Pe?Pe:void 0}),zt=ut({pinId:vt}),Mt=()=>{var e,t,n,i,a,r,o;const l=({user:e,linkToBoard:t})=>{var n;return{link:t?(null===(n=re.board)||void 0===n?void 0:n.url)||`/pin/${re.entityId}/`:(null==e?void 0:e.username)&&`/${e.username}/`||"",avatar:$e(null==e?void 0:e.imageMediumUrl)||$e(null==e?void 0:e.imageSmallUrl)}};var s,c,d,u,p,h,m;if(Ke(re))return re.sponsorship&&(null===(s=re.promoter)||void 0===s?void 0:s.entityId)!==(null===(c=re.nativeCreator)||void 0===c?void 0:c.entityId)?{title:null===(d=re.nativeCreator)||void 0===d?void 0:d.fullName,subtitle:null===(u=re.promoter)||void 0===u?void 0:u.fullName,...l({user:re.nativeCreator})}:{title:qe._('Promoted by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:null===(p=re.promoter)||void 0===p?void 0:p.fullName,...l({user:re.promoter})};if(null!==(e=re.sponsorship)&&void 0!==e&&e.creator)return{title:null===(h=re.nativeCreator)||void 0===h?void 0:h.fullName,subtitle:null===(m=re.sponsorship.sponsor)||void 0===m?void 0:m.fullName,...l({user:re.nativeCreator})};if(re.nativeCreator)return{title:re.nativeCreator.fullName,subtitle:"",...l({user:re.nativeCreator})};switch(he){case 3375:if(null===(t=re.linkDomain)||void 0===t||null===(n=t.officialUser)||void 0===n||!n.isPrimaryWebsiteVerified)return;const e=null!==(i=re.storyPinData)&&void 0!==i&&i.hasProductPins?re.nativeCreator:re.linkDomain.officialUser;return{title:"",subtitle:null==e?void 0:e.fullName,...l({user:e})};case 0:case 3173:return null!==(a=re.storyPinData)&&void 0!==a&&a.hasProductPins?{title:"",subtitle:null===(r=re.nativeCreator)||void 0===r?void 0:r.fullName,...l({user:re.nativeCreator,linkToBoard:!0})}:{title:re.board&&"protected"===re.board.privacy?qe._('Saved by', 'Grid pin annotation', 'Grid pin annotation'):(null===(o=re.pinner)||void 0===o?void 0:o.fullName)||"",subtitle:"",...l({user:re.pinner,linkToBoard:!0})};default:return}},Nt=(0,v.hP)({boardFollowedByMe:!(null===(Te=re.board)||void 0===Te||!Te.followedByMe),feedbackType:null==te?void 0:te.type,viewParameter:he,promotion:re&&re.promoter&&{isDownstreamPromotion:!!re.isDownstreamPromotion},pinnerFollowedByMe:!(null===(Ie=re.pinner)||void 0===Ie||!Ie.explicitlyFollowedByMe),recommendationReason:re.recommendationReason&&{hasBoard:!!re.recommendationReason.board,reason:null!==(ke=re.recommendationReason.reason)&&void 0!==ke?ke:void 0}}),Zt=e=>{var t,n,i;const a={i18n:qe,makeNavigateLink:e};switch(Nt){case"pfy":return(0,v.Ud)({...a,feedback:{type:"pfy"}});case"pfyBoard":return(0,v.Ud)({...a,feedback:{type:"pfyBoard",recommendationReasonBoard:(null===(t=re.recommendationReason)||void 0===t?void 0:t.board)&&{name:null!==(n=re.recommendationReason.board.name)&&void 0!==n?n:"",url:null!==(i=re.recommendationReason.board.url)&&void 0!==i?i:""}}});case"topic":return(0,v.Ud)({...a,feedback:{type:"topic",sourceInterest:re.sourceInterest&&re.sourceInterest.name&&re.sourceInterest.urlName?{name:re.sourceInterest.name,url_name:re.sourceInterest.urlName}:null}});case"followed":return(0,v.Ud)({...a,feedback:{type:"followed",followed:re.pinner&&re.pinner.explicitlyFollowedByMe?{type:"pinner",pinner:re.pinner.fullName&&re.pinner.username?{full_name:re.pinner.fullName,username:re.pinner.username}:null}:{type:"board",board:re.board&&re.board.name&&re.board.url?{name:re.board.name,url:re.board.url}:null}}});case"promoted":return(0,v.Ud)({...a,feedback:{type:"promoted",promoter:!re.adMatchReason&&re.promoter&&re.promoter.fullName?{full_name:re.promoter.fullName,username:re.promoter.username}:null}});default:return null}},{category:Ut,linkDomain:Bt,description:Kt,gridTitle:Ht,imageSignature:Gt,richMetadata:Wt,richSummary:$t,title:Vt,sponsorship:qt,storyPinData:Yt}=re,[Xt,Jt]="string"==typeof Ht?[Ht,""]:[null==$t?void 0:$t.displayName,Kt],Qt=Ke(re),en=null==Yt?void 0:Yt.isDeleted,tn=(0,N.Z)((Xe&&Xe.state||{}).trackingParams||de,re.trackingParams),nn="product"===jt&&!rt,{experimentsClient:an}=(0,T.B)(),rn=ct&&!(3375===he)&&(an.checkExperiment("mweb_pin_grid_image_only_v2").anyEnabled||an.checkExperiment("mweb_pin_grid_image_only_v2_new_user").anyEnabled),on=ct&&!($t&&43===he&&!dt||3375===he)||rn;let ln=null===(je=re.pinJoin)||void 0===je?void 0:je.visualAnnotation;j&&ln&&(ln=j({pinId:vt,visualAnnotations:ln}));const sn=(0,b.rw)(null!==(De=re.description)&&void 0!==De?De:"",re.descriptionHtml||"",ln,re.altText||"",re.autoAltText||""),cn=rt?Jt:(0,x.Z)({storyPinDataId:re.storyPinDataId,pinDescription:re.description,richMetadataDescription:null!==(Re=null===(Fe=re.richMetadata)||void 0===Fe?void 0:Fe.description)&&void 0!==Re?Re:"",richSummaryDisplayName:null!==(Le=null===(Oe=re.richSummary)||void 0===Oe?void 0:Oe.displayName)&&void 0!==Le?Le:"",closeupDescription:null!==(ze=re.closeupDescription)&&void 0!==ze?ze:"",closeupUnifiedDescription:null!==(Ne=re.closeupUnifiedDescription)&&void 0!==Ne?Ne:""});let dn;dn="oneTap"===jt?re.trackedLink||re.link:rt?(0,b.BY)(vt):(0,b.bN)({pinId:vt,seoUrl:re.seoUrl});const un={accessibilityLabel:sn||Xt||Jt||qe._('Pin', 'Pin accessibility label', 'Pin accessibility label'),country:at,deeplinkUri:dn,external:"oneTap"===jt,externalQueryParams:{pin:vt,client_tracking_params:de},isAppUpsellDisabled:i,onTouch:n=>{var i;if((()=>{const n=(0,N.Z)(de,re.trackingParams);if((0,E.My)(`unauth_pin_rep.click.${String(he)}`),nt({view_type:ge,view_parameter:he,element:re.storyPinDataId?12372:35,event_type:101,component:t,object_id_str:vt,clientTrackingParams:n,aux_data:{commerce_data:Ot,grid_index:oe,image_signature:re.imageSignature,...e}}),"oneTap"!==jt&&nt({event_type:8948,view_type:ge,view_parameter:he,object_id_str:vt,clientTrackingParams:n,aux_data:{image_signature:re.imageSignature,commerce_data:Ot,closeup_navigation_type:"click",grid_index:oe,cosmic_ray_count:"3",...e}}),!rt)switch(it({action:"click",item:"pin"}),ge){case 3:(0,E.NC)("click_pin_related_image");break;case 5:(0,E.NC)("click_board_pin_image");break;case 210:(0,E.NC)("click_topic_pin_image");break;case 605:(0,E.NC)("click_shopping_category_pin_image");break;case 606:(0,E.NC)("click_videos_category_pin_image")}"oneTap"===jt&&(nt({event_type:8948,view_type:ge,view_parameter:he,object_id_str:vt,clientTrackingParams:n,aux_data:{image_signature:re.imageSignature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...e}}),(0,U.jC)({view_type:ge,view_parameter:he,element:re.storyPinDataId?12372:35,component:t,object_id_str:vt,aux_data:{commerce_data:Ot,grid_index:oe,image_signature:re.imageSignature,...e},clientTrackingParams:n}),nt({component:t,event_type:13,view_type:3,clientTrackingParams:n,aux_data:{closeup_navigation_type:"web_closeup",image_signature:re.imageSignature},object_id_str:vt}))})(),null==G||null===(i=G.onPinClick)||void 0===i||i.call(G),Je){const e=494===ge;if(n.metaKey||e){(0,E.My)(`unauth_pin_rep.click.cmd_button_pressed.${String(he)}`),n.preventDefault();window.open(`/pin/${vt}/`,"_blank").focus()}else if(!rt&&Ye){const{pinImageClickHandler:e}=Ye;e({event:n,pinId:vt,linkTarget:"duploClientNav",seoUrl:re.seoUrl})}}},pinCategory:re.category,pressState:"none",rounding:4,title:qe._('See this Pin', 'App Upsell Text after clicking on Pin in feed', 'App Upsell Text after clicking on Pin in feed'),to:{pathname:dn,state:{trackingParams:de,trafficSource:ue,topLevelTrafficSource:le,topLevelTrafficSourceDepth:ce}},upsellType:"direct",viewParameter:he,viewType:ge,clientTrackingParams:tn},pn=(0,Z.kb)({hasLinkDomain:!!Bt,richMetadata:Wt&&{recipe:Wt.recipe&&{fromAggregatedData:Wt.recipe.fromAggregatedData},products:Wt.products},richSummary:$t&&{products:$t.products}}),hn=!ee&&["shop_feed"].includes(ue);return(0,Y.jsx)(z.dL,{auxData:{commerce_data:Ot,pwa_type:et,...e},component:t,impressionData:{richTypes:re.shoppingFlags||[],imageURL:Ft.url||"",...Lt?{isNativeVideoAndWatchable:!!(Lt&&Lt.url&&Lt.height&&Lt.width)||void 0,videoIdStr:Lt&&(null===(Ue=re.videos)||void 0===Ue?void 0:Ue.entityId)||void 0}:{},...ie},isPaused:!ht,loggingId:re.entityId,objectIdStr:ae,slotIndex:oe,trackingParams:de,viewData:pe,viewParameter:he,viewType:ge,children:({impressionTrackerRef:e})=>{var i,r,l,c,u,h,_,y,f,x,b,w,P,T,A,C,D,R,F,z,M,Z,U,B,K,Q,ie,ae;return(0,Y.jsx)(s.xu,{ref:e,children:(0,Y.jsxs)(s.xu,{"data-test-id":"pin","data-test-pin-id":vt,marginBottom:Je?0:2,children:[(0,Y.jsxs)(s.xu,{"data-test-id":sn||Xt||Jt?"pin-with-alt-text":"pin-missing-alt-text",padding:H?0:Be({isDesktop:Je}),marginBottom:0,onContextMenu:Je&&(re.nativeCreator||re.pinner)?e=>{e.stopPropagation(),e.preventDefault(),Qe((0,Y.jsx)(Ce.Z,{desktopContextMenuState:{x:e.clientX,y:e.clientY},pinId:vt,graphqlRef:J})),(0,E.My)("pcons.dweb.pin_rep.context_menu.open")}:void 0,dangerouslySetInlineStyle:{__style:_t?{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"}:{}},children:[(0,Y.jsxs)(O.MZ,{...un,children:[!!Rt&&(0,Y.jsx)(me,{inviteCode:Rt}),en?(0,Y.jsx)(Ee.Z,{isPinRep:!0}):(0,Y.jsx)(_e.Z,{pinGraphqlRef:J,clientTrackingParams:tn,color:null!==(i=re.dominantColor)&&void 0!==i?i:"",description:!Jt||on&&0!==he?void 0:Jt.trim(),domainLinkData:re.domain&&re.link?{clickLoggingOptions:{auxData:{objectId:vt,grid_index:oe,sanitized_url:re.link}},domain:re.domain,link:re.link,onClick:null==G?void 0:G.onPinLinkClick}:void 0,disableRounding:d,image:Ft&&{dominant_color:null!==(r=Ft.dominantColor)&&void 0!==r?r:void 0,height:null!==(l=Ft.height)&&void 0!==l?l:void 0,url:null!==(c=Ft.url)&&void 0!==c?c:void 0,width:null!==(u=Ft.width)&&void 0!==u?u:void 0},imageAltText:sn,imageCrop:re.imageCrop&&"number"==typeof re.imageCrop.minY&&"number"==typeof re.imageCrop.maxY?{minY:re.imageCrop.minY,maxY:re.imageCrop.maxY}:void 0,isBoardIdeas:3173===he||13184===t,isSquarePin:W,lazyLoadImage:$,onError:()=>mt(!1),oneTapSave:V,onLoad:()=>mt(!0),priorityFetchImage:X,disableDefaultContextMenu:()=>gt(!0),pinId:vt,pinnedToBoardId:null!==(h=null===(_=re.pinnedToBoard)||void 0===_?void 0:_.entityId)&&void 0!==h?h:"",productPrice:"product"===jt&&ee&&!nn?We(re):null,slotIndex:oe,storyDataExists:!!Yt,title:on&&0!==he?void 0:Xt,type:jt,videoDuration:Ge(re),viewType:ge})]}),"image-only"!==ne&&(rt||Je)&&(0,Y.jsxs)(s.xu,{children:[!rt&&Je&&3475!==he&&43!==he&&(0,Y.jsx)(Ze.Z,{dedupeVisualAnnotations:j,pinId:vt,mode:"inlineWithScrollArrows",graphqlRef:J}),!nn&&(0,Y.jsxs)(s.xu,{position:"relative",children:[(0,Y.jsx)(O.MZ,{...un,children:(0,Y.jsx)(s.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,ref:yt})}),(0,Y.jsx)(s.iP,{onTap:()=>{var e;null===(e=yt.current)||void 0===e||e.click()},accessibilityLabel:un.accessibilityLabel,children:(0,Y.jsxs)(s.xu,{display:"flex",height:W?hn?104:72:void 0,marginEnd:q||1,marginStart:q||1,position:"relative",children:[(0,Y.jsx)(se,{pinGraphqlRef:J,marginTop:q,hidePinMetadata:(null==tt?void 0:tt.display_data.hideDesc)||!1,credits:Mt(),hasAffiliatedProducts:!(null==Yt||!Yt.hasProductPins),isPromotedPin:Qt,isSponsoredPin:!!qt,logCreditsClick:()=>{var e;return nt({view_type:3,element:27,event_type:102,object_id_str:vt,component:re.storyPinDataId?230:void 0,clientTrackingParams:(0,N.Z)(de,re.trackingParams),aux_data:{pin_id:vt,...null!==(e=re.sponsorship)&&void 0!==e&&e.creator&&re.sponsorship.sponsor?{creator_id:re.sponsorship.creator.entityId,sponsor_id:re.sponsorship.sponsor.entityId}:{}}})},pinDescription:cn,pinId:vt,pinnedToBoardId:null!==(y=null===(f=re.pinnedToBoard)||void 0===f?void 0:f.entityId)&&void 0!==y?y:"",pinReactionCounts:null===(x=re.reactionCountsData)||void 0===x?void 0:x.reduce(((e,{reactionCount:t,reactionType:n})=>({...e,[String(null!=n?n:0)]:null!=t?t:0})),{}),recipeReview:"recipe"===jt&&!on&&!(null==$t||null===(b=$t.aggregateRating)||void 0===b||!b.reviewCount)&&(0,Y.jsxs)(s.xu,{alignItems:"center",display:"flex",marginTop:1,children:[(0,Y.jsx)(we,{maxRating:$t.aggregateRating.bestRating||"",rating:$t.aggregateRating.ratingValue||"",text:""}),!!$t.displayCookTime&&(0,Y.jsxs)(a.Fragment,{children:[(0,Y.jsx)(s.xu,{paddingX:1,children:(0,Y.jsx)(s.xv,{size:"100",children:""})}),(0,Y.jsx)(s.xv,{size:"100",children:(0,L.IS)({...(0,S.u)($t.displayCookTime),i18n:qe})})]})]}),shouldShowReactions:!o&&(0,Se.J6)({boardIsCollaborative:null===(w=re.board)||void 0===w?void 0:w.isCollaborative,isDownstreamPromotion:re.isDownstreamPromotion,isEligibleForStaticImageIdeaPin:ft,isPromoted:re.isPromoted,storyPinDataId:re.storyPinDataId,videosId:null===(P=re.videos)||void 0===P?void 0:P.entityId})&&3475!==he&&606!==ge&&!(tt&&tt.display_data.hideReactions),showPriceIndicatorInPinCardDetails:hn,title:Xt,type:jt}),(0,Y.jsx)(s.xu,{right:!0,children:!rt||rn||en||m?null:(0,Y.jsx)(s.xu,{marginStart:1,marginTop:q,children:(0,Y.jsx)(s.xu,{height:26,width:24,children:(0,Y.jsx)(p.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,Y.jsx)(I.Z,{children:(0,Y.jsx)(Ve,{adMatchReason:re.adMatchReason,bestPinImgSrc:Ct(),feedback:te,feedbackType:Nt,getRecommendationDescription:Zt,graphqlRef:J,hideSaveOption:null!==(T=re.promotedIsRemovable)&&void 0!==T&&T,imageSignature:null!=Gt?Gt:void 0,isAdsOnlyPin:null!==(A=re.promotedIsRemovable)&&void 0!==A&&A,pinCategory:Ut,pinDescription:cn,pinId:vt,pinTitle:Vt,sourceType:Qt?"ad":0===he?"following":void 0,viewParameter:he,viewType:ge,trackingParams:de})})})})})})]})})]})]}),nn&&(0,Y.jsx)(Me,{dedupeVisualAnnotations:j,queryRef:J,description:re.description,domain:null===(C=re.richSummary)||void 0===C?void 0:C.siteName,isSquarePin:W,gridTitle:null!==(D=re.gridTitle)&&void 0!==D?D:void 0,pinId:vt,priceSummary:pn&&{maxPrice:pn.maxPrice,minPrice:pn.minPrice,price:pn.price,standardPrice:pn.standardPrice},richMetadataTitle:null===(R=re.richMetadata)||void 0===R?void 0:R.title,richSummaryDisplayName:null===(F=re.richSummary)||void 0===F?void 0:F.displayName,storyPinDataId:re.storyPinDataId,storyPinDataMetadataPinTitle:null===(z=re.storyPinData)||void 0===z||null===(M=z.metadata)||void 0===M?void 0:M.pinTitle,title:re.title})]}),"reported"===zt?(0,Y.jsx)(fe,{color:null!==(Z=re.dominantColor)&&void 0!==Z?Z:"",getFeedbackText:()=>({title:qe._('Reported', 'message displayed after reporting a pin', 'message displayed after reporting a pin'),subTitle:qe._('Thanks! Your feedback helps us keep the Pinterest community safe.', 'message displayed after reporting a pin', 'message displayed after reporting a pin')}),pinId:vt,showing:!0}):(0,Y.jsx)(fe,{color:null!==(U=re.dominantColor)&&void 0!==U?U:"",getFeedbackText:e=>{const{promoter:t}=re;if(Ke(re)&&null!=t&&t.fullName)return{title:"",subTitle:(0,g.nk)(qe._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'pinRep.promotedPinfeedbackText.subtitle', 'message displayed after hiding a promoted pin'),{promoter:t.fullName})};let n;switch(Nt){case"followed":const{board:t,pinner:i}=re;t&&i&&(n=(0,v.oK)({boardId:t.entityId,i18n:qe,makeNavigateLink:e,display:i.explicitlyFollowedByMe?{type:"board",data:{name:t.name,url:t.url}}:{type:"pinner",data:{full_name:i.fullName,username:i.username}}}));break;case"topic":const{sourceInterest:a}=re;a&&(n=(0,v.Iv)({i18n:qe,makeNavigateLink:e,sourceInterest:{id:a.entityId,name:a.name,url_name:a.urlName}}))}return n?{title:qe._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:Zt(e),unfollow:n}:{title:qe._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:qe._('Got it! We\'ll try to show you more relevant Pins in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}},onUnfollow:()=>pt({pinId:vt,pinFeedbackStatus:"unfollowed"}),pinId:vt,showing:!!zt,unfollowed:"unfollowed"===zt,viewParameter:he,viewType:ge}),!Je&&(null==G?void 0:G.showSeoMetadata)&&!nn&&(0,Y.jsx)(k.Z,{id:"related-pins-title",children:(0,Y.jsx)(s.iP,{onTap:()=>{it({action:"click",item:"related-pins-title"})},fullWidth:!1,children:(0,Y.jsx)(Ae,{dedupeVisualAnnotations:j,description:re.description,gridTitle:null!==(B=re.gridTitle)&&void 0!==B?B:void 0,pinId:vt,richMetadataTitle:null===(K=re.richMetadata)||void 0===K?void 0:K.title,richSummaryDisplayName:null===(Q=re.richSummary)||void 0===Q?void 0:Q.displayName,storyPinDataId:re.storyPinDataId,storyPinDataMetadataPinTitle:null===(ie=re.storyPinData)||void 0===ie||null===(ae=ie.metadata)||void 0===ae?void 0:ae.pinTitle,title:re.title,queryRef:J})})}),n]})})}})}const{usePinData:Ye}=(0,m.x0)(Ue,{useLegacyAdapter:e=>{var t,n,i,a,r,o,l,s,c,d,u,p;if(!e)return null;const h=e=>e&&{entityId:e.id,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageSmallUrl:e.image_small_url,username:e.username},m=e=>e&&{dominantColor:e.dominant_color,height:e.height,url:e.url,width:e.width},_=e.reaction_counts;return{adMatchReason:e.ad_match_reason,altText:e.alt_text,attribution:e.attribution&&{embed:e.attribution.embed&&{type:e.attribution.embed.type}},autoAltText:e.auto_alt_text,board:e.board&&{entityId:e.board.id,followedByMe:e.board.followed_by_me,isCollaborative:e.board.is_collaborative,name:e.board.name,privacy:e.board.privacy,url:e.board.url},category:e.category,closeupDescription:e.closeup_description,closeupUnifiedDescription:e.closeup_unified_description,debug:e.debug,descriptionHtml:e.description_html,description:e.description,domain:e.domain,dominantColor:e.dominant_color,embed:e.embed&&{height:e.embed.height,src:e.embed.src,type:e.embed.type,width:e.embed.width},entityId:e.id,gridTitle:e.grid_title,imageCrop:e.image_crop&&{minY:e.image_crop.min_y,maxY:e.image_crop.max_y},imageSignature:e.image_signature,imageSpec_136x136:m(null===(t=e.images)||void 0===t?void 0:t["136x136"]),imageSpec_170x:m(null===(n=e.images)||void 0===n?void 0:n["170x"]),imageSpec_236x:m(null===(i=e.images)||void 0===i?void 0:i["236x"]),imageSpec_474x:m(null===(a=e.images)||void 0===a?void 0:a["474x"]),imageSpec_736x:m(null===(r=e.images)||void 0===r?void 0:r["736x"]),imageSpec_orig:m(null===(o=e.images)||void 0===o?void 0:o.orig),isDownstreamPromotion:e.is_downstream_promotion,isEligibleForPdp:e.is_eligible_for_pdp,isEligibleForWebCloseup:e.is_eligible_for_web_closeup,isOosProduct:e.is_oos_product,isPromoted:e.is_promoted,isStaleProduct:e.is_stale_product,linkDomain:e.link_domain&&{officialUser:e.link_domain.official_user&&{fullName:e.link_domain.official_user.full_name,entityId:null!==(l=e.link_domain.official_user.id)&&void 0!==l?l:"",imageMediumUrl:e.link_domain.official_user.image_medium_url,imageSmallUrl:e.link_domain.official_user.image_small_url,username:e.link_domain.official_user.username,isPrimaryWebsiteVerified:e.link_domain.official_user.is_primary_website_verified}},link:e.link,nativeCreator:h(e.native_creator),pinnedToBoard:e.pinned_to_board&&{entityId:null!==(s=e.pinned_to_board.id)&&void 0!==s?s:""},pinJoin:e.pin_join&&{visualAnnotation:e.pin_join.visual_annotation},pinner:e.pinner&&{entityId:e.pinner.id,explicitlyFollowedByMe:e.pinner.explicitly_followed_by_me,fullName:e.pinner.full_name,imageMediumUrl:e.pinner.image_medium_url,imageSmallUrl:e.pinner.image_small_url,username:e.pinner.username},promoter:h(e.promoter),promotedIsRemovable:e.promoted_is_removable,reactionCountsData:_&&Object.keys(_).map((e=>({reactionType:Number(e),reactionCount:_[e]}))),richMetadata:e.rich_metadata&&{description:e.rich_metadata.description,title:e.rich_metadata.title,recipe:e.rich_metadata.recipe&&{fromAggregatedData:e.rich_metadata.recipe.from_aggregated_data},products:e.rich_metadata.products&&e.rich_metadata.products.map((e=>{var t,n,i,a;return{name:e.name,offerSummary:{maxPrice:null===(t=e.offer_summary)||void 0===t?void 0:t.max_price,minPrice:null===(n=e.offer_summary)||void 0===n?void 0:n.min_price,price:null===(i=e.offer_summary)||void 0===i?void 0:i.price,standardPrice:null===(a=e.offer_summary)||void 0===a?void 0:a.standard_price}}}))},richSummary:e.rich_summary&&{aggregateRating:e.rich_summary.aggregate_rating&&{bestRating:e.rich_summary.aggregate_rating.best_rating,ratingValue:e.rich_summary.aggregate_rating.rating_value,reviewCount:e.rich_summary.aggregate_rating.review_count},displayName:e.rich_summary.display_name,displayCookTime:e.rich_summary.display_cook_time,siteName:e.rich_summary.site_name,typeName:e.rich_summary.type_name,products:e.rich_summary.products&&e.rich_summary.products.map((e=>{var t,n,i,a;return{name:e.name,offerSummary:{maxPrice:null===(t=e.offer_summary)||void 0===t?void 0:t.max_price,minPrice:null===(n=e.offer_summary)||void 0===n?void 0:n.min_price,price:null===(i=e.offer_summary)||void 0===i?void 0:i.price,standardPrice:null===(a=e.offer_summary)||void 0===a?void 0:a.standard_price}}}))},seoUrl:e.seo_url,shoppingFlags:e.shopping_flags,shouldOpenInStream:e.should_open_in_stream,sourceInterest:e.source_interest&&{entityId:null!==(c=e.source_interest.id)&&void 0!==c?c:"",name:e.source_interest.name,urlName:e.source_interest.url_name},sponsorship:e.sponsorship&&{creator:e.sponsorship.creator&&{entityId:null!==(d=e.sponsorship.creator.id)&&void 0!==d?d:"",fullName:e.sponsorship.creator.full_name,imageMediumUrl:e.sponsorship.creator.image_medium_url,imageSmallUrl:e.sponsorship.creator.image_small_url,username:e.sponsorship.creator.username},sponsor:e.sponsorship.sponsor&&{entityId:null!==(u=e.sponsorship.sponsor.id)&&void 0!==u?u:"",fullName:e.sponsorship.sponsor.full_name,imageMediumUrl:e.sponsorship.sponsor.image_medium_url,imageSmallUrl:e.sponsorship.sponsor.image_small_url,username:e.sponsorship.sponsor.username}},storyPinDataId:e.story_pin_data_id,storyPinData:e.story_pin_data&&{hasProductPins:e.story_pin_data.has_product_pins,isDeleted:e.story_pin_data.is_deleted,metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},title:e.title,trackedLink:e.tracked_link,trackingParams:e.tracking_params,videos:e.videos&&{entityId:null!==(p=e.videos.id)&&void 0!==p?p:"",videoList:e.videos.video_list&&{v720P:e.videos.video_list.V_720P&&{duration:e.videos.video_list.V_720P.duration,height:e.videos.video_list.V_720P.height,width:e.videos.video_list.V_720P.width,url:e.videos.video_list.V_720P.url}}},recommendationReason:e.recommendation_reason&&{reason:e.recommendation_reason.reason,board:e.recommendation_reason.board&&{name:e.recommendation_reason.board.name,url:e.recommendation_reason.board.url}}}}});function Xe({pinId:e,duploQueryRef:t,...n}){const i=(0,j.Qy)(),[a,r]=Ye(t?{graphqlRef:t}:e);return!!a&&(0,Y.jsx)(qe,{...n,debugInfo:i&&a.debug&&(0,Y.jsx)(j.Wu,{data:a.debug}),pin:a,duploQueryRef:r})}},698303:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),a=n(377234),r=n(536042),o=n(785893);function l({text:e,icon:t,largeIdentifier:n,largeMargin:l}){const s=(0,r.ZP)();return(0,o.jsxs)(i.xu,{zIndex:new i.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,a.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},"data-test-id":"PinTypeIdentifier",display:"flex",margin:l?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:n?4:void 0,height:n?36:24,top:!0,children:[t&&(0,o.jsx)(i.xu,{marginEnd:n?2:1,children:(0,o.jsx)(i.JO,{accessibilityLabel:s._('identifier that shows the pin type', 'pin.pincard.iconAccessibilityLabel', 'shows an icon with the pin type'),color:"default",icon:t,inline:!0,size:n?18:12})}),(0,o.jsx)(i.xv,{inline:!0,size:n?"200":"100",weight:"bold",children:e})]})}},548802:(e,t,n)=>{n.d(t,{x:()=>l,y:()=>s});var i=n(667294),a=n(583592),r=n(785893);const{Provider:o,useMaybeHook:l}=(0,a.Z)("ProfileViewContext");function s({children:e}){const[t,n]=(0,i.useState)(),[a,l]=(0,i.useState)(new Map),[s,c]=(0,i.useState)(),[d,u]=(0,i.useState)(),p=(0,i.useCallback)(((e,t)=>{l(new Map(a.set(e,t)))}),[a]),h=(0,i.useMemo)((()=>({boardPinDensity:t,boardSortOrder:a,profileBoardView:s,profilePinDensity:d,setBoardPinDensity:n,updateBoardSortOrder:p,setProfileBoardView:c,setProfilePinDensity:u})),[t,a,s,d,p]);return(0,r.jsx)(o,{value:h,children:e})}},190253:(e,t,n)=>{function i(e){const t=Object.keys(e);if(t.length>0){return t.sort(((t,n)=>e[n]-e[t])).slice(0,3)}return null}function a(e){const t=Object.values(e);if(t.length>0){return t.reduce(((e,t)=>e+t),0)}return 0}function r({boardIsCollaborative:e,isDownstreamPromotion:t,isPromoted:n,storyPinDataId:i,videosId:a,isEligibleForStaticImageIdeaPin:r}){return!(n||t||!a&&!i||null!=e&&e||r)}n.d(t,{At:()=>i,J6:()=>r,Ud:()=>a})},525104:(e,t,n)=>{n.d(t,{AF:()=>l,H0:()=>s,S6:()=>c,_S:()=>d});var i=n(702664),a=n(583592),r=n(785893);const{Provider:o,useHook:l,useMaybeHook:s}=(0,a.Z)("Pins");function c(){const e=l();return t=>e[t]}function d({children:e}){const t=(0,i.useSelector)((({pins:e})=>e),i.shallowEqual);return(0,r.jsx)(o,{value:t,children:e})}},712968:(e,t,n)=>{n.d(t,{Tt:()=>u,cm:()=>d,kW:()=>s,kY:()=>p,mN:()=>c});var i=n(702664),a=n(583592),r=n(802071),o=n(785893);const{Provider:l,useHook:s}=(0,a.Z)("Users");function c(){const e=s();return t=>e[t]}function d(){const e=s();return t=>{const n=Object.keys(e).find((n=>e[n].username===t));return e[null!=n?n:""]}}function u(){const{id:e}=(0,r.Z)();return s()[null!=e?e:""]}function p({children:e}){const t=(0,i.useSelector)((({users:e})=>e),i.shallowEqual);return(0,o.jsx)(l,{value:t,children:e})}},141418:(e,t,n)=>{n.d(t,{Z:()=>A});var i=n(667294),a=n(702664),r=n(167912),o=n(883119),l=n(943072),s=n(536042),c=n(282802),d=n(819079),u=n(98736),p=n(618569),h=n(348672),m=n(549201),_=n(377234),g=n(88622),y=n(894121),v=n(785893);function f({showFullScreenInfo:e,isOpen:t,interstitialUpsellDismissed:n,children:i}){const a=(0,s.ZP)(),r=(0,m.HG)(),l=(0,m.Wb)();return l||r?(0,v.jsx)(g.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,mobileIsFullscreen:!0,isOpen:e&&!l,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,v.jsx)(o.xu,{color:(0,_.Yc)()?"dark":"default",dangerouslySetInlineStyle:{__style:{border:(0,_.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:r?"100vw":"100%",zIndex:new o.Ry(1),children:(0,v.jsx)(o.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:n?0:12,children:i})})}):(0,v.jsx)(y.default,{accessibilityModalLabel:a._('Close', 'Close modal window', 'Close modal window'),isOpen:t,onDismiss:()=>{},mobileAccessibilityCloseIconLabel:a._('Close', 'Close modal window', 'Close modal window'),children:i})}var x,b=n(50169);const w=void 0!==x?x:x=n(599271);function P({dedupeVisualAnnotations:e,iconColor:t,size:n,isMainPin:r,isAuth:d,pinCreditPrefix:_,onClickTitleOrDomain:g,pinId:y,renderOnlyHiddenSEOContent:x=!1,graphqlRef:w}){const P=(0,s.ZP)(),S=(0,p.Z)(),{isBot:T}=(0,c.B)(),{unauthInterstitialDismissed:I}=(0,a.useSelector)((({session:e})=>e)),[A,k]=(0,i.useState)(!1),E=(0,m.HG)(),C=(0,m.Wb)(),j=(0,h.Z)(),D=!C&&!d,R=(0,v.jsxs)(o.xu,{padding:5,dangerouslySetInlineStyle:D?{__style:{paddingTop:0,paddingBottom:30}}:void 0,children:[(0,v.jsx)(o.xu,{left:!0,position:"absolute",top:!0,color:"default",padding:4,"data-test-id":"close-seo-vase-see-more-button",children:(0,v.jsx)(o.hU,{accessibilityLabel:P._('Cancel', 'close modal icon', 'close modal icon'),icon:"cancel",size:"sm",onClick:()=>{(0,u.My)("mweb.unauth.see_more.dismissed"),S({action:"click",item:"close-seo-vase-see-more-button"}),k(!1),r&&(0,u.My)("mweb.unauth.see_more.main_pin.dismissed")},iconColor:"gray"})}),(0,v.jsx)(o.xu,{marginBottom:D?0:8,children:(0,v.jsx)(o.xv,{align:D?"start":"center",weight:D?void 0:"bold",children:(0,v.jsx)("span",{className:"deprecatedTextSizeXL",children:D?null:P._('More information', 'more information label', 'more information label')})})}),(0,v.jsx)(b.Z,{dedupeVisualAnnotations:e,pinCreditPrefix:_,onClickTitleOrDomain:g,pinId:y,queryRef:w})]});return x?(0,v.jsx)(o.xu,{display:"none",children:R}):(0,v.jsxs)(o.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,v.jsx)(o.hU,{accessibilityLabel:P._('See more', 'more information icon', 'more information icon'),icon:"ellipsis",iconColor:null!=t?t:"gray",size:n||"md",onClick:({event:t})=>{t.stopPropagation(),(0,u.My)("mweb.unauth.see_more.shown."+(r?"main_pin":"related_pins")),S({action:"click",item:"seo-vase-see-more-button"}),C||d?(k(!0),r&&(0,u.My)("mweb.unauth.see_more.main_pin.shown")):j({pinId:y||"",location:r?"main-pin-more-information":"non-main-pin-more-information",vaseSection:(0,v.jsx)(b.Z,{dedupeVisualAnnotations:e,pinCreditPrefix:_,onClickTitleOrDomain:g,pinId:y,queryRef:w})})}}),T&&!E?(0,v.jsx)(o.xu,{display:A?"flex":"none",children:R}):(0,v.jsx)(f,{showFullScreenInfo:A,isOpen:A&&!C,interstitialUpsellDismissed:!!I,children:R}),C&&A&&(0,v.jsx)(l.default,{accessibilityModalLabel:"test",onDismiss:()=>{},children:R})]})}function S(e){const t=(0,r.useFragment)(w,e.graphqlRef);return(0,v.jsx)(P,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinId:e.pinId,renderOnlyHiddenSEOContent:e.renderOnlyHiddenSEOContent,graphqlRef:t})}function T(e){return(0,v.jsx)(P,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinId:e.pinId,renderOnlyHiddenSEOContent:e.renderOnlyHiddenSEOContent})}function I(e){return(0,d.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"unauth_ssr_lazy_load"}}),(0,v.jsx)(T,{...e})}function A(e){return e.graphqlRef?(0,v.jsx)(S,{...e}):e.lazyLoadAnnotations?(0,v.jsx)(I,{...e}):(0,v.jsx)(T,{...e})}},729239:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(667294),a=n(883119),r=n(604541),o=n(24286),l=n(282442),s=n(946579),c=n(549201),d=n(272109),u=n(372836),p=n(367184),h=n(812889),m=n(785893);function _({customLayoutType:e,emptyState:t,feedItems:n,feedKey:_,gridConfig:g,pagination:{hasNext:y,isLoadingNext:v,loadNext:f,refetch:x},pullToRefresh:b,renderFeedItem:w,serverRender:P}){const S=(0,c.HG)(),[T,I]=(0,i.useState)(!1),A="userSearch"===e?window.innerWidth-16:200,k=v&&0===n.length&&!T,E="desktopFlashlight"===e?0:o.qG;return(0,d.Z)((()=>(window.addEventListener("online",f),()=>window.removeEventListener("online",f)))),(0,m.jsxs)(a.xu,{"data-test-id":"MobileFeed",children:[(0,m.jsx)(p.Z,{enabled:!!b,onPull:()=>{x(),I(!0)},refreshing:T}),(0,m.jsxs)(a.xu,{marginStart:E,marginEnd:E,"data-test-id":"grid",opacity:T?.5:1,children:[(0,m.jsx)(l.Z,{isAtEndOfFeed:!y,itemCount:n.length,children:n.length?(0,m.jsx)(a.xu,{"data-test-id":"feed",marginTop:(0,u.kk)({isDesktop:S}),children:(0,m.jsx)(s.Z.Consumer,{children:t=>(0,m.jsx)(i.Fragment,{children:(0,m.jsx)(u.c$,{children:(0,m.jsx)(r.Z,{cacheKey:_+(null!=g&&g.key?`|${g.key}`:""),id:P?_:void 0,items:n,scrollContainerRef:t,serverRender:P,columnWidth:S?o.yF:A,renderItem:({data:e,itemIdx:t})=>w(e,t),gutterWidth:S?4*o.jC:void 0,loadItems:f,minCols:"userSearch"===e?1:2,...g})})})})}):v?(0,m.jsx)(u.gG,{}):null!=t?t:null}),k&&(0,m.jsx)(a.xu,{column:12,paddingY:2,children:(0,m.jsx)(h.Z,{partialViewportWidth:"desktopFlashlight"===e})})]})]})}},510336:(e,t,n)=>{n.d(t,{Z:()=>d,j:()=>s});var i=n(883119),a=n(536042),r=n(630089),o=n(245410),l=n(785893);const s=[0,2,3],c="Ad  ";function d({hasAffiliatedProducts:e,isPromoted:t,sponsorName:n,sponsorshipStatus:d,textColor:u}){const p=(0,a.ZP)(),h=(0,o.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;let m;t?m=(0,r.nk)(p._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:n}):d||0===d?n&&!s.includes(d)?m=(0,r.nk)(p._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:n}):2!==d&&(m=p._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(m=p._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));const _=h&&!t&&c||"";return(0,l.jsxs)(i.xv,{color:u,size:"100",children:[_,(0,l.jsx)(r.r7,{text:m})]})}},618671:(e,t,n)=>{n.d(t,{f:()=>l,w:()=>s});var i=n(667294),a=n(583592),r=n(785893);const{Provider:o,useHook:l}=(0,a.Z)("Session");function s({children:e}){const[t,n]=(0,i.useState)(void 0),a=(0,i.useCallback)((()=>n(void 0)),[]),l=(0,i.useMemo)((()=>({unauthFollowUserId:t,setUnauthFollowUserId:n,removeUnauthFollowUserId:a})),[t,a]);return(0,r.jsx)(o,{value:l,children:e})}},197838:(e,t,n)=>{n.d(t,{Z:()=>P});var i,a=n(667294),r=n(167912),o=n(883119),l=n(536042),s=n(874261),c=n(465991),d=n(282802),u=n(846226),p=n(618569),h=n(525104),m=n(646081),_=n(785893);const g="\n::-webkit-scrollbar {\n  display: none;\n}\n",y=void 0!==i?i:i=n(717988);function v({direction:e,handleClick:t,testId:n,isRTL:i}){const a=(0,l.ZP)(),r=(0,p.Z)(),s=i?["arrow-back","arrow-forward"]:["arrow-forward","arrow-back"];return(0,_.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0,justifyContent:"flex-start",textAlign:"left"}},onClick:e=>{r({action:"click",item:"board-pills-arrow"}),t(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":n,children:(0,_.jsx)(o.xu,{position:"absolute",left:"left"===e,right:"right"===e,borderStyle:"none",children:(0,_.jsx)(u.Z,{id:"board-pills-arrow",children:(0,_.jsx)(o.JO,{accessibilityLabel:a._('Scroll', 'annotations.scrollArrow', 'Accessibility label for scroll arrow button'),icon:"left"!==e?s[0]:s[1],size:8,color:"subtle"})})})})}function f({name:e,url:t}){const[n,i]=(0,a.useState)(!1),r=(0,p.Z)();return(0,_.jsx)(o.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"secondary",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:(0,_.jsx)(o.xv,{color:n?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:t?(0,_.jsx)(o.rU,{display:"inlineBlock",tapStyle:"compress",href:t,rounding:8,onClick:()=>{r({action:"click",item:"vase-tag"})},underline:"hover",children:e}):e})})}function x({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t,mode:n}){const i=(0,a.useRef)(null),[r,l]=(0,a.useState)(!1),[h,m]=(0,a.useState)(!1),y=(0,p.Z)(),{isRTL:x}=(0,d.B)();(0,a.useEffect)((()=>{const e=i.current,t=()=>{if("inlineWithScrollArrows"===n&&i.current){const e=i.current,t=Math.abs(e.scrollLeft||0),n=Math.abs(e.scrollWidth||0),a=t>4,r=t+e.clientWidth<n-4,o=x?r:a;l(x?a:r),m(o)}else l(!1),m(!1)};return t(),null==e||e.addEventListener("scroll",t),()=>{null==e||e.removeEventListener("scroll",t)}}),[n,x]);const b=e=>t=>{t.preventDefault(),t.stopPropagation(),"right"===e&&y({action:"click",item:"board-pills-arrow-button-right"});const n=i.current;if(!n)return;const a=("left"===e?-1:1)*n.clientWidth*.5;n.scrollBy(a,0)},{annotationsWithLinks:w}=(0,c.eK)({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t});return(0,_.jsx)(o.kC,{alignItems:"center",justifyContent:"end",children:(0,_.jsxs)(o.xu,{display:"flex",overflow:"auto",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[(0,_.jsx)(s.Z,{unsafeCSS:g}),h&&(0,_.jsx)(v,{direction:"left",handleClick:b("left"),testId:"left-scroll-arrow",isRTL:x}),(0,_.jsx)(o.xu,{overflow:"auto",padding:0,dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",scrollbarWidth:"none",whiteSpace:"nowrap"}},ref:i,children:w.map((({name:e,url:t})=>(0,_.jsx)(f,{name:e,url:t},t||e)))}),r&&(0,_.jsx)(u.Z,{id:"board-pills-arrow-button-right",children:(0,_.jsx)(v,{direction:"right",handleClick:b("right"),testId:"right-scroll-arrow",isRTL:x})})]})})}function b({dedupeVisualAnnotations:e,graphqlRef:t,mode:n,pinId:i}){var a;const o=(0,r.useFragment)(y,t),l=(0,m.Z)(o);let s=(null==o||null===(a=o.pinJoin)||void 0===a?void 0:a.visualAnnotation)||[];return e&&(s=e({pinId:i,visualAnnotations:s})),s.length<1?null:(0,_.jsx)(x,{mode:n,pinJoinVisualAnnotation:s,pinJoinAnnotationsWithLinks:l||void 0})}function w(e){var t,n,i;const a=(0,h.S6)()(e.pinId);return((null==a||null===(t=a.pin_join)||void 0===t?void 0:t.visual_annotation)||[]).length<1?null:(0,_.jsx)(x,{mode:e.mode,pinJoinVisualAnnotation:null==a||null===(n=a.pin_join)||void 0===n?void 0:n.visual_annotation,pinJoinAnnotationsWithLinks:null==a||null===(i=a.pin_join)||void 0===i?void 0:i.annotations_with_links})}function P(e){return e.graphqlRef?(0,_.jsx)(b,{...e}):(0,_.jsx)(w,{...e})}},50169:(e,t,n)=>{n.d(t,{Z:()=>S});var i=n(667294),a=(n(167912),n(883119)),r=n(94103),o=n(536042),l=n(630089),s=n(898252),c=n(465991),d=n(282802),u=n(51536),p=n(846226),h=n(98736),m=n(618569),_=n(549201),g=n(32762),y=n(785893);function v({boardUrl:e,boardName:t,boardPrivacy:n,pinnerFullName:i,pinnerImageSmallUrl:r,pinnerImageLargeUrl:o}){const l=(0,_.HG)(),s=(0,m.Z)();if(!e||!t)return null;const c=e.split("/")[1],d=i||c,u=r||o;return(0,y.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[u?(0,y.jsx)(a.iP,{role:"link",href:`/${c}/`,fullWidth:!1,tapStyle:"compress",onTap:()=>{(0,h.My)(`pcons.${l?"desktop":"mobile"}.see-more-button-creator`),s({action:"click",item:"see-more-button-creator"})},children:(0,y.jsx)(a.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,"data-test-id":"see-more-button-creator",children:(0,y.jsx)(a.Ee,{naturalHeight:32,naturalWidth:32,alt:d,fit:"cover",color:"rgb(231, 186, 176)",src:u})})},"profile-link"):null,(0,y.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,y.jsx)(p.Z,{id:"see-more-button-creator-full-name",children:(0,y.jsx)(a.iP,{onTap:()=>{(0,h.My)(`pcons.${l?"desktop":"mobile"}.see-more-button-creator-full-name`),s({action:"click",item:"see-more-button-creator-full-name"})},children:(0,y.jsx)(a.xv,{color:"default",inline:!0,size:"100",weight:"bold",children:(0,y.jsx)(a.rU,{href:`/${c}/`,display:"inlineBlock",tapStyle:"compress",underline:"hover",children:d},"profile-link")},"profileLink")})}),"protected"===n?null:(0,y.jsx)(a.xv,{color:"default",inline:!0,size:"100",children:(0,y.jsx)(a.rU,{href:null!=e?e:"",display:"inlineBlock",tapStyle:"compress",underline:"hover",children:null!=t?t:""},"board-link")},"boardLink")]})]})}var f,x=n(197838);const b=void 0!==f?f:f=n(298262);function w({dedupeVisualAnnotations:e,pin:t,pinId:n,queryRef:r,onClickTitleOrDomain:f,pinCreditPrefix:b}){var w,P,S,T,I,A,k,E,C;const j=(0,o.ZP)(),D=(0,_.ml)(),R=(0,_.Wb)(),{isAuthenticated:F,isBot:L}=(0,d.B)(),O=(0,m.Z)(),z=!F&&!L&&D,M=f||null,[N,Z]=(0,i.useState)(!1),U=(0,g.si)(),B=(0,g.Re)(),K=(0,c.fs)({pinTitle:t.title,gridTitle:t.gridTitle,richSummaryDisplayName:null===(w=t.richSummary)||void 0===w?void 0:w.displayName,richMetadataTitle:null===(P=t.richMetadata)||void 0===P?void 0:P.title,storyPinDataId:t.storyPinDataId,storyPinDataMetadataPinTitle:null===(S=t.storyPinData)||void 0===S||null===(T=S.metadata)||void 0===T?void 0:T.pinTitle})||t.description,H=(K||"").length>B,{description:G}=(0,c.eK)({richMetadataDescription:null===(I=t.richMetadata)||void 0===I?void 0:I.description,richSummaryDisplayName:null===(A=t.richSummary)||void 0===A?void 0:A.displayName,closeupUnifiedDescription:t.closeupUnifiedDescription}),W=G.length>U,[$,V]=(0,i.useState)(!W&&!H),q=(0,s._S)(t.domain)?t.domain:"";return(0,y.jsxs)(a.xu,{children:[(0,y.jsxs)(a.xu,{children:[(0,y.jsxs)(a.xu,{as:"figcaption",paddingX:R?11:0,children:[(0,y.jsx)(a.X6,{id:"vase-pin-title",color:"default",size:"300",accessibilityLevel:3,children:N||L?K:(0,u.Z)(K||"",B)}),!!K&&(0,y.jsx)(a.xu,{height:G?8:0}),G&&(W||H)?(0,y.jsx)(p.Z,{id:"vase-pin-description",children:(0,y.jsxs)(a.iP,{onTap:()=>{N||F||((0,h.NC)("click_open_description_in_sheet"),O({action:"click",item:"more-description-in-sheet"})),V(!$),Z(!N)},fullWidth:!1,children:[(0,y.jsx)(a.xv,{color:"default",size:"200",inline:!0,children:N||L?G:(0,u.Z)(G,U)}),(0,y.jsx)(a.xu,{display:"inlineBlock",paddingX:1,children:(0,y.jsx)(a.xv,{weight:"bold",size:"200",inline:!0,children:N||L?j._('Less', 'Toggle less description button', 'Toggle less description button'):j._('More', 'Toggle more description button', 'Toggle more description button')})})]})}):(0,y.jsx)(p.Z,{id:"vase-pin-description",children:(0,y.jsx)(a.xv,{color:"default",size:"200",inline:!0,children:G})})]}),z&&($||L)&&!!q&&(0,y.jsx)(a.xu,{marginTop:2,children:(0,y.jsx)(a.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,l.nk)(j._('{{ pinCreditPrefix }} {{ pinCredit }}', 'tells the user where the pin is from in the form of Saved from website', 'tells the user where the pin is from in the form of Saved from website'),{pinCreditPrefix:(0,y.jsx)(a.xu,{display:"inlineBlock",children:(0,y.jsx)(a.xv,{inline:!0,size:"200",children:b})},"pinCreditsPrefix"),pinCredit:(0,y.jsxs)(a.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:[M&&(0,y.jsx)(a.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),O({action:"click",item:"pin-domain-link"}),(0,h.My)("mweb_pin_page.pin_link.clickthrouh"),F||(0,h.NC)("click_pin_closeup_link_clickthrough"),M()},tapStyle:"compress",children:(0,y.jsx)(a.xv,{size:"200",lineClamp:1,children:(0,y.jsx)("span",{style:{textDecoration:"underline"},children:q})},"pinLinkDomain")}),t.link&&!M&&(0,y.jsx)(a.rU,{href:t.link,children:(0,y.jsx)(a.xv,{size:"200",underline:!0,children:q})})]},"pinCredits")})})})]}),!!t.board&&($||L)&&(0,y.jsx)(a.xu,{marginTop:4,children:(0,y.jsx)(v,{boardUrl:t.board.url||void 0,boardName:t.board.name||void 0,boardPrivacy:t.board.privacy||void 0,pinnerFullName:(null===(k=t.pinner)||void 0===k?void 0:k.fullName)||void 0,pinnerImageSmallUrl:null===(E=t.pinner)||void 0===E?void 0:E.imageSmallUrl,pinnerImageLargeUrl:null===(C=t.pinner)||void 0===C?void 0:C.imageLargeUrl})}),(0,y.jsx)(a.xu,{marginTop:4,children:(0,y.jsx)(x.Z,{dedupeVisualAnnotations:e,pinId:n,mode:"expanded",graphqlRef:r})})]})}const{usePinData:P}=(0,r.x0)(b,{useLegacyAdapter:e=>e&&{board:e.board&&{name:e.board.name,privacy:e.board.privacy,url:e.board.url},closeupUnifiedDescription:e.closeup_unified_description,description:e.description,domain:e.domain,gridTitle:e.grid_title,link:e.link,pinner:e.pinner&&{fullName:e.pinner.full_name,imageLargeUrl:e.pinner.image_large_url,imageSmallUrl:e.pinner.image_small_url},richMetadata:e.rich_metadata&&{description:e.rich_metadata.description,title:e.rich_metadata.title},richSummary:e.rich_summary&&{displayName:e.rich_summary.display_name},storyPinData:e.story_pin_data&&{metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},storyPinDataId:e.story_pin_data_id,title:e.title}});function S({queryRef:e,pinId:t,...n}){const[i,a]=P(e?{graphqlRef:e}:t);return i&&(0,y.jsx)(w,{...n,pinId:t,pin:i,queryRef:a})}},676794:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),a=n(618446),r=n.n(a),o=n(788241),l=n(266769),s=n(785893);class c extends i.Component{componentDidMount(){const{setCurrentPageData:e,viewData:t,viewParameter:n,viewType:i}=this.props;e({viewData:t,viewParameter:n,viewType:i})}componentDidUpdate(e){const{setCurrentPageData:t,viewData:n,viewParameter:i,viewType:a}=this.props;i===e.viewParameter&&a===e.viewType&&r()(n,e.viewData)||t({viewData:n,viewParameter:i,viewType:a})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){const{auxData:e,children:t,component:n,objectIdStr:i,viewData:a,viewParameter:r,viewType:o,clientTrackingParams:c}=this.props;return(0,s.jsx)(l.Z,{auxData:e,component:n,objectIdStr:i,clientTrackingParams:c,viewData:a,viewParameter:r,viewType:o,children:t})}}function d(e){const{setViewContextData:t,clearViewContextData:n}=(0,o.sV)();return(0,s.jsx)(c,{...e,clearCurrentPageData:n,setCurrentPageData:t})}},266769:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(563962),r=n(98736);const o=({viewType:e,viewParameter:t,viewData:n,auxData:i,objectIdStr:a,component:o,clientTrackingParams:l,element:s},c)=>{const d=(u={event_type:13,view_type:e,view_parameter:t,view_data:n,aux_data:i,object_id_str:a,component:o,clientTrackingParams:l,element:s},Object.keys(u).reduce(((e,t)=>(void 0===u[t]&&delete e[t],e)),{...u}));var u;-1===Object.keys(d).indexOf("view_type")&&(0,r.My)("mweb.logging.null_view_type"),c(d)};function l(e){const{auxData:t,clientTrackingParams:n,children:r,component:l,element:s,objectIdStr:c,viewData:d,viewParameter:u,viewType:p}=e,h=(0,a.Z)(),m=JSON.stringify(t),_=JSON.stringify(d);return(0,i.useEffect)((()=>{o(e,h)}),[h,m,n,l,s,c,_,u,p]),i.Children.only(r)}},700453:(e,t,n)=>{n.d(t,{B:()=>m,Z:()=>_});var i=n(667294),a=n(616550),r=n(40660),o=n(388011),l=n(788241),s=n(988014),c=n(98736),d=n(618569),u=n(799006),p=n(951599),h=n(785893);const m=e=>"/"===e.pathname?"/":(0,s.am)(e)?`board/${e.pathname.substr(1)}`:e.pathname.substr(1);function _({children:e,componentType:t,within:n}){const s=(0,a.useLocation)(),{flushContextEvents:_,logContextEvent:g}=(0,o.v)(),{viewType:y,viewParameter:v}=(0,l.SU)(),f=(0,d.Z)();(0,i.useEffect)((()=>{f({action:"view",item:"download-button",within:n})}),[s,n,f]);const x=(0,i.useRef)(!1);(0,i.useEffect)((()=>{y&&202!==y?(g({component:t||13106,element:10308,event_type:9976,view_type:y,view_parameter:v,aux_data:{app_upsell_type:n,app_upsell_is_dupe:x.current}}),x.current=!0):r.Z.increment("webapp.track_app_upsell_viewed_invalid_parameters",1,{component:t,view_type:y,view_parameter:v,app_upsell_type:n,app_upsell_is_dupe:x.current})}),[t,g,v,y,n]);const b=(0,u.Z)();return(0,i.useEffect)((()=>{b||(0,c.My)(`mweb.app_upsell.forbidden_upsell.${n}`)}),[b,n]),(0,h.jsx)(p.Z,{children:i=>e({handleOpenApp:e=>{var a;(f({action:"click",item:"download-button",within:n}),(0,c.NC)("press_open_app",!0),g({component:t||13106,element:10308,event_type:102,view_type:y||202,view_parameter:v,aux_data:{app_upsell_type:n}}),g({component:t||13106,element:10308,event_type:9977,view_type:y||202,view_parameter:v,aux_data:{app_upsell_type:n}}),_(!0),i)&&(g({component:t||13106,element:10308,event_type:1701,view_type:y||202,view_parameter:v,aux_data:{app_upsell_type:n}}),i(null!==(a=null==e?void 0:e.deepLinkUri)&&void 0!==a?a:m(s),n))}})})}},277192:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(883119),a=n(894121),r=n(536042),o=n(599551),l=n(282802),s=n(549201),c=n(700453),d=n(115771),u=n(536540),p=n(352865),h=n(785893);const m=({deepLinkUri:e,isOpen:t,onDismiss:n,onOpenInApp:d,to:m,within:_})=>{const g=(0,r.ZP)(),y=(0,s.Wb)(),{isBot:v,userAgent:{platform:f,raw:x}}=(0,l.B)(),b=(0,p.Rp)({isBot:v,platform:f,userAgent:x}),w=(0,o.Z)({href:null!=m?m:""}),P=y?60:40;return(0,h.jsx)(a.default,{accessibilityModalLabel:"",isOpen:t,mobileHideCloseIcon:!0,type:"app_upsell_v1",zIndex:new i.Ry(101),closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,h.jsx)(c.Z,{componentType:14157,within:_,children:({handleOpenApp:t})=>(0,h.jsxs)(i.xu,{padding:3,"data-test-id":"appUpsell-iframe",children:[(0,h.jsx)(i.xu,{display:"inlineBlock",position:"absolute",children:(0,h.jsx)(i.xu,{"data-test-id":"appUpsell-continue",children:(0,h.jsx)(i.hU,{accessibilityLabel:g._('close icon background', 'accesibility label for close icon on a overlay', 'accesibility label for close icon on a overlay'),icon:"cancel",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{n({event:e}),w&&!e.defaultPrevented&&(t(),w({event:e}))},size:"lg",iconColor:"gray"})})}),(0,h.jsxs)(i.xu,{paddingX:2,paddingY:6,children:[(0,h.jsx)(i.xu,{paddingY:2,justifyContent:"center",display:"flex",children:b?(0,h.jsx)(u.Z,{size:P}):(0,h.jsx)(i.JO,{color:"brandPrimary",icon:"pinterest",accessibilityLabel:"Pinterest App",size:P})}),(0,h.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,h.jsx)(i.xu,{paddingY:2,children:(0,h.jsx)(i.X6,{align:"center",size:"400",children:b?g._('Try Pinterest Lite', 'mweb.app_upsell.lite_app_upsell_title', 'Mobile Web App Upsell title informing the value of downloading the lite app'):g._('Pinterest is better on the app', 'mweb.unauth.app_upsell.app_value_prop2', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app')})}),(0,h.jsx)(i.xv,{align:"center",size:"300",children:b?g._('A space-saving way to discover new ideas', 'mweb.app_upsell.lite_app_value_prop', 'Mobile Web App Upsell subheading informing the user the value of downloading the lite app'):g._('Continue in the app for the full experience', 'mweb.app_upsell.description4', 'description on app upsell modal')}),(0,h.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,h.jsx)(i.zx,{fullWidth:!0,size:"lg",color:"red",onClick:()=>{t({deepLinkUri:e}),d()},text:g._('Open app', 'mweb.app_upsell.app_upsell_button_text1', 'Button to get the Pinterest Lite app')})})]})]})]})})})};function _({clientTrackingParams:e,deepLinkUri:t,isOpen:n,onDismiss:i,onOpenInApp:a,shouldTrackDismiss:r,to:o,viewParameter:l,viewType:s,within:c}){return(0,h.jsx)(d.Z,{clientTrackingParams:e,viewType:s,viewParameter:l,children:(0,h.jsx)(m,{deepLinkUri:t,isOpen:n,onDismiss:e=>{r&&(0,d.y)(),i(e)},onOpenInApp:()=>{(0,d.y)(),a()},to:o,within:c})})}},115771:(e,t,n)=>{n.d(t,{Z:()=>u,y:()=>d});var i=n(667294),a=n(500797),r=n(611756),o=n(173085),l=n(567648),s=n(266769),c=n(785893);const d=()=>{(0,r.Nh)("appUpsell",Date.now()),(0,r.qn)("firstUpsellTime")||(0,r.Nh)("firstUpsellTime",Date.now()),(0,o.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:t,viewParameter:n,viewType:r}){return(0,l.Z)()||(0,a.FP)(window)?null:(0,c.jsx)(s.Z,{viewType:r,viewParameter:n,component:13106,clientTrackingParams:t,children:(0,c.jsx)(i.Fragment,{children:e})})}},799006:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(702664);const a=()=>(0,i.useSelector)((({session:{canUseNativeApp:e}})=>e))},808067:(e,t,n)=>{n.d(t,{Z:()=>I});var i=n(667294),a=n(616550),r=n(883119),o=n(563962),l=n(62152),s=n(536042),c=n(734417),d=n(630089),u=n(282802),p=n(98736),h=n(777849),m=n(910717),_=n(549201),g=n(802071),y=n(561445),v=n(455900),f=n(41669),x=n(785893);const b=16,w=24,P=220;function S(e,t){const{full_name:n,username:i}=e,a=(0,x.jsx)(r.rU,{href:`/${i}`,display:"inlineBlock",underline:"hover",children:n},"linkToUser");return(0,d.nk)(t._('{{ linkToUser }} invited you to join this board', 'boardRep.invite.invitationText', 'Indicating that another user invited the viewer to this board'),{linkToUser:a})}const T=({children:e})=>{const t=(0,g.Z)(),n=(0,_.HG)(),i=t&&t.isAuth;return n&&i?(0,x.jsx)(r.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,x.jsx)(r.xv,{lineClamp:1,weight:"bold",children:e})};function I({archivedDate:e,boardUrl:t,canEdit:n,collaborators:g,collaboratorsCount:I=0,containerBackgroundColor:A,coverPhoto:k,followedByMe:E,fullSizeDrawer:C,sensitivityScreen:j,handleInviteResponse:D,hideMeta:R,id:F,invite:L,imagesLego:O=[],isBoardInviteAccepted:z,isActive:M,isAuthenticated:N,isCollaborative:Z,isCollaborator:U,isOwner:B,isProtected:K,isSecret:H,isTemporarilyDisabled:G,lastModifiedDate:W,layout:$,locale:V,name:q,numCols:Y,onEditClick:X,onFollow:J,onUnfollow:Q,owner:ee,pinCount:te=0,sectionCount:ne,showFollowButton:ie,viewParameter:ae,viewType:re,viewerId:oe}){const le=(0,s.ZP)(),se=(0,l.Z)(),ce=(0,c.Z)(),{pathname:de}=(0,a.useLocation)(),ue=(0,o.Z)(),pe=(0,_.HG)(),{isRTL:he}=(0,u.B)(),me=pe&&N,_e="square"===$?y.M0:y.z9,ge=!/\/search\/boards\//.test(de),ye=O.map((e=>({url:e.url,name:q}))),ve=!!ee&&!n&&ie,fe=!B&&!U&&!(null==j||!j.show_warning),xe={board_id:F,reason:null==j?void 0:j.reason};(0,i.useEffect)((()=>{fe&&ue({event_type:13,component:13861,view_type:215,aux_data:xe})}),[]);const be=ee?ee.id:void 0,we=[...g.filter((({id:e})=>e===be)),...g.filter((({id:e})=>e===oe&&e!==be)),...g.filter((({id:e})=>![be,oe].includes(e)))].map((e=>{var t,n;return{name:null!==(t=me?e.full_name:e.username)&&void 0!==t?t:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(n=e.image_medium_url)&&void 0!==n?n:""}}));let Pe=I>=we.length?I-we.length:0;Pe=Pe>99?100:Pe;const Se=[...we,...Array(Pe).fill({name:"",src:""})],Te=me?w:b,Ie=Te/3*(2*(we.length>2?3:we.length)+1);return(0,x.jsxs)(r.xu,{"data-test-id":`boardCard-${q}`,position:"relative",height:ve?`max(calc(25vh + 10px), ${P}px)`:"100%",width:me?_e:"100%",children:[(0,x.jsx)(v.Z,{canEdit:n,containerBackgroundColor:A,coverPhoto:k,images:ye,isProtected:K,isSecret:H,fullSize:C,showSensitivityScreen:fe,isActive:M,onEditClick:X,layout:$,isTemporarilyDisabled:G}),!R&&(0,x.jsx)(i.Fragment,{children:L&&!G?(0,x.jsxs)(i.Fragment,{children:[(0,x.jsxs)(r.xu,{padding:2,alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,x.jsxs)(r.xu,{width:"100%",children:[(0,x.jsx)(r.rU,{href:null!=t?t:"",children:(0,x.jsx)(r.xu,{marginTop:0,marginBottom:1,children:(0,x.jsx)(T,{children:q})})}),z?(0,x.jsx)(r.xv,{size:"200",lineClamp:1,children:le._('You\u2019ve joined', 'boardRep.invite.invitationAcceptedText', 'Text shown after accepting collaborator board invitations')}):(0,x.jsx)(r.xv,{size:"200",children:S(L.invited_by_user,le)})]}),(0,x.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:Ie,minWidth:Ie,height:Te,children:(0,x.jsx)(r.HE,{accessibilityLabel:h.U+(le._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:Se})})]}),z?(0,x.jsx)(r.xu,{direction:"row",display:"flex",paddingX:2,children:(0,x.jsx)(r.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,x.jsx)(r.zx,{role:"link",href:null!=t?t:"",fullWidth:!0,size:"lg",text:le._('See board', 'boardRep.invite.seeBoardButton', 'Button text to see board after accepting collaborator invite')})})}):(0,x.jsxs)(r.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,x.jsx)(r.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,x.jsx)(r.zx,{fullWidth:!0,onClick:()=>{null==D||D(!1)},size:"lg",text:le._('Decline', 'boardRep.invite.declineButton', 'Button text to decline board collaborator invite or request')})}),(0,x.jsx)(r.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,x.jsx)(r.zx,{fullWidth:!0,color:"red",onClick:()=>{null==D||D(!0)},size:"lg",text:le._('Accept', 'boardRep.invite.acceptButton', 'Button text to accept board collaborator invite or request')})})]})]}):(0,x.jsxs)(r.xu,{height:me?void 0:y.s0,marginTop:me?0:1,paddingX:2,paddingY:me?2:0,children:[(0,x.jsxs)(r.xu,{alignItems:"center","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,x.jsx)(T,{children:q}),Z&&!G&&(0,x.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:Ie,minWidth:Ie,height:Te,children:(0,x.jsx)(r.HE,{accessibilityLabel:h.U+(le._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:Se})})]}),(0,x.jsxs)(r.xu,{alignItems:pe?"center":"start",direction:pe?"row":"column",display:"flex",marginTop:1,children:[(0,x.jsxs)(r.xv,{size:"100",lineClamp:1,children:[(0,x.jsx)(h.Z,{}),(0,d.nk)(le.ngettext('{{ count }} Pin', '{{ count }} Pins', te, 'profile.ProfilePage.board.BoardCard.PinsCount', 'label for n amount of pins'),{count:ce(V,te,{})})]}),!!ne&&(0,x.jsx)(r.xv,{size:"100",children:(0,x.jsxs)(i.Fragment,{children:[pe?(0,x.jsx)(m.Z,{ariaHidden:!0}):void 0,(0,x.jsx)(h.Z,{}),(0,d.nk)(le.ngettext('{{ count }} section', '{{ count }} sections', ne, 'profile.ProfilePage.board.BoardCard.SectionsCount', 'label for n amount of sections'),{count:ne})]})}),!e&&ge&&(0,x.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{display:me?"inline-flex":"inline",paddingLeft:pe?7:0,paddingRight:he?7:0}},children:(0,x.jsxs)(r.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,x.jsx)(h.Z,{}),se(W,!0)]})}),e&&!pe&&(0,x.jsxs)(r.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,x.jsx)(h.Z,{}),le._('Archived', 'profile.ProfilePage.BoardCard.ArchivedText', 'label for archived boards')]})]}),ve&&(0,x.jsx)(r.xu,{marginTop:2===Y?3:void 0,column:2===Y?12:void 0,flex:"none",children:(0,x.jsx)(f.Z,{disabled:null==ee?void 0:ee.blocked_by_me,followEventType:26,id:F,isFollowed:E,onFollow:e=>{N||(0,p.NC)("press_follow_board"),J&&J(e)},onUnfollow:e=>{N||(0,p.NC)("press_unfollow_board"),Q&&Q(e)},shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:ae,viewType:re})})]})})]})}},586058:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(702664),a=n(883119),r=n(245410),o=n(282802),l=n(98736),s=n(618569),c=n(802071),d=n(808067),u=n(122686),p=n(13260),h=n(736595),m=n(107877),_=n(785893);const g=["thumbnail","imageOnly"],y="write";function v({boardId:e,containerBackgroundColor:t,forwardedRef:n,fullSize:v,showFollowButton:f=!0,showPinCount:x=!0,type:b,viewParameter:w,viewType:P}){var S,T,I;const A=(0,c.Z)(),k=A&&A.isAuth,E=(0,i.useDispatch)(),{locale:C}=(0,o.B)(),j=(0,s.Z)(),D=(0,m.gC)()(e),R=(0,u.Z)(),{checkExperiment:F}=(0,r.F)(),L=A.isAuth?A.id:"";if(!D)return null;const{owner:O}=D,z=[O,...D.collaborating_users||[]].filter(Boolean).map((({id:e,image_medium_url:t,username:n})=>({id:e,image_medium_url:t,username:n}))),M=(null==O?void 0:O.id)===L,N=z.filter((({id:e})=>e===L)).length>0;if("secret"===D.privacy&&!N)return null;const Z="grid"===b||"thumbnail"===b?2:4,U=R(D,Z),B={isCustom:D.has_custom_cover,url:U,position:(0,p.Bw)(D.cover_pin)},K=(0,p.Jx)(D,U).map((({url:e})=>({name:(0,p.po)(e),url:e}))),H=!!D.is_temporarily_disabled&&(F("mweb_hide_u16_group_board").anyEnabled||F("unauth_hide_u16_group_board").anyEnabled),G=(0,_.jsx)(d.Z,{archivedDate:null!==(S=D.archived_by_me_at)&&void 0!==S?S:void 0,canEdit:!!D.access&&D.access.includes(y),collaborators:z,collaboratorsCount:D.collaborator_count,containerBackgroundColor:t,coverPhoto:U?B:null,followedByMe:D.followed_by_me,fullSizeDrawer:v,hideMeta:g.includes(b),id:D.id,imagesLego:K,isAuthenticated:k,isCollaborative:D.is_collaborative,isCollaborator:N,isOwner:M,isProtected:"protected"===D.privacy,isSecret:"secret"===D.privacy,isTemporarilyDisabled:H,lastModifiedDate:"full"===b?D.board_order_modified_at:"",locale:C,name:null!==(T=D.name)&&void 0!==T?T:"",numCols:Z,onFollow:e=>E((0,h.Z)(e)),onUnfollow:e=>E((0,h.f)(e)),owner:O,pinCount:x&&D.pin_count?D.pin_count:void 0,sectionCount:null!==(I=D.section_count)&&void 0!==I?I:0,sensitivityScreen:D.sensitivity_screen,showFollowButton:f,viewParameter:w,viewType:P,viewerId:L});return!g.includes(b)&&D.url?(0,_.jsx)(a.iP,{role:"link",href:D.url,rounding:2,tapStyle:"compress",onTap:()=>{k||((0,l.NC)("click_go_to_board"),j({action:"click",item:"board-card"}))},children:(0,_.jsx)(a.xu,{ref:n,paddingY:3,children:G})}):G}},456660:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(785893);function r({customCover:e,height:t,imgUrl:n,imgPos:r,width:o}){const l=t/o;let s="center center";if(e&&r){let e=1;e=r.height/r.width>l?o/r.width:t/r.height;s=`-${r.x*e}px -${r.y*e}px`}const c={backgroundImage:`url(${n})`,backgroundPosition:s,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{height:t,width:o}},children:(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:c},children:(0,a.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}},455900:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(883119),a=n(536042),r=n(282802),o=n(549201),l=n(561445),s=n(456660),c=n(548637),d=n(785893);const u=188,p={portrait4x3:"133%",square:"100%"};function h(e){var t,n;const h=(0,a.ZP)(),{containerBackgroundColor:m="white",coverPhoto:_,fullSize:g,images:y,isProtected:v,isSecret:f,isTemporarilyDisabled:x,showSensitivityScreen:b,isActive:w,canEdit:P,onEditClick:S,layout:T}=e,I=(0,o.HG)(),{isRTL:A,isAuthenticated:k}=(0,r.B)(),E=I&&k,C=y[0],j=!_&&(null===(t=y[0])||void 0===t?void 0:t.name)||h._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),D=Array(2).fill(),R=new i.Ry(1),F="square"===T?l.M0:l.z9,L="square"===T?l.FP:l.FC,O=null!=C&&C.url?(0,d.jsx)(i.Ee,{alt:j,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:C.url}):(0,d.jsx)(i.xu,{color:"secondary",height:"100%",width:"100%"}),z=x||b?{filter:"blur(20px)"}:{};return(0,d.jsx)(i.zd,{height:g?"100%":void 0,rounding:4,width:"100%",wash:w,children:(0,d.jsxs)(i.xu,{"aria-hidden":!0,display:"flex",height:E?L:"100%",direction:"row",children:[(0,d.jsx)(i.sg,{span:8,children:(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:z},position:"relative",height:g?"100%":void 0,children:(0,d.jsx)(i.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:p.square}},overflow:"hidden",width:"100%",children:(0,d.jsxs)(i.xu,{"data-test-id":"drawer-image-group-first-image-container",dangerouslySetInlineStyle:{__style:{borderColor:m,borderStyle:"solid",borderWidth:"1px 0 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:[(v||f)&&(0,d.jsx)(i.xu,{left:!A,right:A,margin:2,position:"absolute",top:!0,zIndex:R,children:(0,d.jsx)(c.Z,{backgroundColor:"default",iconColor:"default",privacy:f?"secret":"protected",size:E?32:24})}),I&&null!=_&&_.url?(0,d.jsx)(s.Z,{customCover:_.isCustom,imgPos:_.position||{width:0,height:0,x:0,y:0},imgUrl:null!==(n=_.url)&&void 0!==n?n:"",width:Math.floor(F/3*2),height:L}):O]})})})}),(0,d.jsx)(i.sg,{span:4,children:(0,d.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:z},height:"100%",children:[P&&w&&(0,d.jsx)(i.xu,{left:A,right:!A,margin:2,position:"absolute",bottom:!0,zIndex:R,children:(0,d.jsx)(i.hU,{accessibilityLabel:h._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>null==S?void 0:S(e),size:"sm"})}),D.map(((e,t)=>{const n=y[I?t:t+1];return(0,d.jsx)(i.xu,{position:"relative",height:g?"50%":void 0,children:(0,d.jsx)(i.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:p.square}},overflow:"hidden",width:"100%",children:(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{borderColor:m,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:null!=n&&n.url?(0,d.jsx)(i.Ee,{alt:n&&n.name||"placeholder",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:n.url}):(0,d.jsx)(i.xu,{color:"secondary",height:"100%",width:"100%"})})})},t)}))]})}),(x||b)&&(0,d.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:x?(0,d.jsx)(i.xu,{maxWidth:u,children:(0,d.jsx)(i.xv,{align:"center",color:"light",weight:"bold",size:"200",children:h._('This board is currently unavailable', 'drawerImageGroup.unavailableBoard.heading', 'Warning text for a board that is unavailable')})}):(0,d.jsx)(i.X6,{align:"center",color:"light",size:"400",children:h._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]})})}},561445:(e,t,n)=>{n.d(t,{FC:()=>l,FP:()=>r,M0:()=>a,Xq:()=>s,s0:()=>i,z9:()=>o});const i=44,a=236,r=157,o=320,l=213,s=7},548637:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(536042),r=n(785893);function o({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:n,privacy:o,size:l=20}){const s=(0,a.ZP)();return(0,r.jsx)(i.xu,{display:"flex",direction:"column",alignItems:"center",color:e,width:l,height:l,rounding:"circle",justifyContent:"center",children:(0,r.jsx)(i.JO,{accessibilityLabel:s._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:t,icon:"secret"===o?"lock":"security",size:null!=n?n:l/2})})}},122686:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(549201),a=n(802071);function r(){const e=(0,i.HG)(),t=(0,a.Z)(),n=t&&t.isAuth;if(e&&n){return e=>{var t,n;const i=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,a=null!==(t=null===(n=e.cover_pin)||void 0===n?void 0:n.image_url)&&void 0!==t?t:i,r=e.images&&e.images["170x"]&&e.images["170x"].length?e.images["170x"][0].url:"";return a||r}}return(e,t)=>{var n,i;const a=e.has_custom_cover?e.image_cover_hd_url||e.image_cover_url:"";if(!a)return"";const r=e.cover_images&&e.cover_images["400x300"]?e.cover_images["400x300"].url:void 0,o=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,l=e.cover_images&&e.cover_images["216x146"]?e.cover_images["216x146"].url:void 0,s=null!==(n=null!==(i=null!=r?r:o)&&void 0!==i?i:l)&&void 0!==n?n:"",c=e.image_cover_url||"";return a||(t&&t>2&&s?s:"")||c}}},13260:(e,t,n)=>{n.d(t,{Bw:()=>l,Jx:()=>o,po:()=>i});const i=(e="")=>(null!=e?e:"").substring((null!=e?e:"").lastIndexOf("/")+1),a=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),r=e=>{if(!e)return()=>!0;const t=i(e);return e=>{var n;return"string"==typeof e?i(e)!==t:i(null!==(n=e.url)&&void 0!==n?n:"")!==t}},o=(e,t)=>e.images&&e.images["170x"]?e.images["170x"].filter(r(t)):e.pin_thumbnail_urls?e.pin_thumbnail_urls.filter(r(t)).map(a):[],l=e=>{var t;return null!==(t=e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})&&void 0!==t?t:{x:0,y:0,width:0,height:0}}},524378:(e,t,n)=>{n.d(t,{$o:()=>c,GW:()=>a,Jo:()=>l,Li:()=>S,Q8:()=>x,Ux:()=>u,VX:()=>y,Zo:()=>p,aD:()=>h,b2:()=>_,dm:()=>f,e_:()=>P,g2:()=>g,kY:()=>w,lM:()=>r,qN:()=>s,s4:()=>d,tK:()=>b,ym:()=>m,zQ:()=>v});var i=n(837792);const a="/business/hub/?show_vmp=true",r=(i.Rf,i.Rf,i.Rf,i.Rf,["US","GB","CA","AU","DE","FR"]),o=["FR"],l=r.concat(["ES","IT","AT","CH","NL","BR","MX"]).filter((e=>!o.includes(e))),s={PROCESSING:"PROCESSING",FAILED:"FAILED",COMPLETED:"COMPLETED",DISAPPROVED:"DISAPPROVED",UNDER_REVIEW:"UNDER_REVIEW"},c={APPROVED:"approved",PENDING:"pending",DISAPPROVED:"declined",APPEAL_PENDING:"appeal_pending"},d=Object.freeze({APPLIED:"APPLIED",ACCEPTED:"ACCEPTED",NON_COMPLIANT:"NON_COMPLIANT",SUSPENDED:"SUSPENDED",CANCELLED:"CANCELLED"}),u=(e,t)=>{switch(e){case"IN_PROGRESS":return t._('In-progress', 'BizHubHeader.VMPEntryPointStatus.label', 'User is currently in progress of becoming a Verified Merchant');case"ACTIVE":return t._('Active', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account is currently an active Verified Merchant');case"NEEDS_ATTENTION":return t._('Needs attention', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account has an issue that needs attention in order to keep their Verified Merchant Status');case"SUSPENDED":return t._('Suspended', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account is currently a suspended Verified Merchant');default:return e}},p=(d.NON_COMPLIANT,d.SUSPENDED,Object.freeze({UNSTARTED:"workflow-status-unstarted",IN_PROGRESS:"workflow-status-in-progress",ACCEPTED:"check-circle",ATTENTION:"workflow-status-warning",REJECTED:"workflow-status-problem",RECOMMENDED:"info-circle"})),h=Object.freeze({UNSTARTED:"dark",IN_PROGRESS:"success",ACCEPTED:"success",ATTENTION:"warning",REJECTED:"error",RECOMMENDED:"subtle"}),m="Verified merchant program not yet available in this country",_=2e3,g={can_appeal:!0,is_appeal:!1,appeal_count:0,appeal_comment:"",shipping_policy_url:"",return_policy_url:"",review_status:2,review_reasons:[]},y=Object.freeze({ACCOUNT_AGE:"ACCOUNT_AGE",DOMAIN_AGE:"DOMAIN_AGE",PROFILE_IMAGE:"PROFILE_IMAGE",PROFILE_COVER_IMAGE:"PROFILE_COVER_IMAGE",BIO:"BIO",SHOP_TAB:"SHOP_TAB",PINNER_FEEDBACK:"PINNER_FEEDBACK"}),v=[y.ACCOUNT_AGE,y.DOMAIN_AGE,y.PROFILE_IMAGE,y.PROFILE_COVER_IMAGE,y.BIO,y.SHOP_TAB,y.PINNER_FEEDBACK],f=["US","GB","CA","AU","DE","FR","ES","IT","AT","CH","NL","BR","MX"],x=Object.freeze({PASS:"PASS",FAIL:"FAIL"}),b=30,w=6048e5,P="show_vmp",S="true"},154522:(e,t,n)=>{n.d(t,{Cq:()=>u,Dk:()=>h,Fk:()=>r,fS:()=>d,km:()=>p,lI:()=>l,lJ:()=>o,mS:()=>c,qW:()=>s,t5:()=>m});var i=n(883119),a=n(589665);const r=new i.Ry(1),o=3,l=new i.Ry(o),s=2,c=new i.Ry(s),d=3,u=4,p=new i.Ry(5),h=new i.Ry(100),m=new i.Ry(a.fe+1)},515367:(e,t,n)=>{n.d(t,{Z:()=>l,e:()=>o});var i=n(883119),a=n(282802),r=n(785893);const o=new i.Ry(1);function l({children:e,isImagePinForUnauthOnTablet:t,showLightClickthroughOverlay:n}){const{isAuthenticated:l}=(0,a.B)();return(0,r.jsxs)(i.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},zIndex:l?void 0:o,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,children:[(0,r.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:n?.2:.4,position:"absolute",right:!0,top:!0}),e]})}},302390:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(667294),a=n(883119),r=n(536042),o=n(245410),l=n(397352),s=n(282802),c=n(552369),d=n(549201),u=n(464649),p=n(515367),h=n(599226),m=n(98736),_=n(618569),g=n(785893);function y({setShowClickthroughOverlay:e,showLightClickthroughOverlay:t,isEligibleForPdp:n,isEligibleForDesktopSocialInviteOverlay:o,inviterFirstName:l}){const s=(0,r.ZP)(),c=(0,_.Z)(),u=(0,h.Z)(),p=(0,i.useRef)(),y=(0,d.ZP)(),v="desktop"===y,f=l&&o,x=f&&(s._('Sign up to join {{ name }} on Pinterest', 'pin.closeup.wash.desktop.shareNotification', 'Clickthrough overlay for desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",l),b=s._('Click to make the most out of this idea with a free account', 'web.unauth.plp.clickable_wash.header', 'Copy shown on hover to sign up for an account'),w=s._('Tap to make the most out of this idea with a free account', 'mweb.unauth.plp.clickable_wash.header', 'Pin clickable wash header text'),P=v?x||b:w;return(0,g.jsx)(a.iP,{onMouseEnter:()=>{f&&(0,m.My)("dweb.main_pin.social.wash.view"),(0,m.My)("dweb.pin.wash.view")},onMouseLeave:()=>{f&&(0,m.My)("dweb.main_pin.social.wash.dismiss"),(0,m.My)("dweb.pin.wash.dismiss")},onTap:({event:e})=>{v&&(e.preventDefault(),c({action:"click",item:"pin-image"}),o&&l&&(0,m.My)("dweb.main_pin.social.wash.click"),(0,m.My)("dweb_unauth_main_pin_image_click.signup_modal.show"),u({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:t?"click_closeup_light_wash":"click_closeup",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}}),n&&(0,m.My)("unauth.pdp.pin.img.click",{device:y}))},children:(0,g.jsxs)(a.xu,{zIndex:new a.Ry(2),children:[(0,g.jsx)(a.xu,{top:!0,bottom:!0,left:!0,right:!0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:o?"center":void 0,direction:"column",position:"absolute",ref:p,"data-test-id":"main-pin-hover-overlay",children:(0,g.jsx)(a.xu,{paddingY:10,display:"flex",alignItems:"center",maxWidth:240,direction:"column",children:(0,g.jsx)(a.xu,{marginTop:8,children:!t&&(0,g.jsx)(a.X6,{size:f?"500":"400",align:"center",color:"light",children:P})})})}),!v&&(0,g.jsx)(a.xu,{position:"absolute",top:!0,right:!0,marginTop:4,marginEnd:4,children:(0,g.jsx)(a.hU,{icon:"cancel",iconColor:"white",onClick:({event:t})=>{t.stopPropagation(),e&&(e(!1),(0,m.My)("main.pin.wash.cancel"))},accessibilityLabel:s._('Close pin clickable wash', 'mweb.unauth.plp.clickable_wash.close_button', 'Close button'),size:"md"})})]})})}function v(){const e=(0,r.ZP)(),t=(0,h.Z)(),{checkExperiment:n}=(0,o.F)(),i=n("dweb_unauth_main_pin_learning_upsell_v2").group;return(0,g.jsx)(a.kC,{justifyContent:"center",children:(0,g.jsx)(a.xu,{alignItems:"center",direction:"row",display:"flex",height:88,width:"100%",marginTop:4,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(233, 228, 255, 0.9)"}},paddingX:2,position:"absolute",bottom:!0,zIndex:new a.Ry(1),children:(0,g.jsx)(a.iP,{fullHeight:!0,onTap:()=>{(0,m.My)("unauth.dweb.main_pin.learning_upsell.banner.click"),t({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_dweb_main_pin_learning_upsell",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}})},children:(0,g.jsxs)(a.kC,{alignItems:"center",justifyContent:"between",height:"100%",children:[(0,g.jsxs)(a.kC,{children:[(0,g.jsx)(a.xu,{margin:4,children:(0,g.jsx)(a.JO,{accessibilityLabel:e._('Pinterest logo', 'icon.pinterest_logo', 'accessibility label for the pinterest logo'),color:"default",icon:"pinterest",size:36})}),(0,g.jsx)(a.kC,{alignItems:"center",children:(0,g.jsxs)(a.xu,{children:[(0,g.jsx)(a.xv,{inline:!0,children:"enabled_banner_copy_1"===i?e._('If you like this idea, see all the details with a Pinterest account.', 'unauth.dweb.main_pin.learning_upsell.copy.value_prop', 'value prop of the copy on the banner upsell that appears when hovering over the main pin image on dweb'):"enabled_banner_copy_2"===i?e._('Bring this idea to life with a Pinterest account.', 'unauth.dweb.main_pin.learning_upsell.copy.value_prop', 'value prop of the copy on the banner upsell that appears when hovering over the main pin image on dweb'):e._('Ready to go? Try out this idea with a Pinterest account.', 'unauth.dweb.main_pin.learning_upsell.copy.value_prop', 'value prop of the copy on the banner upsell that appears when hovering over the main pin image on dweb')})," ",(0,g.jsx)(a.xv,{inline:!0,weight:"bold",children:e._('Sign up', 'unauth.dweb.main_pin.learning_upsell.copy.cta', 'CTA of the copy on the banner upsell that appears when hovering over the main pin image on dweb')})]})})]}),(0,g.jsx)(a.xu,{marginStart:12,marginEnd:6,children:(0,g.jsx)(a.JO,{accessibilityLabel:e._('Forward arrow', 'icon.forward_arrow', 'accessibility label for the forward arrow icon'),color:"default",icon:"arrow-forward",size:16})})]})})})})}var f=n(963181),x=n(199999);const b=e=>{var t;const n=(0,r.ZP)(),{alt:h,clickthroughOverlayOptions:m,color:_,isFlashlightPage:b,naturalHeight:w,naturalWidth:P,placeholder:S,pwtElementTimingId:T,pwtSurfaceContext:I,setShowClickthroughOverlay:A,showLightClickthroughOverlay:k,showDesktopLearningUpsell:E,showSpinner:C,src:j,stickyFooter:D,isEligibleForPdp:R}=e,F=(0,u.Z)(),{checkExperiment:L}=(0,o.F)(),O=!F,{isAuthenticated:z}=(0,s.B)(),M=(0,d.ZP)(),N="desktop"===M,Z=z&&!N&&L("auth_mweb_inline_action_bar").anyEnabled,U=(0,i.useRef)(),[B,K]=(0,i.useState)(!O||!!j&&!!S&&S===j),H=(0,i.useRef)(""),G=()=>{I&&I.markConstraintComplete("PinPageMainImageRendered")};(0,i.useEffect)((()=>{const e=new Image;e.onload=()=>K(!0),e.src=j}),[]);const W=(0,i.useRef)(null===(t=(0,x.a)())||void 0===t?void 0:t.setHasScrolledPastMainContent);(0,i.useEffect)((()=>{const e=(0,c.Z)((()=>{if(U.current){var t;const n=window.scrollY>U.current.offsetTop+U.current.offsetHeight;null===(t=W.current)||void 0===t||t.call(W,n),n&&window.removeEventListener("scroll",e)}}),10);window.addEventListener("scroll",e)}),[]);const[$,V]=(0,i.useState)();(0,i.useEffect)((()=>{U.current&&V(U.current.scrollHeight)}),[]);const q=!b&&"tablet"===M,Y=O?(0,g.jsx)(l.Z,{alt:h,color:_,elementTiming:T,naturalHeight:w,naturalWidth:P,src:S,onLoad:G}):null;return(0,g.jsxs)(a.xu,{"data-test-id":"pin-closeup-image",maxHeight:"100%",minHeight:$,maxWidth:"tablet"===M?f.g6:void 0,overflow:D?void 0:"hidden",position:"relative",width:b||"phone"===M?"100%":N?508:f.Hg,rounding:b||"phone"===M?0:6,ref:U,marginTop:"tablet"===M&&Z?12:0,children:[!z&&(E?(0,g.jsx)(v,{}):k||m?(0,g.jsx)(p.Z,{isImagePinForUnauthOnTablet:!1,showLightClickthroughOverlay:k,children:(0,g.jsx)(y,{setShowClickthroughOverlay:A,showLightClickthroughOverlay:k,inviterFirstName:H.current,isEligibleForPdp:R})}):null),Y&&(q?(0,g.jsx)(a.xu,{rounding:6,overflow:"hidden",children:Y}):Y),(0,g.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:B?1:0,transition:B&&!N?"opacity .5s ease-in-out":void 0,backgroundColor:_}},left:!0,position:O?"absolute":"relative",right:!0,rounding:q?6:5,overflow:q?"hidden":void 0,top:!0,children:O?(0,g.jsx)(a.Ee,{alt:h,naturalHeight:w,naturalWidth:P,src:j}):(0,g.jsx)(l.Z,{alt:h,color:_,elementTiming:T,naturalHeight:w,naturalWidth:P,src:j,onLoad:G})}),C&&(0,g.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:B?0:1,transition:B?"opacity .5s ease-in-out":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:!B&&(0,g.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,g.jsx)(a.$j,{accessibilityLabel:n._('Loading image', 'Loading higher resolution image', 'Loading higher resolution image'),show:!0})})}),D]})}},558533:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(515367);const r=new i.H3([a.e])},32762:(e,t,n)=>{n.d(t,{Ph:()=>a,Re:()=>o,si:()=>r});var i=n(549201);const a=e=>e&&e.promoter&&!e.is_downstream_promotion?e.promoter:null,r=()=>"phone"!==(0,i.ZP)()?180:130,o=()=>"phone"!==(0,i.ZP)()?180:80},759937:(e,t,n)=>{n.d(t,{Z:()=>o});var i,a=n(167912);const r=void 0!==i?i:i=n(277334);const o=e=>function(e){var t,n,i,a,r,o,l,s,c,d,u,p,h,m,_,g,y,v,f,x,b,w,P,S,T,I,A;return{"60x60":{height:(null==e||null===(t=e.imageSpec_60x60)||void 0===t?void 0:t.height)||void 0,url:(null==e||null===(n=e.imageSpec_60x60)||void 0===n?void 0:n.url)||void 0,width:(null==e||null===(i=e.imageSpec_60x60)||void 0===i?void 0:i.width)||void 0},"136x136":{height:(null==e||null===(a=e.imageSpec_136x136)||void 0===a?void 0:a.height)||void 0,url:(null==e||null===(r=e.imageSpec_136x136)||void 0===r?void 0:r.url)||void 0,width:(null==e||null===(o=e.imageSpec_136x136)||void 0===o?void 0:o.width)||void 0},"170x":{height:(null==e||null===(l=e.imageSpec_170x)||void 0===l?void 0:l.height)||void 0,url:(null==e||null===(s=e.imageSpec_170x)||void 0===s?void 0:s.url)||void 0,width:(null==e||null===(c=e.imageSpec_170x)||void 0===c?void 0:c.width)||void 0},"236x":{height:(null==e||null===(d=e.imageSpec_236x)||void 0===d?void 0:d.height)||void 0,url:(null==e||null===(u=e.imageSpec_236x)||void 0===u?void 0:u.url)||void 0,width:(null==e||null===(p=e.imageSpec_236x)||void 0===p?void 0:p.width)||void 0},"474x":{height:(null==e||null===(h=e.imageSpec_474x)||void 0===h?void 0:h.height)||void 0,url:(null==e||null===(m=e.imageSpec_474x)||void 0===m?void 0:m.url)||void 0,width:(null==e||null===(_=e.imageSpec_474x)||void 0===_?void 0:_.width)||void 0},"564x":{height:(null==e||null===(g=e.imageSpec_564x)||void 0===g?void 0:g.height)||void 0,url:(null==e||null===(y=e.imageSpec_564x)||void 0===y?void 0:y.url)||void 0,width:(null==e||null===(v=e.imageSpec_564x)||void 0===v?void 0:v.width)||void 0},"736x":{height:(null==e||null===(f=e.imageSpec_736x)||void 0===f?void 0:f.height)||void 0,url:(null==e||null===(x=e.imageSpec_736x)||void 0===x?void 0:x.url)||void 0,width:(null==e||null===(b=e.imageSpec_736x)||void 0===b?void 0:b.width)||void 0},"600x315":{height:(null==e||null===(w=e.imageSpec_600x315)||void 0===w?void 0:w.height)||void 0,url:(null==e||null===(P=e.imageSpec_600x315)||void 0===P?void 0:P.url)||void 0,width:(null==e||null===(S=e.imageSpec_600x315)||void 0===S?void 0:S.width)||void 0},orig:{height:(null==e||null===(T=e.imageSpec_orig)||void 0===T?void 0:T.height)||void 0,url:(null==e||null===(I=e.imageSpec_orig)||void 0===I?void 0:I.url)||void 0,width:(null==e||null===(A=e.imageSpec_orig)||void 0===A?void 0:A.width)||void 0}}}((0,a.useFragment)(r,e))},994405:(e,t,n)=>{n.d(t,{J1:()=>s,Uw:()=>l,Yg:()=>c});var i=n(40660),a=n(245410),r=n(282802),o=n(549201);const l=({isDesktop:e,viewerType:t})=>"bot"===t?"seo_graphql_pin_page":"auth"===t?e?"auth_dweb_graphql_pin_page":"auth_mweb_graphql_pin_page":e?"unauth_dweb_graphql_pin_page":"unauth_mweb_graphql_pin_page",s=()=>{const e=(0,o.HG)(),t=(()=>{const{isAuthenticated:e,isBot:t}=(0,r.B)();return t?"bot":e?"auth":"unauth"})();return l({isDesktop:e,viewerType:t})},c=()=>{const{isAuthenticated:e}=(0,r.B)(),t=(0,o.HG)(),{checkExperiment:n}=(0,a.F)(),l=e&&!t&&n("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0}).group;return l?e=>i.Z.increment("webapp.graphql.debug_auth_mweb_graphql_pin_page",1,{event:e,group:l}):null}},515213:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(667294),a=n(883119),r=n(572559),o=n(965472),l=n(874261),s=n(455788),c=n(785893);function d({index:e,length:t,showBadge:n}){const i=n?.8:0;return(0,c.jsx)(a.xu,{alignItems:"center",color:"selected",display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new a.Ry(1),dangerouslySetInlineStyle:{__style:{opacity:i,transition:"opacity .3s"}},children:(0,c.jsx)(a.xv,{color:"inverse",children:`${(null!=e?e:0)+1}/${t}`})})}const u=({index:e})=>{const[t,n]=(0,i.useState)(!0),a=(0,i.useRef)(),r=(0,i.useRef)();return(0,i.useEffect)((()=>(a.current=setTimeout((()=>{n(!1)}),3e3),()=>{clearTimeout(a.current)})),[]),(0,i.useEffect)((()=>{r.current?(clearTimeout(a.current),n(!0)):r.current=e}),[e]),{showBadge:t}};var p=n(164377),h=n(525104);const m="\n  .horizontal-scroll-container {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n  ::-webkit-scrollbar {\n    display: none;\n  }";function _(e){var t,n,_;const{children:g,componentType:y,containerRef:v,contextLogData:f,disableTransition:x,gap:b=0,height:w,id:P,impressionType:S,index:T,shouldBeDragCarousel:I,showCarouselBadge:A,slideWidth:k,view:E,viewParameter:C,widthRatio:j=1}=e,{showBadge:D}=u({index:T}),R=(0,i.useRef)(),F=(0,i.useRef)(),L=(0,h.S6)()(P);if(j>1||j<0)throw new Error("widthRatio should be between 0 and 1 inclusive");const O=Math.floor(k*j),z=i.Children.toArray(g),M=z.length*O,N=(null===(t=v.current)||void 0===t?void 0:t.clientWidth)||M;return(0,c.jsx)(s.Z,{children:(0,c.jsx)("div",{className:"BoardMoreIdeasRep"===S?"moreIdeasBoardRepCarousel":"",children:(0,c.jsxs)(a.xu,{display:"flex",justifyContent:N>M?"center":"start",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",children:[A&&(0,c.jsx)(d,{length:z.length,index:T,showBadge:D}),"BoardMoreIdeasRep"!==S&&(0,c.jsx)(o.Z,{carouselData:L&&(0,r.Z)({carouselData:L.carousel_data,images:L.images,richMetadata:L.rich_metadata,richSummary:L.rich_summary}),contextLogData:f,trackCarousel:!0,impressionType:"Pin",loggingId:P,slotIndex:T,viewParameter:null!=C?C:72,viewType:null!=E?E:1,children:(0,c.jsx)(a.xu,{height:null!==(n=null!=w?w:null===(_=R.current)||void 0===_?void 0:_.clientHeight)&&void 0!==n?n:1,overflow:"hidden",position:"absolute",width:k})},`carousel-impression-key-${T}`),I&&(0,c.jsx)(l.Z,{unsafeCSS:m}),(0,c.jsx)("div",{className:"horizontal-scroll-container",style:{overflowX:I?"scroll":"visible",scrollbarWidth:0,transition:x?"":"left .3s",display:"flex",flexDirection:"row",position:"relative",left:!I&&(0,p.CU)({slotWidth:O,gap:b,numberOfSlides:z.length,index:T,containerWidth:N})},ref:F,children:z.map(((e,t)=>{const n=t===z.length-1,i=(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:n?0:b}},"data-test-id":`carousel-img-${t}`,"data-carousel-indicator":"carousel-card",height:null!=w?w:void 0,ref:R,width:O,children:e},`carousel-slot-${P}-${t}`);if("BoardMoreIdeasRep"===S){const n=e.props,a={total_object_count:null==n?void 0:n.story.objects.length,storyType:null==n?void 0:n.story.story_type,boardIdStr:null==n?void 0:n.item.board_id,slotIndex:null==n?void 0:n.slotIndex,story_id:null==n?void 0:n.story.id};return(0,c.jsx)(o.Z,{componentType:y,contextLogData:a,impressionAuxFields:a,impressionType:null!=S?S:"Pin",loggingId:P,slotIndex:t,viewParameter:null!=C?C:72,viewType:null!=E?E:1,children:i},`carousel-slot-${P}-${t}`)}return i}))})]})})})}},310131:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var i=n(702664),a=n(883119),r=n(645048),o=n(572559),l=n(374749),s=n(388011),c=n(536042),d=n(925428),u=n(533451),p=n(525104),h=n(785893);const m={cursor:"pointer",padding:"30px 16px",position:"relative",zIndex:1},_=(e,t,n,i,a,r,o,s,c,d,u,p)=>{if(!u||!r){const{carousel_slots:u,id:h}=r;e({event_type:108,object_id_str:n,component:c,view_type:s,view_parameter:o,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==u?void 0:u[i])&&Number(u[i].id),carouselDataId:Number(h),carouselSlotIndex:i,toCarouselSlotIndex:a}},aux_data:{...d,...(0,l.Kl)(t,{isPdpPlus:p})||{}}})}},g=(e,t,n,i,a,r)=>{r||void 0===i||(e.preventDefault(),e.stopPropagation(),i(t,n)),void 0!==a&&a(n)};function y({addEllipsis:e,alwaysShowNavigationArrows:t,carouselIndex:n,carouselData:l,ellipsisVariant:y,handleCarouselSwipe:v,isShowingLastSlide:f,pinId:x,contextLogData:b,viewParameter:w,viewType:P,componentType:S,isEditMode:T,forwardNode:I,backNode:A,sliderStyleOverride:k}){const E=(0,c.ZP)(),C=(0,i.useDispatch)(),{logContextEvent:j}=(0,s.v)(),D=(0,p.S6)()(x),R=(0,r.Z)(null==D?void 0:D.is_eligible_for_pdp_plus),F=l||(0,o.Z)({carouselData:null==D?void 0:D.carousel_data,images:null==D?void 0:D.images,richMetadata:null==D?void 0:D.rich_metadata,richSummary:null==D?void 0:D.rich_summary});if(!F)return null;const L=(e,t)=>C((0,u.yR)(e,t)),{carousel_slots:O=[],index:z=0}=F,M=void 0!==n?n:z,N=Math.max(0,M-1),Z=Math.min(O.length-1,M+1),U=0===M,B=f||M===O.length-1,K=(e,t)=>{g(e,x,t,L,v,T),_(j,D,x,M,t,F,w,P,S,b,T,R)};return(0,h.jsxs)(a.xu,{display:"flex",justifyContent:"between",position:"absolute",alignItems:"center",left:!0,right:!0,bottom:!0,top:!0,children:[(0,h.jsx)("div",{"data-test-id":"carousel-slider-left",role:"presentation",onClick:e=>{K(e,N)},onKeyUp:e=>{K(e,N)},style:{...m,...k,pointerEvents:U?"none":"auto"},children:(0,h.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:U&&!t?"hidden":"visible",opacity:U&&t?"50%":"100%"}},display:"flex",height:"100%",justifyContent:"center",width:"100%",children:A||(0,h.jsx)(a.JO,{color:"inverse",icon:"arrow-back",accessibilityLabel:E._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image')})})}),e&&(0,h.jsx)(d.default,{pinId:x,carouselIndex:n,carouselData:F,handleCarouselSwipe:v,variant:y||"default"}),(0,h.jsx)("div",{"data-test-id":"carousel-slider-right",role:"presentation",onClick:e=>{K(e,Z)},onKeyUp:e=>{K(e,Z)},style:{...m,...k,pointerEvents:B?"none":"auto"},children:(0,h.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:B&&!t?"hidden":"visible",opacity:B&&t?"50%":"100%"}},display:"flex",height:"100%",justifyContent:"center",width:"100%",children:I||(0,h.jsx)(a.JO,{color:"inverse",icon:"arrow-forward",accessibilityLabel:E._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')})})})]})}},455256:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(883119),r=n(536042),o=n(785893);const l=({iconType:e,showFab:t,backgroundColor:n,hoverColor:l,iconColor:s,size:c})=>{const d=(0,r.ZP)(),[u,p]=(0,i.useState)(!1);return(0,o.jsx)(a.zd,{rounding:6,children:(0,o.jsx)(a.xu,{opacity:u?1:.8,rounding:"circle",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),"data-test-id":"navigation-fab-container",children:(0,o.jsx)(a.xu,{width:c||48,height:c||48,color:u?l:n,display:"flex",justifyContent:"center",alignItems:"center",opacity:t?1:0,dangerouslySetInlineStyle:{__style:{transition:"opacity 0.3s linear"}},"data-test-id":"navigation-fab",children:"forward"===e?(0,o.jsx)(a.JO,{color:s,icon:"arrow-forward",accessibilityLabel:d._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')}):(0,o.jsx)(a.JO,{color:s,icon:"arrow-back",accessibilityLabel:d._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image')})})})})}},251163:(e,t,n)=>{n.d(t,{O:()=>c,Z:()=>d});var i=n(667294),a=n(883119),r=n(536042),o=n(837792),l=n(785893);const s={xs:12,sm:16,md:20,lg:24};function c({children:e}){const t=(0,r.ZP)();return(0,l.jsx)(a.u,{link:(0,l.jsx)(a.rU,{href:o.vB,target:"blank",children:(0,l.jsx)(a.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function d({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:n,showText:o,size:d}){const u=(0,r.ZP)(),p=(0,l.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(a.JO,{accessibilityLabel:u._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:s[d]}),o&&(0,l.jsx)(a.xu,{marginStart:2,children:(0,l.jsx)(a.xv,{color:"shopping",inline:!0,weight:"bold",children:u._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,l.jsxs)(i.Fragment,{children:[n&&!t&&(0,l.jsx)(c,{children:p}),n&&t&&p,e&&!n&&(0,l.jsx)(a.JO,{accessibilityLabel:u._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:s[d]})]})}},808156:(e,t,n)=>{n.d(t,{L:()=>l,r:()=>o});var i=n(788241),a=n(700746);const r=["search_articles_story","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_for_you_upsell","search_story_separator"];function o({query:e,rs:t,scope:n},r){const o=(0,i.BE)(),l=!(null!=o&&o.viewType||null!=o&&o.viewParameter),s=(0,a.wF)(n);if(!l&&s){const{viewType:n,viewParameter:i}=null!=o?o:{};r({event_type:s,view_type:n,view_parameter:i,aux_data:{query:e,rs:t||"Unknown"}})}"hashtag_closeup"===t?r({event_type:101,component:13065,element:10273,view_type:142}):"hashtag_pinrep"===t&&r({event_type:101,component:0,element:10349,view_type:142})}const l=(e=[])=>{let t=!0;return e.reduce(((e,n)=>{var i;return t&&n.story_type&&r.includes(n.story_type)&&0===(null===(i=n.display_options)||void 0===i?void 0:i.num_columns_requested)?e.searchFullWidthStories.push(n):(t=!1,e.filteredResults.push(n)),e}),{searchFullWidthStories:[],filteredResults:[]})}},666331:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(313398),r=n(785893);function o({coverImages:e,height:t,isHovered:n,onClick:o,onMouseEnter:l,onMouseLeave:s,textType:c,text:d,url:u,width:p}){const h=e&&(e["236x"]||e["280x280"]);return(0,r.jsx)(a.Z,{backgroundColor:"gray",coverImage:h,height:t,isHovered:n,onClick:o,onMouseEnter:l,onMouseLeave:s,url:u,width:p,children:(0,r.jsx)(i.xu,{alignItems:"center",display:"flex",height:t,justifyContent:"center",padding:3,position:"absolute",top:!0,width:p||"100%",children:"text"===c?(0,r.jsx)(i.xu,{alignItems:"center",display:"flex",height:48,padding:3,children:(0,r.jsx)(i.X6,{align:"center",size:"500",color:"light",children:d})}):(0,r.jsx)(i.xu,{alignItems:"center",color:"secondary",display:"flex",height:48,padding:3,rounding:"pill",children:(0,r.jsx)(i.xv,{align:"center",weight:"bold",children:d})})})})}},586187:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(667294),a=n(883119),r=n(621699),o=n(536042),l=n(965472),s=n(245410),c=n(511139),d=n(637362),u=n(493851),p=n(802071),h=n(313398),m=n(157987),_=n(785893);const g=12,y=24;function v({bubble:e,contextLogData:t,disableTabIndex:n,handleReport:v,height:f,imgSignature:x,isHovered:b,onClick:w,onMouseEnter:P,onMouseLeave:S,referringSource:T,searchBoxRenderStopwatch:I,showFlag:A,slotIndex:k,storyId:E,viewParameter:C,viewType:j,width:D}){const R=(0,o.ZP)(),F=(0,p.Z)(),{id:L,action:O,aux_fields:z,cover_images:M,dominant_colors:N,identifier_icon_type:Z,title:U,story_category:B,curator:K}=e,{checkExperiment:H}=(0,s.F)(),{isAuth:G}=F;let W="",$="";if(G&&5===j){W=H("blp_explore_bubble_image_size").group;const e=W.split("_");e.length>1&&W.startsWith("enabled")&&($=e[1])}const V=M&&M[0]&&(W.startsWith("enabled")&&$?M[0][$]:M[0]["280x280"]||M[0]["236x"]),q=(0,u.Z)(U&&U.format||"",U&&U.args||{}),Y=N&&N.length?N[0]:"gray",X=(null==O?void 0:O.url)||(0,c.Z)({storyCategory:B,query:q,referringSource:T,bubbleId:L,storyId:E,title:U.format,pinId:null==z?void 0:z.image_pin_id});return(0,_.jsx)(l.Z,{impressionAuxFields:{storyCategory:B,storyIdStr:E},impressionType:"Article",loggingId:L,viewType:j,viewParameter:C,slotIndex:k,contextLogData:{story_id:E,...t},children:(0,_.jsx)(h.Z,{backgroundColor:Y,coverImage:V,disableTabIndex:n,height:f,id:L,isHovered:b,onClick:w,onMouseEnter:P,onMouseLeave:S,searchBoxRenderStopwatch:I,url:X,width:D,children:({isHovered:e})=>(0,_.jsxs)(i.Fragment,{children:[K&&26!==B&&(0,_.jsx)(a.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,_.jsx)(r.Z,{outline:!0,size:"xs",src:K.image_small_url,name:K.full_name})}),Z&&Z!==d.J&&(0,_.jsx)(a.xu,{alignItems:"center",color:"default",display:"flex",height:y,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:y,children:(0,_.jsx)(a.JO,{icon:(0,d.Z)(Z),accessibilityLabel:R._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",size:g})}),(0,_.jsx)(a.xu,{display:"flex",height:f,width:D||"100%",position:"absolute",top:!0,padding:3,alignItems:26===B?"end":"center",justifyContent:"center",children:(0,_.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[f>200?(0,_.jsx)(a.X6,{size:"500",align:"center",color:"light",children:q}):(0,_.jsx)(a.xv,{align:"center",color:"light",weight:"bold",children:q}),K&&26===B&&(0,_.jsxs)(a.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,_.jsx)(a.xu,{marginEnd:2,children:(0,_.jsx)(r.Z,{outline:!0,size:"xs",src:K.image_small_url,name:K.full_name})}),(0,_.jsx)(a.xv,{size:"100",color:"light",children:K.full_name})]})]})}),F.isAuth&&F.isEmployee&&A?(0,_.jsx)(a.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,_.jsx)(m.Z,{handleReport:v,imgSignature:x||"",isVisible:e})}):null]})})})}},313398:(e,t,n)=>{n.d(t,{A:()=>o,Z:()=>l});var i=n(667294),a=n(883119),r=n(785893);const o={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function l({backgroundColor:e,children:t,coverImage:n,disableTabIndex:l,height:s,id:c,isHovered:d,onClick:u,onMouseDown:p,onMouseEnter:h,onMouseLeave:m,searchBoxRenderStopwatch:_,url:g,width:y}){var v,f;const[x,b]=(0,i.useState)(!1),w=()=>{h?h():b(!0)},P=()=>{m?m():b(!1)},S=d||x,T=S?o.hoverOverlay:o.bubbleOverlay;return(0,r.jsx)(a.iP,{href:g,onBlur:P,onFocus:w,onMouseDown:p,onMouseEnter:w,onMouseLeave:P,onTap:()=>{null==u||u(c)},role:"link",rounding:4,tabIndex:l?-1:void 0,children:(0,r.jsx)(a.zd,{rounding:4,width:y||"100%",height:s,children:null!=n&&n.url?(0,r.jsxs)(a.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(v=n.height)&&void 0!==v?v:1,naturalWidth:null!==(f=n.width)&&void 0!==f?f:1,onLoad:()=>{null==_||_.stop()},role:"presentation",src:n.url,children:[(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:T},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:S}):t]}):(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},738783:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(883119),a=n(388011),r=n(24286),o=n(965472),l=n(518521),s=n(637362),c=n(586187),d=n(785893);const u=103,p=r.yF;function h({contextLogData:e,bubbles:t,id:n,referringSource:r,slotIndex:h,storyType:m,title:_,titleIcon:g,viewType:y,viewParameter:v}){const{logContextEvent:f}=(0,a.v)(),x={story_type:m,...e,content_ids:t.map((({type:e,id:t})=>e+":"+t)).join("|")};return(0,d.jsx)(o.Z,{viewType:y,componentType:200,viewParameter:v,loggingId:n,objectIdStr:n,contextLogData:x,impressionType:"Story",slotIndex:h,children:(0,d.jsxs)(i.xu,{children:[_&&(0,d.jsxs)(i.xu,{display:"flex",marginBottom:1,justifyContent:"center",alignItems:"center",children:["number"==typeof g&&g!==s.J&&(0,d.jsx)(i.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,d.jsx)(i.JO,{accessibilityLabel:"",color:"default",icon:(0,s.Z)(g),size:14})}),(0,d.jsx)(i.xv,{weight:"bold",children:(0,l.Z)(_)})]}),t.map(((e,t)=>(0,d.jsx)(i.xu,{paddingY:1,flex:"none",children:(0,d.jsx)(c.Z,{bubble:e,onClick:e=>{f({event_type:101,object_id_str:e,view_type:y,view_parameter:v,component:200,aux_data:x})},referringSource:r,height:u,width:p,storyId:n,viewType:y,viewParameter:v,slotIndex:t,contextLogData:x})},`bubble-${e.id}`)))]})})}},695458:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(883119);const r={backgroundColor:"transparent"},o={backgroundColor:"rgba(216, 216, 216, 0.37)"},l={borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},s={outline:"0"};var c=n(785893);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"state",{hovered:!1}),d(this,"handleMouseEnter",(()=>this.setState({hovered:!0}))),d(this,"handleMouseLeave",(()=>this.setState({hovered:!1})))}render(){const{backgroundHaloSize:e,onClick:t,color:n="subtle"}=this.props,i=Object.freeze({height:e,width:e}),d={border:0,display:"block",background:"transparent",cursor:"pointer",...s},u={...i,...{...l,...r,...this.state.hovered?o:{}}};return(0,c.jsx)("button",{type:"button",style:d,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:e=>t&&t({event:e}),children:(0,c.jsx)("div",{style:u,children:(0,c.jsx)(a.xu,{rounding:"circle",children:(0,c.jsx)(a.JO,{accessibilityLabel:"",icon:"flag",size:e/2,color:n})})})})}}const p=u},157987:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(667294),a=n(883119),r=n(970588),o=n(88622),l=n(550140),s=n(536042),c=n(63262),d=n(695458),u=n(613352),p=n(785893);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends i.PureComponent{constructor(...e){var t;super(...e),t=this,h(this,"state",{showModal:!1,reportType:null}),h(this,"handleDismiss",(()=>this.setState({showModal:!1}))),h(this,"handleClick",(()=>{const{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()})),h(this,"reportSuggestionImage",(async function(){const{imgSignature:e,reportImage:n}=t.props;t.setState({showModal:!1});n((await(0,r.Z)({url:"/v3/search/pin_image_sig/",data:{image_signature:e}})).resource_response.data.id)})),h(this,"reportSuggestionText",(()=>{const{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast((({hideToast:e})=>(0,p.jsx)(l.ZP,{onHide:e,text:this.props.i18n._('Thanks\xA0for\xA0your\xA0report!\xA0This\xA0will\xA0be\xA0reviewed\xA0by\xA0our\xA0Trust\xA0and\xA0Safety\xA0Team', 'ReportingFlag.Toast.text', 'Toast\xA0after\xA0reporting\xA0a\xA0search suggestion')}))),this.handleDismiss())})),h(this,"showModal",(({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})}))}render(){const{showModal:e}=this.state;return(0,p.jsxs)(i.Fragment,{children:[this.props.isVisible&&(0,p.jsx)(d.Z,{onClick:this.showModal,backgroundHaloSize:24}),e&&(0,p.jsx)(o.ZP,{accessibilityModalLabel:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.accessibilityModalLabel', 'accessible\xA0label\xA0for\xA0report\xA0suggestion modal'),heading:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.heading', 'Heading\xA0for\xA0report\xA0suggestion modal'),onDismiss:this.handleDismiss,size:"sm",children:(0,p.jsxs)(a.xu,{children:[(0,p.jsx)(a.xu,{padding:5,children:(0,p.jsx)(a.xv,{children:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion')})}),(0,p.jsxs)(a.FX,{id:"reporting-flag-options-group",legend:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion'),legendDisplay:"hidden",children:[(0,p.jsxs)(a.xu,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5,children:[(0,p.jsxs)(a.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(a.FX.RadioButton,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report search text"}),(0,p.jsx)(a.xu,{flex:"grow",children:(0,p.jsx)(a.__,{htmlFor:"textType",children:(0,p.jsx)(a.xu,{paddingX:2,children:(0,p.jsx)(a.xv,{children:"Report search text"})})})})]}),(0,p.jsxs)(a.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(a.FX.RadioButton,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report search image"}),(0,p.jsx)(a.xu,{flex:"grow",children:(0,p.jsx)(a.__,{htmlFor:"imageType",children:(0,p.jsx)(a.xu,{paddingX:2,children:(0,p.jsx)(a.xv,{children:"Report search image"})})})})]})]}),(0,p.jsx)(a.iz,{}),(0,p.jsxs)(a.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,p.jsx)(a.xu,{margin:2,children:(0,p.jsx)(a.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n._('Cancel', 'ReportingFlag.Box.Button.text.cancel', 'Text\xA0for\xA0cancel\xA0button\xA0when reporting search suggestion')})}),(0,p.jsx)(a.xu,{margin:2,children:(0,p.jsx)(a.zx,{fullWidth:!0,color:"red",onClick:this.handleClick,text:this.props.i18n._('Report', 'ReportingFlag.Box.Button.text.report', 'Button\xA0label\xA0to\xA0report\xA0search suggestion'),disabled:!this.state.reportType})})]})]})]})})]})}}function _(e){const t=(0,s.ZP)(),{reportImage:n}=(0,u.f)();return(0,p.jsx)(m,{...e,i18n:t,reportImage:n,toastManagerContext:(0,c.F9)()})}},233569:(e,t,n)=>{n.d(t,{N:()=>o});const i=e=>`BREAK_IN_${e}`,a=new Map,r=e=>{const t=a.get(e);if(t)return t;const n=Object.freeze({type:"FEED_BREAK_IN",__typename:"FEED_BREAK_IN",id:i(e)});return a.set(e,n),n},o=({breakIn:{index:e},items:t})=>t.length<e?t:[...t.slice(0,e),r(e),...t.slice(e)]},372836:(e,t,n)=>{n.d(t,{G9:()=>u,c$:()=>h,cn:()=>m,gG:()=>p,kk:()=>d});var i=n(883119),a=n(549201),r=n(802071),o=n(460914),l=n(411224),s=n(392553),c=n(785893);const d=({isDesktop:e})=>{const t=(0,s.pinRepPaddingInBoint)({isDesktop:e});return t?-t:0},u=-2,p=()=>{const e=(0,a.HG)(),t=(0,s.pinRepPaddingInBoint)({isDesktop:e}),n=t?-t:0;return(0,c.jsx)(i.xu,{marginTop:n,marginBottom:n,paddingY:t})},h=({children:e})=>{const t=(0,a.HG)();return!(0,r.Z)().isAuth&&t?(0,c.jsx)(l.x,{children:e}):e},m=({children:e})=>(0,c.jsx)(o.Z,{onTouch:e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){const t=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,t)}},pressState:"none",children:e})},884880:(e,t,n)=>{n.d(t,{Z:()=>Pe});var i=n(167912),a=n(616550),r=n(883119),o=n(448709),l=n(536042),s=n(245410),c=n(819079),d=n(769623),u=n(667294),p=n(29152),h=n(705882),m=n(621699),_=n(630089),g=n(98736),y=n(785893);const v=()=>{(0,g.NC)("click_best_pin_board",!0)},f=()=>{(0,g.NC)("click_best_pin_profile",!0)},x=e=>{const{pinner:t}=e,{username:n,full_name:i}=t,a=t.image_medium_url||t.image_small_url,o=`/${n}/`;return(0,y.jsx)(r.iP,{fullWidth:!1,rounding:"circle",role:"link",href:o,onTap:f,children:(0,y.jsx)(m.Z,{size:"sm",src:null!=a?a:"",name:null!=i?i:"",outline:!0})})},b=e=>{const t=(0,l.ZP)(),{board:n,pinner:i}=e,{name:a,privacy:o,url:s}=n,c=n.id||"",{username:d,full_name:u}=i,p=`/${d}/`,h=(0,y.jsx)(r.xv,{inline:!0,size:"200",weight:"bold",children:(0,y.jsx)(r.rU,{display:"inlineBlock",href:p,onClick:f,underline:"hover",children:u})},u);return"protected"===o?(0,_.nk)(t._('{{ pinnerName }} saved this Pin', 'Showing who saved this pin, but not which board (private board), on closeup', 'Showing who saved this pin, but not which board (private board), on closeup'),{pinnerName:h}):(0,_.nk)(t._('{{ pinnerName }} saved to {{ boardName }}', 'Showing who saved this pin to which board on closeup', 'Showing who saved this pin to which board on closeup'),{pinnerName:h,boardName:(0,y.jsx)(r.xv,{inline:!0,size:"200",weight:"bold",children:(0,y.jsx)(r.rU,{href:null!=s?s:"",onClick:v,children:a},"board")},c)})},w=e=>{const{pin:t}=e,{pinner:n={},board:i={}}=t;return(0,y.jsxs)(r.xu,{display:"flex",direction:"row",alignItems:"center",marginTop:3,"data-test-id":"pin-attribution",children:[(0,y.jsx)(x,{pinner:n}),(0,y.jsx)(r.xu,{marginEnd:2}),(0,y.jsx)(r.xv,{size:"200",children:(0,y.jsx)(b,{board:i,pinner:n})})]})},P=e=>{e.target&&e.target.style&&(e.target.style["text-decoration"]="underline")},S=e=>{e.target&&e.target.style&&(e.target.style["text-decoration"]="none")};var T=n(563962),I=n(385075);function A({pageType:e,pinCreditPrefix:t,pin:n,pinLink:i}){var a,o;const s=(0,l.ZP)(),c=(0,T.Z)();if("topic"!==e.page&&(!n.domain||"Uploaded by user"===n.domain))return null;const d="topic"!==e.page||e.isAuth?"100":"200",u="topic"===e.page&&!!n.native_creator,p=u?null===(a=n.native_creator)||void 0===a?void 0:a.full_name:n.domain;return(0,y.jsx)(r.xu,{display:"flex",flex:"none",justifyContent:"start",marginBottom:2,children:(0,y.jsx)(r.rU,{display:"inlineBlock",href:u?`/${(null===(o=n.native_creator)||void 0===o?void 0:o.username)||""}/`:i,onClick:()=>{var t,i,a;"topic"===e.page?(0,g.NC)("click_topic_best_pin_link"):c({event_type:12,view_type:3,object_id_str:n.id,component:85,view_parameter:(0,I.Z)({hasPin:!!n,hasPinRichMetadata:!!n.rich_metadata,hasPinRichMetadataProducts:!(null===(t=n.rich_metadata)||void 0===t||!t.products),hasPinRichMetadataArticle:!(null===(i=n.rich_metadata)||void 0===i||!i.article),hasPinRichMetadataRecipe:!(null===(a=n.rich_metadata)||void 0===a||!a.recipe),hasPinStoryPinData:!!n.story_pin_data})})},rel:"nofollow",target:"blank",underline:"hover",children:(0,y.jsx)(r.xv,{size:d,children:(0,_.nk)(s._('{{ pinCreditPrefix }} {{ pinCredit }}', 'Tells the user where the pin is from in the form of "Saved from <website>"', 'Tells the user where the pin is from in the form of "Saved from <website>"'),{pinCreditPrefix:t,pinCredit:(0,y.jsx)(r.xv,{inline:!0,size:d,weight:"bold",children:"topic"===!e.page?(0,y.jsxs)("span",{onMouseOver:P,onMouseLeave:S,onFocus:P,onBlur:S,children:[" ",n.domain]}):p},u?"creatorProfile":"pinLinkDomain")})})})})}var k=n(921270),E=n(13596),C=n(624417),j=n(853192),D=n(84812),R=n(465991),F=n(709649),L=n(277731),O=n(282802);const z=3,M=2,N=e=>{let t="";if(e.rich_metadata&&e.rich_metadata.article&&e.rich_metadata.article.date_published)return t;const n=(e=>{let t=null;e.last_repin_date&&(t=new Date(e.last_repin_date));let n=null;return e.created_at&&(n=new Date(e.created_at)),t?n?t>n?t:n:t:n})(e);if(n&&n.getFullYear()===(new Date).getFullYear()){const i=new Set(["film_music_books","art","home_decor","food_drink","womens_fashion","travel","weddings","hair_beauty","holidays_events","mens_fashion","products","celebrities","technology"]),{category:a}=e;i.has(a)&&(t=n?(0,y.jsx)(k.Z,{value:n,dateFormatType:k.k.LONG_MONTH_YEAR,useUTC:!1}):"")}return t},Z=e=>!!(e.rich_metadata&&e.rich_metadata.article&&e.rich_metadata.article.date_published),U=(e,t)=>{var n,i,a;const r=new Date(null!==(n=null===(i=(null!==(a=e.rich_metadata)&&void 0!==a?a:{}).article)||void 0===i?void 0:i.date_published)&&void 0!==n?n:Date.now()),o=r.getTime(),l=(new Date).getTime();return null==t||l-o<=31536e6*t?(0,y.jsx)(k.Z,{value:r,dateFormatType:k.k.LONG_MONTH_YEAR,useUTC:!1}):""};function B(e){var t,n,i,a,o,c,d,u,p,h,m,_,g,v,f,x,b,P,S;const T=(0,l.ZP)(),{pin:I,viewportSize:k,pageType:B}=e,{pinCreditPrefix:K,pinLink:H}=(0,j.Z)(I,T);let{description:G}=(0,R.eK)({richMetadataDescription:null===(t=I.rich_metadata)||void 0===t?void 0:t.description,richSummaryDisplayName:null===(n=I.rich_summary)||void 0===n?void 0:n.display_name,closeupUnifiedDescription:I.closeup_unified_description});var W;"videos_category"===B.page&&(G=(0,R.kt)(G,(null===(W=I.native_creator)||void 0===W?void 0:W.username)||""));const $="wide"===k;let V=(0,R.Ly)({pinTitle:I.title,gridTitle:I.grid_title,richSummaryDisplayName:null!==(i=null===(a=I.rich_summary)||void 0===a?void 0:a.display_name)&&void 0!==i?i:"",richMetadataTitle:null!==(o=null===(c=I.rich_metadata)||void 0===c?void 0:c.title)&&void 0!==o?o:"",storyPinDataId:I.story_pin_data_id,storyPinDataMetadataPinTitle:null===(d=I.story_pin_data)||void 0===d||null===(u=d.metadata)||void 0===u?void 0:u.pin_title,pinJoinVisualAnnotation:null===(p=I.pin_join)||void 0===p?void 0:p.visual_annotation,pinJoinAnnotationsWithLinks:null===(h=I.pin_join)||void 0===h?void 0:h.annotations_with_links});(I.grid_title||"").trim()&&V!==I.grid_title&&(V=(0,R.EU)(I.grid_title,200));const q=(0,D.r)(null===(m=I.rich_metadata)||void 0===m||null===(_=m.recipe)||void 0===_?void 0:_.name,!(null===(g=I.rich_metadata)||void 0===g||null===(v=g.recipe)||void 0===v||!v.categorized_ingredients),null===(f=I.rich_metadata)||void 0===f||null===(x=f.recipe)||void 0===x?void 0:x.from_aggregated_data)&&(null===(b=I.rich_metadata)||void 0===b?void 0:b.recipe),Y=Z(I)&&U(I,2),X=N(I)||Y,{checkExperiment:J}=(0,s.F)(),{isAuthenticated:Q,isBot:ee,isSocialBot:te}=(0,O.B)(),ne=Q?J("web_auth_exclude_original_images").anyEnabled:J("web_unauth_exclude_original_images").anyEnabled;return(0,y.jsx)(r.xu,{alignContent:"between","data-test-id":"UnauthBestPinCardBodyContainer",direction:"column",display:"flex",padding:8,position:"relative",width:"100%",flex:"grow",children:(0,y.jsxs)(r.xu,{position:"relative",direction:"column",display:"flex",flex:"grow",children:[(0,y.jsx)(A,{pageType:B,pin:I,pinCreditPrefix:"topic"===B.page&&I.native_creator?"Created by":K,pinLink:H}),(0,y.jsx)(r.kC,{direction:"row",justifyContent:"between",children:(0,y.jsx)(r.xu,{display:"flex",overflow:"hidden",marginEnd:$?0:3,marginTop:$?3:0,children:V&&(0,y.jsx)("h2",{style:{fontWeight:"600",fontSize:"28px",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:M,WebkitBoxOrient:"vertical"},"data-test-id":"UnauthBestPinCardTitle",children:V})})}),X?(0,y.jsx)(r.xu,{marginTop:1,children:(0,y.jsx)(r.xv,{color:"subtle",children:X})}):null,G&&(0,y.jsx)(r.xu,{display:"flex",overflow:"hidden",marginTop:3,children:(0,y.jsxs)("h3",{style:{fontWeight:"normal",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:z,WebkitBoxOrient:"vertical",fontSize:"14px"},children:[q&&(0,y.jsx)(L.Z,{recipeData:q}),G]})}),q&&(0,y.jsx)(F.Z,{columnGap:(0,y.jsx)(r.xu,{width:16}),marginOverrides:q?{outerMarginTop:32,ingredientMarginBottom:4}:null,recipeProps:{recipe:{categorizedIngredients:q.categorized_ingredients,name:q.name,image:(0,C.Z)({images:I.images,embedSrc:null===(P=I.embed)||void 0===P?void 0:P.src,embedType:null===(S=I.embed)||void 0===S?void 0:S.type,excludeOriginals:!ee&&!te&&ne})}}}),(0,y.jsxs)(r.xu,{display:"flex",alignItems:"center",direction:"row",justifyContent:"between",marginTop:2,children:[(0,y.jsx)(w,{pin:I}),(0,y.jsx)(r.kC,{alignItems:"stretch",justifyContent:"end",children:!I.repin_count||I.repin_count<1?null:(0,y.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,y.jsx)(r.JO,{icon:"pin",accessibilityLabel:"Pin",color:"subtle",size:12}),(0,y.jsx)(r.xv,{color:"default",inline:!0,size:"100",children:(0,y.jsx)(E.Z,{value:I.repin_count,shortform:!0,shortformMaximumFractionDigits:1})})]})})]})]})})}var K=n(153263),H=n(988014),G=n(99220),W=n(739425),$=n(272109),V=n(452253),q=n(525010),Y=n(351116),X=n(732719),J=n(392553),Q=n(519218),ee=n(729239);const te=564,ne=3,ie=4*ne,ae=80,re=60,oe=20;let le=0,se="";function ce(e){const{images:t,image_signature:n}=e,i=(null==t?void 0:t["564x"])&&t.orig,{url:a}=null!=i?i:{};let{width:r=1,height:o}=null!=i?i:{};return"number"==typeof r&&"number"==typeof o&&r>te&&(o*=te/r,r=te),{width:r,height:o,url:a,imageSignature:n}}function de({initialCropArea:e,pin:t}){var n,i,a,r;let o;if(e)o={...e};else{const{visual_objects:e}=t,{width:n=1,height:i=1}=ce(t);if(e&&e.length){const{x:t,y:a,w:r,h:l}=e[0];o=(0,q.Z)({cropArea:{x:t,y:a,w:r,h:l},scaledWidth:n,scaledHeight:i})}else{const[e,t]=[n/6,i/6],[a,r]=[n-2*e,i-2*t];o={x:e,y:t,w:a,h:r}}}return{x:Math.floor(null!==(n=o.x)&&void 0!==n?n:0),y:Math.floor(null!==(i=o.y)&&void 0!==i?i:0),w:Math.floor(null!==(a=o.w)&&void 0!==a?a:0),h:Math.floor(null!==(r=o.h)&&void 0!==r?r:0)}}const ue=({data:e,index:t,viewParameter:n,productsURL:i})=>{switch(e.type){case"pin":return(0,y.jsx)(J.default,{duploQueryRef:null,viewParameter:n,viewType:72,slotIndex:t,pinId:e.id});case"story":return i&&(0,y.jsx)(h.Z,{story:e,dangerouslySetActionUrl:i,slotIndex:t});default:return null}},pe=({resourceOptions:e})=>{const t=(0,l.ZP)(),{data:n,isAtEnd:i,isFetching:o,fetchMore:s}=(0,c.Z)({name:"VisualLiveSearchResource",options:e}),d=(0,a.useLocation)(),p={loadNext:s,hasNext:i,isLoadingNext:o,refetch:()=>{}},h=`${d.pathname}products/${d.search}`;return(0,y.jsxs)(u.Fragment,{children:[n&&(0,y.jsx)(ee.Z,{customLayoutType:"desktopFlashlight",feedItems:n.results||[],feedKey:"flashlight-dweb-unauth",pagination:p,renderFeedItem:(e,t)=>ue({data:e,index:t,viewParameter:3050,productsURL:h})}),(0,y.jsx)(r.$j,{accessibilityLabel:t._('Loading visual search results...', 'unauthDesktopVisualSearch.flashlightFeed.loading', 'Accessibility label for loading visual search results'),show:o})]})},he=({resourceOptions:e})=>{const t=(0,l.ZP)(),{data:n,isAtEnd:i,isFetching:a,fetchMore:o}=(0,c.Z)({name:"VisualLiveSearchProductFeedResource",options:e}),s={loadNext:o,hasNext:i,isLoadingNext:a,refetch:()=>{}};return(0,y.jsxs)(u.Fragment,{children:[n&&(0,y.jsx)(ee.Z,{customLayoutType:"desktopFlashlight",feedItems:n||[],feedKey:"flashlight-products-dweb-unauth",pagination:s,renderFeedItem:(e,t)=>ue({data:e,index:t,viewParameter:3334})}),(0,y.jsx)(r.$j,{accessibilityLabel:t._('Loading visual search product results...', 'unauthDesktopVisualSearch.flashlightProductFeed.loading', 'Accessibility label for loading visual search product results'),show:a})]})};function me({pinResponse:e}){const t=(0,l.ZP)(),{isRTL:n}=(0,O.B)(),i=(0,T.Z)(),o=(0,a.useHistory)(),s=(0,a.useLocation)(),c=(0,a.useRouteMatch)(),h=(0,u.useRef)(),{pin:m,isLoaded:_}=e,{pinId:v}=(0,d.Z)(c.params.id||""),f=(0,W.mB)(s.search),x=(0,p.Z)(s),b=function(e){const t=parseInt(e,10);switch(t){case 1:case 2:case 3:case 4:case 5:case 6:return t;default:return}}(f.cropSource),w=(0,H.hd)(s);if((0,$.Z)((()=>{if(!x&&m){const e=de({initialCropArea:x,pin:m}),t=(0,X.Z)({cropArea:e,pinId:v});o.replace(t)}i({event_type:13,view_type:72,view_parameter:3050,view_data:{pin_id:v}}),(0,g.My)("unauth.flashlight_page")})),(0,u.useEffect)((()=>(h.current&&se===v&&(h.current.scrollTop=le),()=>{h.current&&(le=h.current.scrollTop,se=v)}))),!_)return(0,y.jsx)(G.Z,{view:72,objectId:"",children:(0,y.jsx)(r.xu,{children:(0,y.jsx)(r.$j,{accessibilityLabel:t._('Loading visual search...', 'Accessibility label for loading visual search page', 'Accessibility label for loading visual search page'),show:!0})})});if(!m)return null;const{image_signature:P,description:S,visual_objects:I}=m,{width:A,height:k,url:E}=ce(m),C=de({initialCropArea:x,pin:m}),j=!(s.state&&s.state.internalNavigation),D=A+oe,R=(null!=D?D:1)+2*ie,F={pin_id:v,image_signature:P,crop:(0,V.Z)({cropArea:C,scaledWidth:A,scaledHeight:k}),crop_source:b||5},L={__style:{top:ae+re}};return(0,y.jsx)(G.Z,{view:72,objectId:"",children:(0,y.jsxs)(u.Fragment,{children:[(0,y.jsxs)(r.xu,{width:"100%",height:re,display:"flex",alignItems:"center",position:"fixed",dangerouslySetInlineStyle:{__style:{top:ae}},zIndex:new r.Ry(4),color:"light",children:[(0,y.jsx)(r.xu,{position:"absolute",left:!0,children:(0,y.jsx)(Q.Z,{})}),(0,y.jsx)(r.xu,{flex:"grow",children:(0,y.jsx)(r.X6,{align:"center",size:"400",children:w?t._('Shop similar items', 'unauthDesktopFlashlightPage.flashlightProductsFeed.header', 'Header explaining results of flashlight products search'):t._('Visually similar results', 'unauthDesktopFlashlightPage.flashlightFeed.header', 'Header explaining results of flashlight search')})})]}),w?(0,y.jsx)(r.xu,{dangerouslySetInlineStyle:L,position:"relative",children:(0,y.jsx)(he,{resourceOptions:F})}):(0,y.jsxs)(r.xu,{display:"flex",paddingX:12,children:[(0,y.jsxs)(r.xu,{height:`calc(100% - ${ae+re}px)`,marginEnd:ne,marginStart:ne,width:D,overflow:"auto",position:"fixed",ref:h,zIndex:new r.Ry(4),dangerouslySetInlineStyle:L,children:[(0,y.jsx)(r.xu,{"data-test-id":"flashlight-enabled-image",dangerouslySetInlineStyle:{__style:{width:A,height:k}},children:(0,y.jsxs)(r.zd,{height:k,rounding:2,width:A,children:[(0,y.jsx)(r.Ee,{alt:null!=S?S:"",naturalHeight:null!=k?k:1,naturalWidth:null!=A?A:1,src:null!=E?E:""}),(0,y.jsx)(K.Z,{showAnimation:j,imageSignature:P,imageSize:{h:k,w:A},initialCropArea:C,customCropper:function({origCrop:e,cropSource:t}){const n=window.location.pathname+window.location.search,i=(0,X.Z)({cropArea:e,pinId:v,cropSource:null!=t?t:6});(0,g.My)("unauth.flashlight_page.cropper_changed"),i!==n&&v&&o.replace({pathname:`/pin/${v}/visual-search/`,search:(0,Y.Z)({cropArea:e,cropSource:null!=t?t:6}),state:{internalNavigation:!0}})},pin:m,spotlightAreas:null!=I?I:[]})]})}),(0,y.jsx)(r.xu,{position:"relative","data-test-id":"closeupDescription",display:"flex",direction:"column",maxWidth:null!=A?A:1,margin:5,children:(0,y.jsx)(B,{pin:m,pageType:{isAuth:!1,page:"flashlight"},viewportSize:"narrow"})})]}),(0,y.jsx)(r.xu,{position:"relative",width:"100%",dangerouslySetInlineStyle:{__style:{...L.__style,...n?{marginRight:`${R}px`}:{marginLeft:`${R}px`}}},children:(0,y.jsx)(pe,{resourceOptions:F})})]})]})})}var _e;const ge=void 0!==_e?_e:_e=n(608614);function ye(e){const t=[];return e.forEach((({additionalImagesSpec:e,spec:n})=>{var i;t.push(...null!==(i=function({additionalImagesSpec:e,spec:t}){return null==e?void 0:e.map((e=>{var n,i,a,r,o,l,s;return{canonical_images:{[t]:{height:null!==(n=null===(i=e.canonicalImage)||void 0===i?void 0:i.height)&&void 0!==n?n:0,url:null!==(a=null===(r=e.canonicalImage)||void 0===r?void 0:r.url)&&void 0!==a?a:"",width:null!==(o=null===(l=e.canonicalImage)||void 0===l?void 0:l.width)&&void 0!==o?o:0}},image_signature:null!==(s=e.imageSignature)&&void 0!==s?s:""}}))}({additionalImagesSpec:e,spec:n}))&&void 0!==i?i:[])})),t}function ve(e){return null==e?void 0:e.map((e=>{var t,n,i,a,r,o,l,s;return{name:null!==(t=e.name)&&void 0!==t?t:"",offer_summary:{in_stock:null!==(n=null===(i=e.offerSummary)||void 0===i?void 0:i.inStock)&&void 0!==n&&n},additional_images:null!==(a=ye([{additionalImagesSpec:e.additionalImageOrig,spec:"orig"},{additionalImagesSpec:e.additionalImage736x,spec:"736x"},{additionalImagesSpec:e.additionalImage564x,spec:"564x"},{additionalImagesSpec:e.additionalImage474x,spec:"474x"},{additionalImagesSpec:e.additionalImage236x,spec:"236x"}]))&&void 0!==a?a:[],variant_set:null!==(o=e.variantSet,r={variants:null!==(s=null==o?void 0:o.variants,l=null==s?void 0:s.map((e=>{var t,n;return{additional_images:null!==(n=e.additionalImages,t=null==n?void 0:n.map((e=>{var t,n;return{canonical_images:null!==(t=e.canonicalImages)&&void 0!==t?t:{},image_signature:null!==(n=e.imageSignature)&&void 0!==n?n:""}})))&&void 0!==t?t:[]}})))&&void 0!==l?l:[]})&&void 0!==r?r:{}}}))}function fe(e){const t={};return e.forEach((e=>{const{image:n,spec:i}=e;n&&(t[i]=function(e){var t,n,i,a,r;return{width:null!==(t=e.width)&&void 0!==t?t:0,url:null!==(n=e.url)&&void 0!==n?n:"",type:null!==(i=e.type)&&void 0!==i?i:"",height:null!==(a=e.height)&&void 0!==a?a:0,dominant_color:null!==(r=e.dominantColor)&&void 0!==r?r:""}}(n))})),t}function xe(e){var t,n;return{username:null!==(t=null==e?void 0:e.username)&&void 0!==t?t:"",full_name:null!==(n=null==e?void 0:e.fullName)&&void 0!==n?n:"",image_medium_url:null==e?void 0:e.imageMediumUrl,image_small_url:null==e?void 0:e.imageSmallUrl}}function be(e){var t,n,i;return{id:null!==(t=null==e?void 0:e.entityId)&&void 0!==t?t:"",username:null!==(n=null==e?void 0:e.username)&&void 0!==n?n:"",full_name:null!==(i=null==e?void 0:e.fullName)&&void 0!==i?i:"",image_medium_url:null==e?void 0:e.imageMediumUrl,image_small_url:null==e?void 0:e.imageSmallUrl,type:"user"}}const we=(0,o.Z)({useGraphQLAdapter:function({pinId:e}){var t,n,a,r,o,l,s,c,d,u,p,h,m,_,g,y,v;const f=null===(t=(0,i.useLazyLoadQuery)(ge,{pinId:e}).v3GetPinQuery)||void 0===t?void 0:t.data;return f?{pin:{id:null!==(n=f.entityId)&&void 0!==n?n:"",is_eligible_for_related_products:null!==(a=f.isEligibleForRelatedProducts)&&void 0!==a&&a,description:null!==(r=f.description)&&void 0!==r?r:"",image_signature:null!==(o=f.imageSignature)&&void 0!==o?o:"",images:null!==(l=fe([{image:f.imageOrig,spec:"orig"},{image:f.image736x,spec:"736x"},{image:f.image564x,spec:"564x"},{image:f.image474x,spec:"474x"},{image:f.image236x,spec:"236x"}]))&&void 0!==l?l:{},rich_metadata:(j=f.richMetadata,{products:null!==(D=ve(null==j?void 0:j.products))&&void 0!==D?D:[],description:null!==(R=null==j?void 0:j.description)&&void 0!==R?R:"",title:null!==(F=null==j?void 0:j.title)&&void 0!==F?F:"",recipe:null!==(Z=null==j?void 0:j.recipe,L={name:null!==(U=null==Z?void 0:Z.name)&&void 0!==U?U:"",from_aggregated_data:null!==(B=null==Z?void 0:Z.fromAggregatedData)&&void 0!==B&&B,categorized_ingredients:null==Z||null===(K=Z.categorizedIngredients)||void 0===K?void 0:K.map((e=>{var t;return{category:null!==(t=e.category)&&void 0!==t?t:""}}))})&&void 0!==L?L:{},article:{date_published:null!==(O=null==j||null===(z=j.article)||void 0===z?void 0:z.datePublished)&&void 0!==O?O:""},tutorial:{id:null!==(M=null==j||null===(N=j.tutorial)||void 0===N?void 0:N.name)&&void 0!==M?M:"",type:"makecardtutorialmetadata"}}),rich_summary:(k=f.richSummary,{products:null!==(E=ve(null==k?void 0:k.products))&&void 0!==E?E:[],display_name:null!==(C=null==k?void 0:k.displayName)&&void 0!==C?C:""}),visual_objects:null!==(A=f.visualObjects,s=null==A?void 0:A.map((e=>{var t,n,i,a,r,o,l,s,c,d,u,p,h,m;return{detection:null!==(t=e.detection)&&void 0!==t&&t,h:null!==(n=e.h)&&void 0!==n?n:0,index:null!==(i=e.index)&&void 0!==i?i:0,is_stela:null!==(a=e.isStela)&&void 0!==a&&a,label:null!==(r=e.label)&&void 0!==r?r:"",label_id:null!==(o=e.labelId)&&void 0!==o?o:0,label_x:null!==(l=e.labelX)&&void 0!==l?l:0,label_y:null!==(s=e.labelY)&&void 0!==s?s:0,max_annotation_num_documents:null!==(c=e.maxAnnotationNumDocuments)&&void 0!==c?c:0,score:null!==(d=e.score)&&void 0!==d?d:0,show_on_closeup:null!==(u=e.showOnCloseup)&&void 0!==u&&u,w:null!==(p=e.x)&&void 0!==p?p:0,x:null!==(h=e.w)&&void 0!==h?h:0,y:null!==(m=e.y)&&void 0!==m?m:0}})))&&void 0!==s?s:[],closeup_unified_description:f.closeupUnifiedDescription,grid_title:null!==(c=f.gridTitle)&&void 0!==c?c:"",story_pin_data_id:f.storyPinDataId,repin_count:null!==(d=f.repinCount)&&void 0!==d?d:0,tracked_link:f.trackedLink,link:f.link,domain:null!==(u=f.domain)&&void 0!==u?u:"",closeup_attribution:xe(f.closeupAttribution),link_domain:{official_user:xe(null===(p=f.linkDomain)||void 0===p?void 0:p.officialUser)},native_creator:be(f.nativeCreator),pinner:be(f.pinner),origin_pinner:be(f.originPinner),board:(b=f.board,{id:null!==(w=null==b?void 0:b.entityId)&&void 0!==w?w:"",image_thumbnail_url:null!==(P=null==b?void 0:b.imageThumbnailUrl)&&void 0!==P?P:"",name:null!==(S=null==b?void 0:b.name)&&void 0!==S?S:"",privacy:(I=null==b?void 0:b.privacy,"protected"===I||"public"===I||"secret"===I?I:"secret"),url:null!==(T=null==b?void 0:b.url)&&void 0!==T?T:"",type:"board"}),pin_join:{annotations_with_links_array:null!==(x=null===(m=f.pinJoin)||void 0===m?void 0:m.annotationsWithLinksArray,h=null==x?void 0:x.map((e=>({name:e.name,url:e.url}))))&&void 0!==h?h:[],visual_annotation:null!==(_=null===(g=f.pinJoin)||void 0===g?void 0:g.visualAnnotation)&&void 0!==_?_:[]},story_pin_data:{metadata:{pin_title:null===(y=f.storyPinData)||void 0===y||null===(v=y.metadata)||void 0===v?void 0:v.pinTitle}},type:"pin"},isLoaded:!0}:null;var x,b,w,P,S,T,I,A,k,E,C,j,D,R,F,L,O,z,M,N,Z,U,B,K},useLegacyAdapter:function({pinId:e}){const{data:t,isLoaded:n}=(0,c.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0}});return{pin:t,isLoaded:n}}});function Pe(){const{checkExperiment:e}=(0,s.F)(),t=(0,l.ZP)(),n=(0,a.useRouteMatch)(),{pinId:i}=(0,d.Z)(n.params.id||"");return(0,y.jsx)(we,{input:e("unauth_dweb_graphql_flashlight_pinResource").anyEnabled?{enabled:!0,data:{pinId:i},suspense:{fallback:(0,y.jsx)(r.$j,{accessibilityLabel:t._('Loading Pin data', 'unauthDesktopFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})}}:{enabled:!1,data:{pinId:i}},children:({data:e})=>!!e&&(0,y.jsx)(me,{pinResponse:e})})}},917652:(e,t,n)=>{function i(e){return e&&5!==e?4===e?"stela":null:"related_products"}n.d(t,{Z:()=>i})},536540:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e,noCircle:t}){return(0,i.jsxs)("svg",{height:e,style:{display:"block"},viewBox:t?"3 3 70 70":"-3 -3 82 82",width:e,children:[t?null:(0,i.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,i.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},480462:(e,t,n)=>{function i({isEligibleForPdp:e,isOosProduct:t,isStaleProduct:n,pinShoppingFlags:i}){if(i){const a=i,r={pin_is_shop_the_look:a.includes(2),pin_show_pdp:e||t||n,is_available:a.includes(1),is_product_pin_v2:a.includes(5),is_rich_product_pin:a.includes(6)};return JSON.stringify(r)}}n.d(t,{Z:()=>i})},352865:(e,t,n)=>{n.d(t,{G3:()=>d,Rp:()=>c,kp:()=>s});var i=n(736409),a=n(611756),r=n(173085);const o=14*i.F4;function l(e,t,n){return e-t>n}const s=e=>{const t=function(){const e=Date.now(),t=Number((0,a.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,a.qn)("firstUpsellTime")),lastUpsellTime:t,showedAppUpsellCurrentSession:Boolean((0,r.qn)("showedAppUpsellCurrentSession"))}}();return e?function(e,t,n){const{currentTime:i,firstUpsellTime:r,lastUpsellTime:s,showedAppUpsellCurrentSession:c}=e;return n=n||o,!r||function(e,t,n){return e<t+n}(i,r,t)?!c:!!l(i,s,n)&&((0,a.L_)("firstUpsellTime"),!0)}(t,i.F4):function(e,t){const{currentTime:n,lastUpsellTime:i}=e;return t=t||o,!i||l(n,i,t)}(t)},c=({isBot:e,platform:t,userAgent:n})=>{try{return!e&&"android"===t&&parseFloat((e=>{const t=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return t?t[1]:void 0})(n))<7}catch(i){return!1}},d=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},185803:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(40660),a=n(865173),r=n(739425);const o="http://play.google.com/store/apps/details?id=com.pinterest",l=["access_token","new_password","new_password_confirm","password","next"],s=(e,t)=>t?(0,r.ru)(e,{invite_code:t}):e,c=(e,t,n)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){const t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return"string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e?s(e,n):"ios"===t||"ipad"===t?s(e.iOS,n):"android"===t?s(e.android,n):null},d=({isAuthenticated:e,checkExperiment:t,deeplinkUri:n,fallbackUrl:s,invite_code:d,logContextEvent:u,platform:p,redirectToLite:h,unauthId:m,userAgent:_,within:g})=>{null==u||u({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:g}});let y="https://pinterest.onelink.me/TVSr/21e04bfd";switch(null==t?void 0:t(e?"mweb_auth_apple_app_store_custom_page_referral":"mweb_unauth_apple_app_store_custom_page_referral").group){case"enabled_1":y="https://pinterest.onelink.me/TVSr/d47vxerq";break;case"enabled_2":y="https://pinterest.onelink.me/TVSr/hhstj28i";break;case"enabled_3":y="https://pinterest.onelink.me/TVSr/b16kbfgq";break;case"enabled_4":y="https://pinterest.onelink.me/TVSr/nfh3eyy2";break;case"enabled_5":y="https://pinterest.onelink.me/TVSr/elsthgd7"}if(n){const t=(({deeplinkUri:e,invite_code:t,platform:n,fallbackUrl:i,unauthId:a})=>({deeplink_path:c(e,n,t),current_page_url:(0,r.Gw)("undefined"!=typeof window?window.location.href:"",l),install_id:a,utm_source:140,utm_medium:2152,...i?{af_r:i}:null}))({isAuthenticated:e,deeplinkUri:n,fallbackUrl:s,invite_code:d,platform:p,unauthId:m,userAgent:_});if(i.Z.increment("mweb.deeplink",1,{platform:p}),d&&i.Z.increment("mweb.deeplink.invite_code",1),i.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(m)}),h){i.Z.increment("mweb.deeplink.lite_link",1),null==u||u({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:g}});const e=(({unauthId:e})=>{const t=(0,r.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(t)}})({unauthId:m});window.location.href=(0,r.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===p){null==u||u({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:g}});const e=(({deeplinkUri:e,invite_code:t,platform:n,unauthId:i})=>{const a=JSON.stringify({deeplink_path:c(e,n,t),current_page_url:(0,r.Gw)("undefined"!=typeof window?window.location.href:"",l),install_id:i});return{referrer:(0,r.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:a})}})({deeplinkUri:n,invite_code:d,platform:p,unauthId:m});(0,a.v)()?(0,a.Z)().then((n=>{if(n.length>0){const e=(0,r.ru)(window.location.href,t);window.open(e)}else null==u||u({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:g}}),window.location.href=(0,r.ru)(o,e)})).catch((()=>{i.Z.increment("mweb_android.deeplink.playStore.error",1)})):(null==u||u({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:g}}),window.location.href=(0,r.ru)(o,e))}else{if(i.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===p&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal"))return void(window.location.href=(0,r.ru)("https://pinterest.com/pinterest-predicts",t));null==u||u({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:g}}),window.location.href=(0,r.ru)(y,t)}}}},220067:(e,t,n)=>{n.d(t,{DZ:()=>d,Dv:()=>u,Es:()=>c,HW:()=>s});var i=n(245410),a=n(611756),r=n(509342);const o=e=>e>=Date.now()-72e5,l=(e,t)=>{const n=[];if(e)for(const i of e)t&&!i.is_shared||o(i.ts)&&n.push(i);return n},s=()=>{const e=(0,a.qn)(r.zR),t=e?JSON.parse(e):[],n=l(t,!1),i=l(t,!0),s=n.map((e=>e.first_pin_image_signature)),c=i.map((e=>e.first_pin_image_signature)),d=(e=>{const t={};if(e)for(const n of e)n.is_shared&&o(n.ts)&&n.pin_id&&(t[n.pin_id]={inviteCode:n.pin_invite_code});return t})(t),u=(0,a.qn)(r.dy),p=u?JSON.parse(u):[];return{extraPlpImages:s,plpImageRenderData:n,extraBlpImages:l(p,!0).map((e=>e.first_pin_image_signature)),extraSharedImages:c,sharedPinData:d}},c=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1){if(e[n].id!==t[n].id)return!1}return!0},d=(e,t)=>e.nuxTopics?e.nuxTopics.map((({id:e})=>t[e])):null,u=()=>{const{checkExperiment:e}=(0,i.F)(),{anyEnabled:t,group:n}=e("mweb_mini_renux");return{inMiniRenuxEnabledGroup:t,interestsLimit:t?Number(n.slice(-1)):NaN}}},261453:(e,t,n)=>{n.d(t,{CC:()=>l,H$:()=>c,Mt:()=>o,dp:()=>s,p9:()=>d});var i=n(611756),a=n(173085),r=n(509342);const o=(e,t,n,a,o,l,s=r.k7)=>{const c=(0,i.qn)(s)?JSON.parse((0,i.qn)(s)):[];if(!c[0]||c[0].path!==e){const r=[{path:e,ts:Date.now(),pin_id:n||0,first_pin_image_signature:t||"",first_pin_id:n||"",image_info:a||"",pin_description:o||"",is_shared:!!l,pin_invite_code:l}];(0,i.Nh)(s,JSON.stringify(r.concat(c)))}},l=({path:e,image:t,dominant_color:n,pin_description:i,pin_id:o})=>{const l=(()=>{const e=(0,a.qn)(r.KH);if(!e)return[];let t;try{t=JSON.parse(e)}catch(n){t=[]}return t})();if(!l[0]||l[0].path!==e){const s=[{path:e,image:t,pin_description:i||"",dominant_color:n||"",pin_id:o||""}];(0,a.Nh)(r.KH,JSON.stringify(s.concat(l)))}};function s(e,t,n,i,a,l){o(e,t,n,i,a,l,r.zR)}const c=(e,t,n,i,a)=>{o(e,t,n,i,null!=a?a:"","",r.dy)};function d(e,t,n,i,a){o(e,t,n,i,a,"",r.QR)}},411224:(e,t,n)=>{n.d(t,{Z:()=>c,x:()=>s});var i=n(667294),a=n(98736),r=n(785893);const o=(0,i.createContext)((()=>{})),l=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")},s=({children:e})=>{const[t,n]=(0,i.useState)(null);(0,i.useEffect)((()=>l),[]);const s=(0,i.useCallback)((e=>{(0,a.My)("dweb.unauth.context_menu.open_menu"),document&&document.body&&document.body.style&&(document.body.style.overflow="hidden"),n(e)}),[]),c=!!t;return(0,i.useEffect)((()=>{const e=()=>{n(null),l(),(0,a.My)("dweb.unauth.context_menu.click_away")};return c&&document.addEventListener("click",e),()=>{c&&document.removeEventListener("click",e)}}),[c]),(0,r.jsx)(o.Provider,{value:s,children:(0,r.jsxs)(i.Fragment,{children:[e,t]})})},c=()=>(0,i.useContext)(o)},169492:(e,t,n)=>{n.d(t,{$:()=>s,Z:()=>c});var i=n(667294),a=n(611756);const r=e=>{if(!e)return null;try{return JSON.parse(e)}catch(t){return null}},o=new Set;function l(e){const t=(0,i.useCallback)((t=>{const n=n=>{n===e&&t()};return o.add(n),()=>{o.delete(n)}}),[e]),n=(0,i.useSyncExternalStore)(t,(()=>(0,a.qn)(e)),(()=>null)),l=(0,i.useCallback)((t=>{null===t?(0,a.L_)(e):(0,a.Nh)(e,JSON.stringify(t)),function(e){o.forEach((t=>t(e)))}(e)}),[e]);return(0,i.useMemo)((()=>[r(n),l]),[n,l])}const s=2,c=()=>{const[e,t]=l("unauthSavedPins"),n=null!==(a=null==(i=e)?void 0:i.pins)&&void 0!==a?a:[];var i,a;const r=e=>t((e=>e.length?{pins:e}:null)(e)),o=()=>n.length<s;return{pins:n,save:e=>{o()&&r(n.filter((({id:t})=>t!==e.id)).concat([e]))},unsave:e=>r(n.filter((({id:t})=>t!==e))),isSaved:e=>n.some((({id:t})=>t===e)),clear:()=>r([]),canSaveMore:o}}},963181:(e,t,n)=>{n.d(t,{Hg:()=>a,T_:()=>o,g6:()=>r,w6:()=>i});const i=(e,t)=>Array.from({length:t-e},((t,n)=>n+e)),a=508,r=600;function o(e,t){if(!t.startsWith("en"))return e;return e.split(" ").map((e=>e===e.toUpperCase()?e:e.toLowerCase())).join(" ")}},812889:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),a=n(883119),r=n(24286),o=n(874261),l=n(549201),s=n(756876),c=n(785893);const d="PinGridSkeletonLoader__tall",u="PinGridSkeletonLoader__short",p=({size:e})=>(0,c.jsx)(a.xu,{padding:1,children:(0,c.jsx)("div",{className:"tall"===e?d:u})}),h=({children:e})=>(0,c.jsx)(a.kC,{direction:"column",gap:{row:0,column:2},children:e}),m=({partialViewportWidth:e})=>{const t="desktop"===(0,l.ZP)(),n=t?r.yF:r.tG;return(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(o.Z,{unsafeCSS:[{name:d,height:250},{name:u,height:150}].map((({name:e,height:t})=>(0,s.Z)({name:e,width:n,height:t}))).join("")}),(0,c.jsx)(a.xu,{marginStart:r.qG,marginEnd:r.qG,children:t?(0,c.jsxs)(a.kC,{direction:"row",gap:{row:r.jC,column:0},children:[(0,c.jsx)(h,{children:(0,c.jsx)(p,{size:"tall"})}),(0,c.jsx)(h,{children:(0,c.jsx)(p,{size:"short"})}),(0,c.jsx)(h,{children:(0,c.jsx)(p,{size:"tall"})}),!e&&(0,c.jsx)(h,{children:(0,c.jsx)(p,{size:"short"})})]}):(0,c.jsxs)(a.kC,{direction:"row",overflow:"hidden",justifyContent:"center",children:[(0,c.jsxs)(h,{children:[(0,c.jsx)(p,{size:"tall"}),(0,c.jsx)(p,{size:"short"}),(0,c.jsx)(p,{size:"tall"})]}),(0,c.jsxs)(h,{children:[(0,c.jsx)(p,{size:"short"}),(0,c.jsx)(p,{size:"tall"}),(0,c.jsx)(p,{size:"short"}),(0,c.jsx)(p,{size:"tall"})]})]})})]})}},756876:(e,t,n)=>{n.d(t,{Z:()=>i});const i=({name:e,width:t,height:n})=>{const i=`${n}${"number"==typeof n?"px":""}`,a="number"==typeof t?t:236;return`\n.${e} {\n  -webkit-animation-duration: 1s;\n  -webkit-animation-fill-mode: forwards;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-name: ${e}_placeHolderShimmer;\n  -webkit-animation-timing-function: linear;\n  border-radius: 16px;\n  background: #f6f7f9;\n  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);\n  background-repeat: no-repeat;\n  background-size: ${a} ${i};\n  width: ${`${t}${"number"==typeof t?"px":""}`};\n  height: ${i};\n}\n\n@keyframes ${e}_placeHolderShimmer{\n  0% {\n      background-position: -${a}px 0;\n  }\n  100% {\n      background-position: ${a}px 0;\n  }\n}\n`}},624524:(e,t,n)=>{n.d(t,{Bb:()=>g,Bx:()=>s,F4:()=>l,OG:()=>r,Qj:()=>c,_6:()=>_,gv:()=>o,hg:()=>d,is:()=>h,jP:()=>m,lt:()=>a,oM:()=>u,wI:()=>p});var i=n(739425);const a=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),r=e=>e.pathname,o=({firstName:e,i18n:t})=>e?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),l=e=>{const t=(0,i.mB)(e.search).board_url;if(t){const e=(0,i.Jx)(t),n=(0,i.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${n}`:`${e}?${n}`}return e.pathname},s=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),c=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},d=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),u=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),p=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},h=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),m=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),_=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),g=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},731107:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),a=n(377234),r=n(785893);const o=48;function l({color:e,image:t,isSelected:n,title:l}){var s,c,d;return(0,r.jsxs)(i.xu,{alignItems:"center","aria-selected":n,dangerouslySetInlineStyle:{__style:{backgroundColor:(0,a.Yc)()?n?"#fff":"#767676":n?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,r.jsx)(i.zd,{height:o,rounding:"circle",width:o,children:(0,r.jsx)(i.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(s=t.height)&&void 0!==s?s:1,naturalWidth:null!==(c=t.width)&&void 0!==c?c:1,src:null!==(d=t.url)&&void 0!==d?d:""})}),(0,r.jsx)(i.xu,{marginStart:2,marginEnd:3,children:(0,r.jsx)(i.xv,{color:n?"inverse":(0,a.Yc)()?"light":"dark",weight:"bold",children:l})})]})}},833145:(e,t,n)=>{n.d(t,{ZP:()=>te,Bi:()=>J,gv:()=>Q});var i=n(167912),a=n(616550),r=n(883119),o=n(448709),l=n(536042),s=n(245410),c=n(664334),d=n(769623),u=n(667294),p=n(555495),h=n(917027),m=n(24286),_=n(819079),g=n(785893);const y=({data:e,itemIdx:t})=>(0,g.jsx)(p.default,{pin:e,pinId:e.id,authDesktopSurface:"RelatedProductsFeed",slotIndex:t,viewParameter:3334,viewType:72});function v({resourceOptions:e}){const t=(0,l.ZP)(),n=(0,_.Z)({name:"VisualLiveSearchProductFeedResource",options:e}),{data:i,isAtEnd:a,isLoaded:o,isFetching:s,fetchMore:c}=n,d=(0,u.useRef)(null);if(!o)return(0,g.jsx)(r.kC,{alignItems:"stretch",alignSelf:"center",justifyContent:"center",children:(0,g.jsx)(r.$j,{accessibilityLabel:t._('Loading related products', 'Label for loading spinner', 'Label for loading spinner'),show:!0})});const p=Array.isArray(i)?i:null==i?void 0:i.results;return(0,g.jsx)(r.xu,{display:"flex",maxWidth:"100%",ref:d,justifyContent:"center",children:p&&(0,g.jsx)(h.default,{columnWidth:m.yF,isAtEnd:a,isFetching:s,renderItem:e=>(0,g.jsx)(y,{...e}),items:p,loadItems:()=>{s||a||c()},paddingStyle:"simplified",scrollContainerRef:d,virtualize:!1})})}var f=n(482203),x=n(920394),b=n(636125),w=n(705882);class P extends u.PureComponent{constructor(...e){var t,n,i;super(...e),i=({data:e,itemIdx:t})=>{const{resourceOptions:{image_signature:n},visualLiveSearchResource:i}=this.props,a=i&&i.data&&i.data.search_identifier,r=`${window.location.pathname}products/${window.location.search}`;return"story"===e.type?(0,g.jsx)(w.Z,{story:e,dangerouslySetActionUrl:r,slotIndex:t}):(0,g.jsx)(p.default,{pin:e,pinId:e.id,authDesktopSurface:"FlashlightResultGrid",auxData:{search_identifier:a,image_signature:n},slotIndex:t,viewData:{search_identifier:a},viewType:72})},(n="renderItem")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){const{visualLiveSearchResource:e,onSearchIdChange:t}=this.props,n=e&&e.data&&e.data.search_identifier;n&&t(n)}componentDidUpdate({visualLiveSearchResource:{data:e}}){const{visualLiveSearchResource:{data:t}}=this.props,n=t&&t.search_identifier,i=e&&e.search_identifier;n&&n!==i&&this.props.onSearchIdChange(n)}render(){const{hasSimplifiedPinGridExpLoaded:e,visualLiveSearchResource:t}=this.props,{data:n,isFetching:i,fetchMore:a}=t,o=n&&n.results,l=n&&n.search_identifier;return(0,g.jsxs)(r.xu,{children:[o&&l&&(0,g.jsx)(r.xu,{children:(0,g.jsx)(r.Rk,{columnWidth:m.yF,renderItem:({data:e,itemIdx:t})=>this.renderItem({data:e,itemIdx:t}),gutterWidth:m.P2,items:o,loadItems:a,minCols:1,scrollContainer:()=>window})}),(0,g.jsx)(r.$j,{accessibilityLabel:this.props.i18n._('Loading search results...', 'Accessibility label for loading visual search results', 'Accessibility label for loading visual search results'),show:i||!l||!e})]})}}function S(e){const t=(0,l.ZP)(),{hasSimplifiedPinGridExpLoaded:n}=(0,f.$)(),{checkExperiment:i}=(0,s.F)(),{anyEnabled:a}=i("web_flashlight_unified_feed"),{resourceOptions:r,pin:o,viewParameter:c}=e,d=(0,_.Z)({name:"VisualLiveSearchResource",options:r}),{visualSearchFlashlightUnifiedResource:p}=(0,b.Z)({resourceOptions:r});return(0,g.jsx)(u.Fragment,{children:a?(0,g.jsx)(x.Z,{imageSignature:o.image_signature,isProductOnlyFeed:!1,pin:o,variant:"flashlight",viewParameter:c,viewType:72,visualSearchFlashlightUnifiedResource:p}):(0,g.jsx)(P,{...e,visualLiveSearchResource:d,hasSimplifiedPinGridExpLoaded:n,i18n:t})})}var T=n(29152),I=n(675187),A=n(570266),k=n(388011),E=n(709509),C=n(153263),j=n(488167),D=n(282802),R=n(99220),F=n(739425),L=n(272109),O=n(849886),z=n(452253),M=n(732719),N=n(818577),Z=n(162664);const U=20,B=60;let K=0,H="";function G({pin:e}){const{logContextEvent:t}=(0,k.v)(),n=(0,l.ZP)(),i=(0,a.useHistory)(),o=(0,D.B)(),{checkExperiment:c}=(0,s.F)(),{anyEnabled:p}=c("web_flashlight_unified_feed"),{id:h}=(0,a.useParams)(),{pinId:m}=(0,d.Z)(h||""),_=(0,a.useLocation)(),y=(0,F.mB)(_.search),{cropSource:f}=function(e){return Object.keys(e).reduce(((t,n)=>({...t,[n]:parseInt(e[n],10)})),{})}(y),{imageSignature:x}=y,b=(0,T.Z)(_),[w,P]=(0,u.useState)(""),G=_.pathname.includes("/products")?"products":"flashlight",W=(0,u.useRef)();(0,u.useEffect)((()=>(W.current&&H===m&&(W.current.scrollTop=K),()=>{W.current&&(K=W.current.scrollTop,H=m)})));const $=f||5,V=p&&4===$?3462:3050;if((0,L.Z)((()=>{if(!b&&e){const{image_signature:t}=e,n=x||t,{width:a,height:r}=(0,j.Z)({pin:e,imageSignature:n}),o=(0,M.Z)({cropArea:{h:(null!=r?r:1)-2*E.S,w:(null!=a?a:1)-2*E.S,x:E.S,y:E.S},pinId:m,view:G,imageSignature:x});i.replace(o)}p||t({event_type:13,view_type:72,view_parameter:3050,view_data:{pin_id:m}})})),!e)return null;const{image_signature:q}=e,Y=x||q,{width:X,height:J,url:Q}=(0,j.Z)({pin:e,imageSignature:Y});""===Q&&i.push(`/pin/${m}/visual-search/`);const ee=(0,I.Z)({initialCropArea:b,pin:e,imageSignature:Y}),te={pin_id:m,image_signature:Y,crop:(0,z.Z)({cropArea:ee,scaledWidth:X,scaledHeight:J}),crop_source:$,is_shopping:!1,entry_source:"flashlight"},ne=!(_&&_.state&&_.state.internalNavigation),ie=o&&o.isRTL||!1,ae=X+U,re=ae+16,oe=!p||p&&(5===$||6===$),le=(0,O.k)(e.visual_objects||[]),se=(0,O.m)(e.visual_objects||[]),ce=(le.length>0||se.length>0)&&Y===q&&(c("dweb_flashlight_show_more_stela_dots").anyEnabled?le:se)||[];return(0,g.jsx)(R.Z,{view:72,objectId:w,children:(0,g.jsxs)(u.Fragment,{children:[(0,g.jsx)(N.Z,{text:n._('Visual Search Page', 'pin.flashlight.accessibilityhiddenheading', 'accessibility label for flashlight page')}),oe&&(0,g.jsx)(A.Z,{pinId:m,title:"products"===G?n._('Shop similar items', 'Header explaining results of flashlight products search', 'Header explaining results of flashlight products search'):n._('More Ideas', 'Header explaining results of flashlight search', 'Header explaining results of flashlight search'),variant:"flashlight",viewParameter:V,viewType:72}),(0,g.jsx)(Z.c,{children:t=>{var n;return"products"===G?(0,g.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{marginTop:B}},children:[(0,g.jsx)(v,{resourceOptions:te}),";"]}):(0,g.jsxs)(r.xu,{display:"flex",paddingX:12,children:[(0,g.jsx)(r.xu,{bottom:!0,overflow:"auto",position:"fixed",dangerouslySetInlineStyle:{__style:{width:ae,height:"inherit",top:t+B,marginBottom:10}},ref:W,children:(0,g.jsx)(r.xu,{"data-test-id":"flashlight-enabled-image",dangerouslySetInlineStyle:{__style:{width:X,height:J}},children:(0,g.jsxs)(r.zd,{height:J,rounding:2,width:X,children:[(0,g.jsx)(r.Ee,{alt:null!==(n=e.description)&&void 0!==n?n:"",naturalHeight:J,naturalWidth:X,src:Q}),(0,g.jsx)(C.Z,{showAnimation:ne,imageSignature:Y,imageSize:{h:J,w:X},initialCropArea:ee,pin:e,spotlightAreas:ce,viewParameter:V})]})})}),(0,g.jsx)(r.xu,{position:"relative",width:"100%",dangerouslySetInlineStyle:{__style:{top:B,marginLeft:ie?void 0:re,marginRight:ie?re:void 0}},children:(0,g.jsx)(S,{resourceOptions:te,onSearchIdChange:P,pin:e,viewParameter:V})})]})}})]})})}var W;const $=void 0!==W?W:W=n(126210);function V(e){var t,n,i;return{width:null!==(t=e.width)&&void 0!==t?t:0,url:null!==(n=e.url)&&void 0!==n?n:"",height:null!==(i=e.height)&&void 0!==i?i:0}}function q(e){const t=[];return e.forEach((({additionalImages:e,spec:n})=>{var i;t.push(...null!==(i=function({additionalImages:e,spec:t}){const n=[];return null==e||e.forEach((e=>{var i;e.canonicalImage&&n.push({canonical_images:{[t]:V(e.canonicalImage)},image_signature:null!==(i=e.imageSignature)&&void 0!==i?i:""})})),n}({additionalImages:e,spec:n}))&&void 0!==i?i:[])})),t}function Y(e){return null==e?void 0:e.map((e=>{var t,n,i,a,r;return{additional_images:null!==(t=q([{additionalImages:e.additionalImageOrig,spec:"orig"},{additionalImages:e.additionalImage736x,spec:"736x"},{additionalImages:e.additionalImage564x,spec:"564x"},{additionalImages:e.additionalImage474x,spec:"474x"},{additionalImages:e.additionalImage236x,spec:"236x"}]))&&void 0!==t?t:[],variant_set:null!==(i=e.variantSet,n={variants:null!==(r=null==i?void 0:i.variants,a=null==r?void 0:r.map((e=>{var t,n;return{additional_images:null!==(n=e.additionalImages,t=null==n?void 0:n.map((e=>{var t,n;return{canonical_images:null!==(t=e.canonicalImages)&&void 0!==t?t:{},image_signature:null!==(n=e.imageSignature)&&void 0!==n?n:""}})))&&void 0!==t?t:[]}})))&&void 0!==a?a:[]})&&void 0!==n?n:{}}}))}function X(e){const t={};return e.forEach((e=>{const{image:n,spec:i}=e;n&&(t[i]=V(n))})),t}function J(){var e,t,n,r,o,l,s;const{id:c}=(0,a.useParams)(),{pinId:u}=(0,d.Z)(c||""),p=function({pinId:e}){return{query:$,variables:{pinId:e}}}({pinId:u}),h=null===(e=(0,i.useLazyLoadQuery)($,p.variables).v3GetPinQuery)||void 0===e?void 0:e.data;if(!h)return null;var m,_,g,y,v;return{id:null!==(t=h.entityId)&&void 0!==t?t:"",is_eligible_for_related_products:null!==(n=h.isEligibleForRelatedProducts)&&void 0!==n&&n,description:null!==(r=h.description)&&void 0!==r?r:"",image_signature:null!==(o=h.imageSignature)&&void 0!==o?o:"",visual_objects:null!==(v=h.visualObjects,l=null==v?void 0:v.map((e=>{var t,n,i,a,r,o,l,s,c,d,u,p,h,m,_;return{detection:null!==(t=e.detection)&&void 0!==t&&t,h:null!==(n=e.h)&&void 0!==n?n:0,index:null!==(i=e.index)&&void 0!==i?i:0,is_stela:null!==(a=e.isStela)&&void 0!==a&&a,label:null!==(r=e.label)&&void 0!==r?r:"",label_id:null!==(o=e.labelId)&&void 0!==o?o:0,label_x:null!==(l=e.labelX)&&void 0!==l?l:0,label_y:null!==(s=e.labelY)&&void 0!==s?s:0,max_annotation_num_documents:null!==(c=e.maxAnnotationNumDocuments)&&void 0!==c?c:0,score:null!==(d=e.score)&&void 0!==d?d:0,show_on_closeup:null!==(u=e.showOnCloseup)&&void 0!==u&&u,title:null!==(p=e.title)&&void 0!==p?p:"",w:null!==(h=e.x)&&void 0!==h?h:0,x:null!==(m=e.w)&&void 0!==m?m:0,y:null!==(_=e.y)&&void 0!==_?_:0}})))&&void 0!==l?l:[],images:null!==(s=X([{image:h.imageOrig,spec:"orig"},{image:h.image736x,spec:"736x"},{image:h.image564x,spec:"564x"},{image:h.image474x,spec:"474x"},{image:h.image236x,spec:"236x"}]))&&void 0!==s?s:{},rich_metadata:(g=h.richMetadata,{products:null!==(y=Y(null==g?void 0:g.products))&&void 0!==y?y:[]}),rich_summary:(m=h.richSummary,{products:null!==(_=Y(null==m?void 0:m.products))&&void 0!==_?_:[]}),type:"pin"}}function Q(){const{data:e,isLoaded:t}=(0,c.Z)({name:"PinResource",getOptions:({routeData:{params:{id:e}}})=>({id:e,field_set_key:"detailed",fetch_visual_search_objects:!0})});return t&&e?e:null}const ee=(0,o.Z)({useGraphQLAdapter:J,useLegacyAdapter:Q});function te(){const{checkExperiment:e}=(0,s.F)(),t=(0,l.ZP)();return(0,g.jsx)(ee,{input:e("auth_dweb_graphql_flashlight_pinResource").anyEnabled?{enabled:!0,data:null,suspense:{fallback:(0,g.jsx)(r.$j,{accessibilityLabel:t._('Loading Pin data', 'authDesktopFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})}}:{enabled:!1,data:null},children:({data:e})=>!!e&&(0,g.jsx)(G,{pin:e})})}},850500:(e,t,n)=>{n.d(t,{S:()=>d,w:()=>u});var i=n(667294),a=n(583592),r=n(133244),o=n(579733),l=n(785893);const s=()=>n.e(48968).then(n.bind(n,948968)),{Provider:c,useHook:d}=(0,a.Z)("MerchantStorefrontSettings");function u({children:e}){const[t,n]=(0,r.Z)(s,o.Z),a=(0,i.useMemo)((()=>({merchantStorefrontSettings:t,updateLocaleStorefrontSetting:(e,t,i)=>{n({type:"UPDATE_LOCALE_STOREFRONT_SETTING",payload:{country:e,language:t,feedProfileId:i}})},updateStorefrontLastUpdated:e=>{n({type:"UPDATE_STOREFRONT_LAST_UPDATED",payload:e})}})),[n,t]);return(0,l.jsx)(c,{value:a,children:e})}},407387:(e,t,n)=>{n.d(t,{Z:()=>i});const i={STOREFRONT_LOCALE_STORAGE_KEY:"merchantStorefront.storefrontSettings.locale"}},579733:(e,t,n)=>{n.d(t,{Z:()=>i});const i={currentViewingLocale:{country:"",language:"",feedProfileId:""},lastUpdated:0}},471501:(e,t,n)=>{function i({user:e,viewer:t}){return Boolean(t.isAuth&&(null==e?void 0:e.username)===t.username)}n.d(t,{Z:()=>i})},806743:(e,t,n)=>{n.d(t,{$B:()=>s,L6:()=>u,S5:()=>d,UI:()=>o,Up:()=>h,jl:()=>l,vW:()=>c,yK:()=>p});var i=n(883119),a=n(475190),r=n(589665);const o=new i.H3([new i.Ry(a.HW),new i.Ry(r.fe)]),l=1e5,s={ALL:"ALL",FEATURED:"FEATURED",CATEGORY:"CATEGORY"},c={SectionCategories:"SectionCategories",SectionEditYourShop:"SectionEditYourShop",SectionFeaturedProductGroups:"SectionFeaturedProductGroups"},d={[c.SectionCategories]:s.CATEGORY,[c.SectionFeaturedProductGroups]:s.FEATURED,[c.SectionEditYourShop]:s.ALL},u={[c.SectionCategories]:14126,[c.SectionFeaturedProductGroups]:14127},p={FEATURED:"featured_product_groups",CATEGORY:"featured_categories_product_groups"},h="/product-catalogs"},51283:(e,t,n)=>{n.d(t,{PRODUCT_GROUP_COVER_IMAGE_DIMENSIONS:()=>s,Z:()=>c});var i=n(667294),a=n(883119),r=n(388011),o=n(880391),l=n(785893);const s={HEIGHT:362,WIDTH:362};function c({productGroup:e,preferredPreviewPinSizes:t=[],coverFit:n=!1}){var c,d,u;const{logContextEvent:p}=(0,r.v)(),h=e.cover_images&&e.cover_images[0]&&(0,o.cB)(e.cover_images[0]),{WIDTH:m,HEIGHT:_}=s,g=e.preview_pins&&e.preview_pins[0]&&e.preview_pins[0].images;let y;const[v,f]=(0,i.useState)(!h);g&&v&&(y=t.concat("orig").map((e=>g[e])).find((e=>!!e)));const x=v?null===(c=y)||void 0===c?void 0:c.height:_,b=v?null===(d=y)||void 0===d?void 0:d.width:m,w=v?null===(u=y)||void 0===u?void 0:u.url:h;return x&&b&&w?(0,l.jsx)(a.Ee,{alt:"",naturalHeight:x,naturalWidth:b,src:w,fit:n?"cover":"contain",onError:()=>{v||(p({event_type:10048,component:14004,aux_data:{product_group_cover_image_url:h}}),f(!0))}}):null}},492701:(e,t,n)=>{n.d(t,{Z:()=>k});var i=n(667294),a=n(883119),r=n(690108),o=n(388011),l=n(970588),s=n(88622),c=n(550140),d=n(536042),u=n(630089),p=n(819079),h=n(63262),m=n(802071),_=n(850865),g=n(259511),y=n(475190),v=n(589665),f=n(850500),x=n(880391),b=n(785893);const w=new a.H3([new a.Ry(y.HW),new a.Ry(v.fe)]),P=316,S=255,T=155;function I({onFileUpload:e}){const t=(0,d.ZP)(),[n,r]=(0,i.useState)(!1),o=(0,i.useRef)(null),l=t._('Upload from computer', 'ProductGroupDetailsModal.uploadFromComputer', 'Dropdown label to upload image file from your computer');return(0,b.jsxs)(a.kC,{justifyContent:"center",children:[(0,b.jsx)(a.hU,{accessibilityExpanded:n,accessibilityHaspopup:!0,accessibilityLabel:t._('Upload product group cover image menu', 'ProductGroupDetailsModal.productGroupCoverImageA11y', 'Accessibility text for upload menu'),bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:()=>r((e=>!e)),ref:o,size:"lg"}),n&&(0,b.jsx)(a.Lt,{anchor:o.current,id:"product-group-image-dropdown",onDismiss:()=>r(!1),children:(0,b.jsx)(a.Lt.Item,{onSelect:()=>{r(!1),e()},option:{value:l,label:l}})})]})}function A({image:e,onFileUpload:t,onError:n}){const i=(0,d.ZP)(),r=i._('Product Group Cover Image', 'ProductGroupDetailsModal.productGroupCoverImageAlt', 'Alt text for product group cover image');return(0,b.jsxs)(a.xu,{position:"relative",children:[(0,b.jsx)(a.xu,{height:P,width:P,rounding:5,overflow:"hidden",children:(0,b.jsx)(a.Ee,{alt:r,color:"#EFEFEF",fit:"cover",naturalHeight:1,naturalWidth:1,src:e,onError:n})}),(0,b.jsx)(a.xu,{position:"absolute",top:!0,right:!0,padding:4,children:(0,b.jsx)(I,{onFileUpload:t})})]})}function k({onDismiss:e,onSubmit:t,productGroup:n}){var y,v,I;const{logContextEvent:k}=(0,o.v)(),E=(0,d.ZP)(),C=E._('Edit product group display', 'ProductGroupDetailsModal.heading', 'Modal title'),j=`/v3/business/users/${(0,m.Z)().id||""}/storefront/product_group_image/`,[D,R]=(0,i.useState)(""),[F,L]=(0,i.useState)(""),[O,z]=(0,i.useState)(),[M,N]=(0,i.useState)(),[Z,U]=(0,i.useState)(!1),[B,K]=(0,i.useState)(0),[H]=(0,i.useState)((new Date).getTime()),G=n.group_type!==x.yh,{merchantId:W,advertiserId:$}=(0,_.Z)(),{showOneToast:V}=(0,h.F9)(),{updateStorefrontLastUpdated:q}=(0,f.S)(),Y=(0,g.Ib)({advertiserId:$,merchantId:W,productGroupsIds:[n.id],uniq:H},!1,!0),X=(0,p.Z)({name:"ApiResource",options:{url:j,data:{product_group_ids:[n.id]},uniq:H},noCache:!0}),J=(0,i.useRef)(),Q=Number(n.id),ee=null===(y=Y.data)||void 0===y?void 0:y.find((e=>e.id===Q)),te=Y.isLoaded&&X.isLoaded,ne=ee&&(D!==ee.name||F!==(ee.description||"")||!!O),ie=ee&&D!==ee.name,ae=ee&&F!==(ee.description||""),re=te?(0,x.cB)(null===(v=X.data)||void 0===v||null===(I=v[n.id])||void 0===I?void 0:I[0]):null,oe=n.preview_pins[0],le=null==oe?void 0:oe.image_signature,se=(0,x.cB)(null==oe?void 0:oe.images),ce=M||[re,se].filter((e=>!!e))[B];(0,i.useEffect)((()=>{ee&&(R(ee.name||""),L(ee.description||""))}),[ee]),(0,i.useEffect)((()=>{k({event_type:9854,component:13998})}),[k]);const de=()=>{e(),k({event_type:9856,component:13998})},ue=E._('Save', 'ProductGroupDetailsModal.SaveBtn', 'Button to save product group details changes'),pe=E._('Cancel', 'ProductGroupDetailsModal.CancelBtn', 'Button to cancel product group details changes');return(0,b.jsx)(a.mh,{zIndex:w,children:(0,b.jsx)(s.ZP,{accessibilityModalLabel:C,align:"center",heading:C,onDismiss:de,footer:te?(0,b.jsxs)(a.kC,{alignItems:"start",children:[(0,b.jsx)(a.xu,{width:"50%",children:(0,b.jsx)(a.xv,{size:"300",children:(0,u.nk)(E._('To edit items in this product group, visit {{catalogsLink}}', 'ProductGroupDetailsModal.coverImage', 'heading for cover image form'),{catalogsLink:(0,b.jsx)(a.rU,{href:"/product-catalogs",display:"inlineBlock",target:"blank",underline:"hover",children:(0,b.jsx)(a.xv,{weight:"bold",inline:!0,children:E._('Pinterest Catalogs', 'ProductGroupDetailsModal.catalogsLink', 'link for catalogs')})},"product-catalogs-link")})})}),(0,b.jsx)(a.xu,{width:"50%",children:(0,b.jsxs)(a.kC,{gap:{row:2,column:0},alignItems:"center",justifyContent:"end",children:[(0,b.jsx)(a.zx,{color:"gray",text:pe,onClick:de}),(0,b.jsx)(a.zx,{color:"red",text:ue,onClick:()=>{const i=re?O:O||le,a=[],o=[];i&&(a.push((0,l.Z)({url:j,method:"PUT",data:{image_signatures:[i],product_group_id:n.id}})),o.push("cover_image")),(ie||ae)&&(a.push(r.Z.create("ProductGroupsResource",{name:D,description:F,productGroupId:Number(n.id),filters:null==ee?void 0:ee.filter_v2}).callUpdate()),ie&&o.push("name"),ae&&o.push("description")),k({event_type:9857,component:13998,aux_data:{product_group_modal_changes:o.join(",")}}),e(),Promise.all(a).then((()=>{t(),q((new Date).getTime()),V((({hideToast:e})=>(0,b.jsx)("div",{className:"ProductGroupSavedToast",children:(0,b.jsx)(c.ZP,{duration:x.QE,onHide:e,text:E._('Product group saved', 'MerchantStorefront.ProductGroupDetailsModal.pgSaved', 'toast text')})})))}))},disabled:!ne})]})})]},"product-group-details-footer"):(0,b.jsx)(i.Fragment,{}),size:G?"md":"sm",children:(0,b.jsx)(a.xu,{paddingX:8,marginBottom:2,children:te?(0,b.jsxs)(a.kC,{justifyContent:"center",children:[(0,b.jsxs)(a.xu,{width:320,children:[(0,b.jsx)(a.xu,{marginBottom:4,children:(0,b.jsx)(a.xv,{size:"300",weight:"bold",children:E._('Cover image', 'ProductGroupDetailsModal.coverImage', 'heading for cover image form')})}),(0,b.jsx)("input",{accept:"image/*","data-test-id":"cover-image",id:"product-group-image-upload",onChange:e=>{if(e.target instanceof HTMLInputElement){const t=e.target.files[0],n=new FileReader;t&&n.readAsDataURL(t),n.addEventListener("load",(()=>{U(!0),k({event_type:9855,component:13998}),(0,l.Z)({url:j,method:"POST",data:{image_base64:n.result}}).then((e=>{var t,i;z(null===(t=e.resource_response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.image_signature),U(!1),"string"==typeof n.result&&N(n.result)}))}),!1)}},ref:J,style:{display:"none"},type:"file"}),Z&&(0,b.jsx)(a.xu,{height:P,width:P,rounding:5,color:"secondary",justifyContent:"center",direction:"column",display:"flex",children:(0,b.jsx)(a.$j,{accessibilityLabel:E._('Uploading product group cover image', 'ProductGroupDetailsModal.uploadingCoverImage', 'spinner accessibility label'),show:!0})}),!Z&&ce&&(0,b.jsx)(A,{image:ce,onFileUpload:()=>{var e;null===(e=J.current)||void 0===e||e.click()},onError:()=>K(B+1)})]}),G&&(0,b.jsxs)(a.xu,{width:320,marginStart:4,children:[(0,b.jsx)(a.xu,{marginBottom:4,children:(0,b.jsx)(a.xv,{size:"300",weight:"bold",children:E._('Title', 'ProductGroupDetailsModal.name', 'heading for product group name input')})}),(0,b.jsx)(a.nv,{id:"name",onChange:({value:e})=>R(e.slice(0,S)),size:"lg",type:"text",value:D}),(0,b.jsxs)(a.xu,{marginTop:2,marginBottom:4,height:30,children:[D&&(0,b.jsx)(a.xv,{size:"100",color:"subtle",children:E._('Changing your product group\'s name in your shop will also change its name in Catalogs', 'ProductGroupDetailsModal.pgName', 'subheading for name form')}),!D&&(0,b.jsx)(a.xv,{size:"100",color:"error",children:E._('This field can\'t be blank!', 'ProductGroupDetailsModal.nameEmptyError', 'error message for an empty name input')})]}),(0,b.jsx)(a.xu,{marginBottom:4,children:(0,b.jsx)(a.xv,{size:"300",weight:"bold",children:E._('Description', 'ProductGroupDetailsModal.description', 'heading for description form')})}),(0,b.jsx)(a.xu,{height:178,children:(0,b.jsx)(a.Kx,{id:"description",onChange:({value:e})=>L(e.slice(0,T)),placeholder:E._('Tell shoppers on Pinterest more about this product group', 'ProductGroupDetailsModal.descriptionPlaceholder', 'textarea placeholder for product group description'),value:F,rows:7})})]})]}):(0,b.jsx)(a.$j,{accessibilityLabel:E._('Loading product group details', 'ProductGroupDetailsModal.loadingSpinner', 'spinner accessibility label'),show:!0})})})})}},826935:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(883119),r=n(536042),o=n(51283),l=n(492701),s=n(785893);const c=()=>{},d=({url:e,onClick:t,i18n:n})=>(0,s.jsx)(a.zx,{accessibilityLabel:n._('Shop button', 'ProductGroupV2.shopButton.accessibilityLabel', 'Shop button for product group rep v2'),size:"lg",text:n._('Shop', 'ProductGroupV2.shopButton.text', 'Shop button text for product group rep v2'),color:"white",role:"link",href:e,onClick:t}),u=({i18n:e})=>(0,s.jsx)(a.zx,{accessibilityLabel:e._('Shop button', 'ProductGroupV2.shopButton.accessibilityLabel', 'Shop button for product group rep v2'),size:"lg",text:e._('Shop', 'ProductGroupV2.shopButton.text', 'Shop button text for product group rep v2'),color:"white",role:"button"});function p({onClick:e,productGroup:t,showControls:n,url:p}){const h=(0,r.ZP)(),m=h._('Edit product group display', 'ProductGroupV2.editTooltip', 'Tooltip text for edit product group button'),[_,g]=(h._('Remove product group from shop', 'ProductGroupV2.removeTooltip', 'Tooltip text for remove product group button'),(0,i.useState)(!1)),[y,v]=(0,i.useState)(!1),f=!(!p||!e),{WIDTH:x,HEIGHT:b}=o.PRODUCT_GROUP_COVER_IMAGE_DIMENSIONS,w=x-64;return(0,s.jsxs)(a.xu,{position:"relative",onMouseEnter:()=>{v(!0)},onMouseLeave:()=>{v(!1)},children:[(0,s.jsxs)(a.xu,{position:"relative",children:[(0,s.jsxs)(a.zd,{width:x,height:b,rounding:8,children:[(0,s.jsx)(o.Z,{productGroup:t}),(0,s.jsx)(a.xu,{position:"absolute",width:x,height:b,top:!0,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}}})]}),(0,s.jsx)(a.xu,{position:"absolute",color:"selected",opacity:y?.5:0,width:x,height:b,rounding:8,top:!0})]}),n&&y&&(0,s.jsxs)(a.xu,{position:"absolute",top:!0,right:!0,padding:8,display:"flex",children:[(0,s.jsx)(a.xu,{marginEnd:0,children:(0,s.jsx)(a.u,{text:m,idealDirection:"down",children:(0,s.jsx)(a.hU,{accessibilityLabel:m,bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),g(!0)},size:"xl"})})}),false]}),(0,s.jsxs)(a.xu,{position:"absolute",bottom:!0,left:!0,padding:8,children:[(0,s.jsx)(a.xu,{marginBottom:5,maxWidth:w,children:(0,s.jsx)(a.X6,{size:"600",color:"inverse",lineClamp:2,children:t.name})}),y&&(0,s.jsx)(a.xu,{marginBottom:5,maxWidth:w,children:(0,s.jsx)(a.xv,{size:"300",color:"inverse",children:t.description})}),!f&&(0,s.jsx)(u,{i18n:h}),f&&(0,s.jsx)(d,{url:null!=p?p:"",onClick:null!=e?e:c,i18n:h})]}),n&&_&&(0,s.jsx)(l.Z,{onDismiss:()=>g(!1),onSubmit:()=>g(!1),productGroup:t})]})}},602531:(e,t,n)=>{n.d(t,{LO:()=>v,N0:()=>b,t8:()=>w,tt:()=>P});var i=n(667294),a=n(819079),r=n(611756),o=n(802071),l=n(850865),s=n(548672),c=n(531017),d=n(329689),u=n(384722),p=n(407387),h=n(850500),m=n(471501),_=n(880391),g=n(838419);function y(e){const t=(0,a.Z)(e?{name:"ApiResource",options:{url:`/v3/catalogs/${e}/feed_profiles/`,field_sets:["feedprofile.id","feedprofile.display_name","feedprofile.country","feedprofile.locale","feedprofile.all_products_pg_item_count","feedprofile.feed_status"]}}:null);return{feedProfilesResource:t,feedProfiles:(0,c.d9)(t.data||[]).filter((e=>e.country&&e.locale&&e.feedStatus===s.Hm.ACTIVE))}}function v(){const{merchantId:e,ownerUserId:t}=(0,l.Z)(),{countriesResource:n,countries:i}=function(){const e=(0,a.Z)({name:"CountriesResource"});return{countriesResource:e,countries:(e.data||[]).reduce(((e,t)=>({...e,[t.key]:t.name.split(" (")[0]||""})),{})}}(),{feedProfilesResource:r,feedProfiles:o}=y(e),{storefrontSettingsResource:s,settings:c}=function(e){const t=(0,a.Z)(e?{name:"ApiResource",options:{url:`/v3/business/users/${e}/storefront/settings/`}}:null);return{storefrontSettingsResource:t,settings:t.data||{}}}(t);return{countries:i,feedProfiles:o,isLoaded:n.isLoaded&&r.isLoaded&&s.isLoaded,refresh:()=>{r.refresh(),s.refresh()},settings:c,userId:t}}function f(){const{merchantId:e}=(0,l.Z)(),{feedProfilesResource:t,feedProfiles:n}=y(e),{userSettingsResource:i,userSettings:r}=function(){const e=(0,a.Z)({name:"UserSettingsResource",options:{field_set_key:"profile"}});return{userSettingsResource:e,userSettings:e.data}}();return{feedProfiles:n,isLoaded:t.isLoaded&&i.isLoaded,userSettings:r}}function x(){const{data:e}=(0,g.Z)(),t=(0,o.Z)(),n=(0,m.Z)({user:e,viewer:t}),i=(0,d.Z)();return{isORBACProfileManager:(0,u.q6)(t,null==e?void 0:e.id,i),ownProfile:n}}function b(){const{ownProfile:e}=x();return e}function w(){const{ownProfile:e,isORBACProfileManager:t}=x();return e||t}function P(){const{feedProfiles:e,userSettings:t,isLoaded:n}=f(),{merchantStorefrontSettings:{currentViewingLocale:{country:a,language:o}},updateLocaleStorefrontSetting:l}=(0,h.S)(),{countries:s}=v();(0,i.useEffect)((()=>{if(n&&(!a||!o||!(0,_.Ee)(e,a,o))){var i;const[n,a]=((0,r.qn)(p.Z.STOREFRONT_LOCALE_STORAGE_KEY)||"").split("/"),o=(0,_.b8)(e,s),d=(0,_.Ee)(o,n,a),u=(0,_.Ee)(o,null!==(i=null==t?void 0:t.country)&&void 0!==i?i:"",(0,_.Md)(null==t?void 0:t.locale)),[h]=[...o].sort(((e,t)=>(0,_.gE)(t)-(0,_.gE)(e))),m=d||u||h;var c;if(m)l(m.country||"",(0,_.Md)(m.locale),null!==(c=m.id)&&void 0!==c?c:"")}}))}},620368:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(777610);const a={BrandCatalogFeed:{tapBrandCatalogPin:function({commerceData:e},t){t({event_type:102,view_type:1,view_parameter:3244,component:0,aux_data:{...e}})}},ProductFeed:{tapProductPin:function({commerceData:e},t){t({event_type:102,component:13700,view_type:4,view_parameter:3512,aux_data:{...e}})}},StorefrontFeed:{tapProductGroup:function({productGroupId:e},t){t({event_type:102,view_type:4,view_parameter:3512,component:13698,object_id_str:e})},useShoppingProfileViewLog:function(){(0,i.Q)({view_type:4,view_parameter:3107,component:237})},viewProductGroup:function({productGroupId:e},t){t({event_type:120,view_type:4,view_parameter:3512,component:13698,object_id_str:e})}}};function r({entryPoint:e,objectId:t,groupType:n}){return{aux_data:{commerce_data:JSON.stringify({entrypoint:e}),product_group_type:n},component:13698,object_id_str:t,view_type:1,view_parameter:3515}}const o={BrandCatalog:{tapBrandCatalogPin:function({commerceData:e},t){t({event_type:102,view_type:1,view_parameter:3513,component:13700,aux_data:{...e}})}},Categories:{tapCategoryBubble:function({entryPoint:e},t){t({event_type:102,view_type:1,view_parameter:3514,component:13699,aux_data:{commerce_data:JSON.stringify({entrypoint:e})}})}},ProductGroups:{productGroupRendered:function({entryPoint:e,productGroupId:t,groupType:n},i){i({event_type:120,...r({entryPoint:e,objectId:t,groupType:n})})},tapProductGroup:function({entryPoint:e,productGroupId:t,groupType:n},i){i({event_type:102,...r({entryPoint:e,objectId:t,groupType:n})})}},ProductPins:{tapProductPin:function({commerceData:e,component:t},n){n({event_type:102,component:t,view_type:1,view_parameter:3513,aux_data:{...e}})},viewProductPinsFeed:function({component:e,entryPoint:t,category:n,productGroupId:i},a){a({event_type:13,component:e,view_type:1,view_parameter:3513,aux_data:{commerce_data:JSON.stringify({entrypoint:t}),category_title:n,product_group_id:i}})}},viewFeedPage:function({entryPoint:e,viewParameter:t},n){n({event_type:13,view_type:1,view_parameter:t,aux_data:{commerce_data:JSON.stringify({entrypoint:e})}})}};var l=n(79917);const s={Control:a,DomainModule:{trackSeeMoreClick:function({viewParameter:e},t){t({event_type:102,component:13327,element:11829,view_type:3,view_parameter:e})}},Feeds:o,StructuredFeed:{viewStructuredFeed:function({merchantId:e,source:t},n){n({event_type:13,view_type:(0,l.Z)(t),view_parameter:3512,..."profile"===t?{object_id_str:e}:Object.freeze({})})},Categories:{viewCategory:function({id:e,source:t,title:n,bubble:i},a){a({event_type:120,component:13699,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{story_type:"storefront_category_bubbles",story_id:e,category_title:n,...i.aux_fields}})},tapCategory:function({id:e,source:t,title:n,bubble:i},a){a({event_type:102,component:13699,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{story_type:"storefront_category_bubbles",story_id:e,category_title:n,...i.aux_fields}})},tapSeeMoreCategories:function({id:e,source:t},n){n({event_type:102,component:13699,element:179,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{story_id:e,story_type:"storefront_category_footer_button"}})}},ProductGroups:{tapProductGroup:function({productGroupId:e,source:t,groupType:n,componentType:i,index:a},r){r({event_type:102,component:i,object_id_str:e,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{product_group_type:n,grid_index:a}})},tapSeeMoreProductGroups:function({id:e,source:t},n){n({event_type:102,component:13698,element:179,aux_data:{story_id:e,story_type:"storefront_product_group_footer_button"},view_type:(0,l.Z)(t),view_parameter:3512})},viewProductGroup:function({productGroupId:e,source:t,groupType:n,componentType:i},a){a({event_type:120,component:i,object_id_str:e,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{product_group_type:n}})}},PinsFeed:{viewPinsFeed:function({id:e,OwnerUserId:t,pinsFeedTitle:n,source:i},a){a({event_type:120,component:13700,view_type:(0,l.Z)(i),view_parameter:3512,aux_data:{story_id:e,story_type:"storefront_pins_feed",pins_feed_title:n,owner_user_id:t}})},tapPin:function({commerceData:e,source:t},n){n({event_type:102,component:0,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{...e}})}}}}},79917:(e,t,n)=>{function i(e){return"profile"===e?4:1}n.d(t,{Z:()=>i})},880391:(e,t,n)=>{n.d(t,{Ee:()=>_,LT:()=>p,Md:()=>s,Q1:()=>m,QE:()=>l,S8:()=>y,WU:()=>x,YY:()=>f,b8:()=>w,c8:()=>h,cB:()=>g,gE:()=>c,mV:()=>v,u3:()=>d,yh:()=>o,z1:()=>u});var i=n(690108),a=n(970588),r=n(806743);const o="ALL_PRODUCTS",l=5e3,s=e=>e?e.split("-")[0].toLowerCase():"",c=e=>{var t;return e.allProductsPGItemCount||(null===(t=e.lastSuccessfulIngestion)||void 0===t?void 0:t.productCount)||0},d=e=>[e.country||"",s(e.locale)].join("/").toUpperCase(),u=(e,t)=>e&&t?`${e} (${s(t).toUpperCase()})`:"",p=(e,t)=>{const[n,i]=t.split("/");return u(e[n.toUpperCase()],i)},h=e=>!e||void 0===e.shop_visible||e.shop_visible,m=(e,t)=>{const n=t.map(d);return Object.keys(e).map((e=>e.toUpperCase())).filter(((t,i,a)=>n.includes(t)&&!h(e[t])&&a.indexOf(t)===i))},_=(e,t,n)=>t&&n?e.find((e=>e.country===t&&s(e.locale)===n)):void 0,g=e=>{if(!e)return"";const t=["488x488","976x976","368x368","736x","474x","originals","orig",Object.keys(e)[0]];for(const n of t)if(e[n])return e[n].url||"";return""},y=e=>e.filter((e=>Number.isInteger(e.featured_position))).map((({id:e})=>e)),v=(e,t)=>{const n=new Set(t),i=new Set(e);return{featureProductGroupsSet:new Set([...i.values()].filter((e=>!n.has(e)))),unfeatureProductGroupsSet:new Set([...n.values()].filter((e=>!i.has(e))))}},f=async(e,t,n="FEATURED")=>{const{featureProductGroupsSet:o,unfeatureProductGroupsSet:l}=t,{userId:s,feedProfileId:c,countrySetting:d,languageSetting:u,settings:p}=e,h=`${d}/${u.toUpperCase()}`,m=n===r.$B.CATEGORY?[]:[...o.values()].map((e=>i.Z.create("FeaturedProductGroupsResource",{feedProfileId:c,productGroupId:e}).callCreate())),_=n===r.$B.CATEGORY?[]:[...l.values()].map((e=>i.Z.create("FeaturedProductGroupsResource",{feedProfileId:c,productGroupId:e}).callDelete())),g=r.yK[n],y=p[h]&&p[h][g]||[],v=[...new Set([...y,...o.values()])].filter((e=>!l.has(e))),f={...p,[h]:{...p[h]||{},[g]:v}},x=(0,a.Z)({url:`/v3/business/users/${s}/storefront/settings/`,method:"PUT",data:{settings:JSON.stringify(f)}});await Promise.all([x,...m,..._])},x=(e,t)=>e.length===t.length&&t.every((t=>e.includes(t))),b=(e,t)=>u(t[e.country||""],e.locale),w=(e,t)=>e.reduce(((e,n)=>{const i=e.findIndex((e=>b(e,t)===b(n,t)));return-1===i?e.push(n):c(e[i])<c(n)&&(e[i]=n),e}),[])},736595:(e,t,n)=>{n.d(t,{Z:()=>o,f:()=>l});var i=n(690108),a=n(911767);function r(e){return i.Z.create("BoardFollowResource",{board_id:e})}function o(e){return t=>{r(e).callCreate().catch((()=>{t((0,a.md)(e,!1))})),t((0,a.md)(e,!0))}}function l(e){return t=>{r(e).callDelete().catch((()=>{t((0,a.md)(e,!0))})),t((0,a.md)(e,!1))}}},86829:(e,t,n)=>{n.d(t,{a:()=>i,k:()=>a});const i=e=>({type:"ONE_TAP_SAVE",payload:e}),a=e=>({type:"ONE_TAP_UNSAVE",payload:e})},903539:(e,t,n)=>{n.d(t,{By:()=>c,IT:()=>s,N6:()=>a,br:()=>r,lU:()=>l,mk:()=>o});var i=n(970588);const a=(e,t)=>({type:"UPDATE_CURRENT_SEARCH",payload:{query:e,scope:t}}),r=(e,t)=>({type:"UPDATE_RECENT_SEARCHES",payload:{query:e,scope:t}}),o=e=>({type:"SET_ANIMATION_ON_BODY_FILTER",payload:{animated:e}}),l=(e,t,n)=>a=>{(0,i.Z)({url:"/v3/search/recent/",method:"DELETE",data:{vertical:e}}).then(t,n),a("PERSONAL"===e?{type:"CLEAR_RECENT_PERSONAL_SEARCHES"}:{type:"CLEAR_RECENT_SEARCHES"})},s=(e,t,n,a)=>r=>{(0,i.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:e,vertical:t}}).then(n,a),r("PERSONAL"===t?(e=>({type:"CLEAR_RECENT_PERSONAL_SEARCH",payload:{query:e}}))(e):(e=>({type:"CLEAR_RECENT_SEARCH",payload:{query:e}}))(e))},c=e=>t=>{t((e=>({type:"RELOAD_VISUAL_SEARCH_ANNOTATIONS",payload:{pinId:e}}))(e))}},383462:(e,t,n)=>{n.d(t,{ZN:()=>o,bJ:()=>s,fv:()=>l,hr:()=>r,lD:()=>c});var i=n(690108);function a(e,t){return i.Z.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}const r=(e,t)=>({type:"TOPIC_FOLLOW",payload:{id:e,value:t}}),o=(e,t)=>n=>{a(e,t).callCreate().catch((()=>n(r(e,!1)))),n(r(e,!0))},l=(e,t)=>n=>{a(e,t).callDelete().catch((()=>n(r(e,!0)))),n(r(e,!1))},s=e=>t=>{const n=e.reduce(((e,t)=>({...e,[t.id]:!t.is_followed})),{});return i.Z.create("UpdateFollowedInterestsResource",{updated_interest_follows:n}).callUpdate().then((()=>{e.forEach((({id:e,is_followed:n})=>{t(r(e,!n))}))}))},c=(e,t="")=>n=>i.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate().then((()=>{Object.keys(e).forEach((t=>{const i=e[t];n(r(t,i))}))}))},427778:(e,t,n)=>{n.d(t,{KF:()=>d,ZN:()=>l,fv:()=>c,kE:()=>p,yA:()=>s});var i=n(690108),a=n(970588),r=n(446191);function o(e,t,n,a){return i.Z.create("UserFollowResource",{user_id:e,invite_code:a||void 0,aux_data:t?{pin_id:t}:void 0,client_tracking_params:n})}function l(e,t=null,n,i){return a=>{o(e,t,n,i).callCreate().catch((()=>a((0,r.P_)(e,!1)))),a((0,r.P_)(e,!0))}}function s(e,t=null,n,i){return async a=>{a((0,r.P_)(e,!0)),await o(e,t,n,i).callCreate().catch((t=>{throw a((0,r.P_)(e,!1)),t}))}}function c(e,t=null,n){return i=>{o(e,t,n).callDelete().catch((()=>i((0,r.P_)(e,!0)))),i((0,r.P_)(e,!1))}}function d(e,t=null,n){return async i=>{i((0,r.P_)(e,!1)),await o(e,t,n).callDelete().catch((t=>{throw i((0,r.P_)(e,!0)),t}))}}const u=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),p=e=>t=>{e.length>0&&((0,a.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch((()=>t(u(e,!1)))),t(u(e,!0)))}},274796:(e,t,n)=>{n.d(t,{Z:()=>i});const i={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed",INTEREST_TAB_FEED:"interestTabFeed"}},925748:(e,t,n)=>{n.d(t,{J:()=>_,Z:()=>f});var i=n(711443),a=n(857867),r=n(829488),o=n(808156),l=n(789144),s=n(255655),c=n(791621),d=n(274796);const u=new Set(["PinResource","RepinResource"]),p={ApiResource:e=>{return"/v3/orientation/nux_creator_recommendations/"===(null==e?void 0:e.url)?"nux-creator-recommendations":"/v3/users/me/interests/"===(null==e?void 0:e.url)?`recommended-interests:${null===(t=e.data)||void 0===t?void 0:t.blend_type}`:"";var t},AggregatedActivityFeedResource:e=>`trieditfeed:${e.aggregated_pin_data_id}`,AggregatedCommentFeedResource:e=>`aggregated-comments:${e.objectId}`,AggregatedCommentReplyFeedResource:e=>`${d.Z.AGGREGATED_COMMENT_REPLIES}:${e.objectId}`,BoardlessPinsResource:e=>`boardless-pins:${e.userId}`,BestPinsFeedAltResource:e=>`idea-page-best-pins:${e.interest}`,BoardArchiveResource:()=>"archived-boards",BoardCollaboratorsResource:e=>`board-collaborators:${e.board_id}`,BoardContentRecommendationResource:e=>`recommendation-feed:${e.id}`,BoardFeedResource:e=>`boardfeed:${e.board_id}`,BoardSectionsRepinResource:e=>`board-sections:${e.board_id}`,BoardSectionsResource:e=>`board-sections:${e.board_id}`,BoardSectionPinsResource:e=>`board-section-pins:${e.section_id}`,BoardsFeedResource:e=>`profile-boards:${e.username}`,BoardToolsFeedResource:e=>`board-tools:${e.boardId}`,ConversationsResource:()=>"conversations",DidItLikedByResource:e=>`triedit-likes:${e.didItDataId}`,DidItUserFeedResource:e=>`profile-tried:${e.username}`,ExploreArticleBlockSearchResource:e=>`explore-search:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserResource:e=>`explore-user:${e.article_id}:${e.block_id}`,ExploreArticleBlockPinResource:e=>`explore-pin:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserDidItDataResource:e=>`explore-did_it:${e.article_id}:${e.block_id}`,ExploreArticleResource:({response:e})=>{if(!e)return"";const{data:t}=e.resource_response,{story_type:n}=t?t.objects[0]:{story_type:""};return`explore-${n.slice(15)}:${t.id}`},FollowingFeedResource:()=>"following",HolidaySpotlightRelatedFeedResource:e=>`holiday-spotlight-related:${e.storyType}`,HolidaySpotlightResource:e=>`holiday-spotlight:${e.storyType}`,InterestResource:e=>`klp-pins:${e.interest}`,MoreIdeasTabsBoardsResource:()=>"homefeed-more-ideas-tabs",NewsHubResource:()=>"notifications",NewsHubDetailsResource:e=>`newshubdetail:${e.news_id}`,NuxInterestsResource:()=>"nuxTopics",PinsFromBrandResource:e=>`brand-pins:${e.pin}`,ReactionsResource:e=>`reactions:${e.pin_id}`,RelatedArticlesResource:e=>`related-articles:${e.article_id}`,RelatedModulesResource:e=>`related-modules:${e.pin_id}`,RelatedPinFeedResource:e=>`related-pins:${e.pin}`,RelatedProductFeedResource:e=>"pin"===e.shop_source?`closeup-related-products:${e.pin}`:`related-products:${e.pin}`,RelatedStreamResource:e=>`related-story-pins:${e.pinId}`,SearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},BaseSearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.appliedProductFilters}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},SectionToolsFeedResource:e=>`section-tools:${e.sectionId}`,ShareSuggestionsTypeaheadResource:e=>`share-suggestions:${e.board||e.user}:${e.term}`,ShoppingFeedModularizedResource:e=>e.saved_products_only?`board-shop-saved:${e.board_id}`:`board-shop-related:${e.board_id}`,StoryFeedResource:e=>`story-feed:${e.feed_type}:${e.request_params}`,SuggestedCreatorFollowsResource:()=>"suggested-creator-follows",StoryPinTaggedProductsResource:()=>"story-pin-tagged-products",TodayArticleFeedResource:e=>`today-article:${e.id}`,IdeasHubTodayArticlesResource:e=>`today-article:${e.interest_id}`,TodayTabInterestFeedResource:e=>`today-article-interestfeed:${e.interest_id}`,TodayTabResource:()=>"today-tab",SeoTier1CandidateResource:()=>"tier1-feed",UnifiedCommentsResource:e=>`unified-comments:${e.aggregated_pin_id}`,UserActivityPinsResource:e=>`profile-pins-feed:${e.user_id}`,UserHomefeedResource:e=>e.pin_quiz?"pin-quiz":"homefeed",UserFollowingResource:e=>`user-following:${e.username}`,UserRecentActivityResource:e=>`user-recent-activity:${e.filter_type}`,UserStoryPinsFeedResource:e=>`story-pins-feed:${e.user_id}`,VideosFeedResource:()=>"videos-feed",VisualLiveSearchResource:e=>`visual-search:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualLiveSearchProductFeedResource:e=>`visual-search-products:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualSearchFlashlightUnifiedResource:e=>`related-products-unified:${e.pin_id}`,BoardFollowingResource:e=>`board-following:${e.username}`,InterestFollowingResource:e=>`topic-following:${e.username}`,UserPinsResource:e=>`profile-pins:${e.username}`,TopicFeedResource:e=>e.best_pins?`best-topic-pins:${e.interest}`:`topic-pins:${e.interest}`},h={ApiResource:({options:e})=>null!=e&&e.url.match(/\/v3\/interests\/([0-9])+\/pins\//)?{type:d.Z.INTEREST_TAB_FEED,id:e.interestId}:null,AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:d.Z.TRIED_IT_FEED,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:d.Z.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{isUnifiedComment:e,objectId:t}})=>({type:e?d.Z.AGGREGATED_COMMENT_REPLIES:d.Z.AGGREGATED_COMMENTS,id:t,reversed:!0}),BoardFeedResource:({options:{board_id:e}})=>({type:d.Z.BOARDFEED,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:d.Z.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:d.Z.BOARD_SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:d.Z.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:d.Z.PROFILE_BOARDS,id:(0,l.Z)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:n,filters:i,query_pin_sigs:a,query:l,user:s},response:c})=>{var u;return{type:d.Z.SEARCH_PINS,id:(0,r.Tb)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:i,query:l,selectedPinImgSig:a,scope:n,user:s}),items:null!==(u=c.resource_response.data)&&void 0!==u&&u.results?(0,o.L)(c.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:({options:{objectId:e}})=>({type:d.Z.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:d.Z.TRIED_IT_FEED,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:d.Z.TODAY_TAB,id:e}),RelatedArticlesResource:({options:{article_id:e}})=>({type:d.Z.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:d.Z.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:d.Z.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:d.Z.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:d.Z.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e,is_reversed:t}})=>({type:d.Z.UNIFIED_COMMENTS,id:e,reversed:t}),UserActivityPinsResource:({options:{user_id:e}})=>({type:d.Z.PROFILE_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:d.Z.STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},m=(e,{pinId:t,oldFeedId:n,newFeedId:i})=>n===i?e:((e,{pinId:t,feedId:n})=>e[n]?{...e,[n]:[{type:"pin",id:t},...e[n]]}:e)(((e,{pinId:t,feedId:n})=>e[n]?{...e,[n]:e[n].filter((e=>!("pin"===e.type&&e.id===t)))}:e)(e,{pinId:t,feedId:n}),{pinId:t,feedId:i}),_=(e,t)=>e in p?p[e](t):null,g=(e,t)=>t?`board-section-pins:${t}`:`boardfeed:${e}`,y=(e,t)=>e.map((({id:e,schema:n})=>n?{id:e,type:n,trackingParams:"pin"===n?t.pins[e].tracking_params:void 0,user_id:void 0}:null)).filter(Boolean),v=(e,t,n)=>Object.keys(e).reduce(((i,a)=>{const r=e[a]||[],o=r.filter((e=>!(e.type===t&&e.id===n)));return r.length!==o.length&&(i[a]=o),i}),{...e}),f=(e={},t)=>{switch(t.type){case a.zP:case a.aW:{const{payload:i}=t,{resource:r,options:o,normalizedResponse:l,schema:u}=i;if(l&&r in p){const n=((e,t,n)=>{const i=n||s.Z[e];if(i===c.LR)return t.result;if(i===c.sN)return t.result.map((e=>({id:e,schema:"board"})));if(i===c.Gn)return t.result.map((e=>({id:e,schema:"user"})));if(i===c.Ht)return t.result.map((e=>({id:e,schema:"invite"})));if(i===c.fE)return t.result.map((e=>({id:e,schema:"reaction"})));if("object"==typeof i){const e=Object.entries(i).find((([e,t])=>t===c.LR));if(e)return t.result[e[0]]}return null})(r,l,u);if(n&&Array.isArray(n)){const i=p[r](o);if("ShoppingFeedModularizedResource"===r){const{board_id:t,saved_products_only:i}=null!=o?o:{},a=`board-shop-related:${t}`,r=`board-shop-saved:${t}`,s=`board-shop-saved-preview:${t}`,c=[...e[a]||[]],d=[...e[r]||[]],u=[...e[s]||[]];return y(n,l.entities).forEach((e=>{var n;i?d.push(e):l.entities.pins&&(null===(n=l.entities.pins[e.id])||void 0===n?void 0:n.board)===t?u.push(e):c.push(e)})),{...e,[a]:c,[r]:d,[s]:u}}if("BoardToolsFeedResource"===r||"SectionToolsFeedResource"===r)return{...e,[i]:n};{const r=(t.type===a.aW&&e[i]||[]).concat(y(n,l.entities));return{...e,[i]:r}}}}else{var n;const{data:r}=i.response.resource_response;if(null===(n=i.options)||void 0===n||!n.redux_normalize_feed)return e;const o=h[i.resource](i);if(o){const{type:n,id:i,items:l,reversed:s}=o;let c=(l||r||[]).map((e=>((e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===d.Z.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"boardsection",id:e.id};case"triedit":return{type:"triedit",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"triedit",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,n)));s&&(c=c.reverse());const u=`${n}:${i}`,p=e[u];if(p||t.type!==a.aW){const n=p||[];let i=c;return t.type===a.aW&&(i=s?c.concat(n):n.concat(c)),{...e,[u]:i}}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:n,feedId:a,itemType:r,targetItemId:o,sourceItemId:l}}=t,s=`${n}:${a}`,c=e[s]||[];let u=-1,p=-1;if([d.Z.BOARDFEED,d.Z.BOARD_SECTION_PINS,d.Z.BOARD_SECTIONS,"profileBoards"].includes(n)&&(u=c.findIndex((e=>e.type===r&&e.id===l)),p=c.findIndex((e=>e.type===r&&e.id===o))),-1!==u&&-1!==p)return{...e,[s]:(0,i.Z)(c,u,p)};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:n,feedId:i,inverseSelection:a,itemType:r,itemIds:o=[]}}=t,l=`${n}:${i}`,s=e[l]||[];if(s&&s.length>0&&(n===d.Z.BOARD_SECTION_PINS||n===d.Z.BOARDFEED)){const t=s.filter((e=>{const t=o.includes(e.id);return!(e.type===r&&(a&&!t||!a&&t))})),n=!!t.find((e=>"pin"===e.type));return{...e,[l]:n?t:[]}}if(s&&s.length>0&&n===d.Z.BOARD_SECTIONS){const t=s.filter((e=>{const t=o.includes(e.id);return!(e.type===r&&t)}));return{...e,[l]:t}}if(s&&s.length>0&&(n===d.Z.AGGREGATED_COMMENTS||n===d.Z.BOARDLESS_PINS||n===d.Z.PROFILE_PINS_FEED||n===d.Z.STORY_PINS_FEED||n===d.Z.UNIFIED_COMMENTS||n===d.Z.TRIED_IT_FEED||n===d.Z.STORY_PIN_DATA)){const t=s.filter((e=>{const t=o.includes(e.id);return!(e.type===r&&t)}));return{...e,[l]:t}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:n,feedId:i,itemType:a,itemIds:r=[],prepend:o}}=t,l=`${n}:${i}`,s=e[l]||[];if(s&&(n===d.Z.BOARD_SECTION_PINS||n===d.Z.BOARDFEED||n===d.Z.BOARDLESS_PINS)){const t=r.map((e=>({id:e,type:a})));let n=0;"story"===(s[0]||{}).type&&(n=1),"story"===(s[1]||{}).type&&(n=2);const i=[...s.slice(0,n),...t,...s.slice(n)];return{...e,[l]:i}}if(s&&n===d.Z.BOARD_SECTIONS){const t=[...r].reverse().map((e=>({id:e,type:"boardsection"}))),n=s?[...t,...s]:[...t];return{...e,[l]:n}}if(n===d.Z.AGGREGATED_COMMENTS||n===d.Z.AGGREGATED_COMMENT_REPLIES||n===d.Z.PROFILE_PINS_FEED||n===d.Z.STORY_PINS_FEED||n===d.Z.UNIFIED_COMMENTS){const t=r.map((e=>({id:e,type:a}))),n=s?[...o?t:s,...o?s:t]:t;return{...e,[l]:n}}if(n===d.Z.TRIED_IT_FEED){const t=r.map((e=>({id:e,type:a}))),n=s?[...t,...s]:t;return{...e,[l]:n}}break}case"FEED_INVALIDATE":{const{payload:{feedType:n,feedId:i}}=t,a=`${n}:${i}`;if(e[a]||[])return{...e,[a]:null};break}case"APPEND_FEED_ITEMS":{const{payload:{id:n,items:i,options:a}}=t,r=e[n];if(r){let t;return t=a.isPrepend?r[0]&&"story"===r[0].type?[].concat(r[0],i,r.slice(1)):i.concat(r):r.concat(i),{...e,[n]:t}}return{...e,[n]:i}}case"PIN_DELETE":{const{payload:{pinId:n}}=t;return v(e,"pin",n)}case"BOARD_ARCHIVE":{const{payload:{boardId:n,username:i}}=t,a=`profile-boards:${null!=i?i:""}`;if(e[a])return{...e,[a]:e[a].filter((e=>e.id!==n))};break}case"BOARD_UNARCHIVE":{const{payload:{boardId:n}}=t,i="archived-boards";if(e[i])return{...e,[i]:e[i].filter((e=>e.id!==n))};break}case"BOARD_DELETE":{const{payload:{boardId:n}}=t;return v(e,"board",n)}case"BOARD_SECTION_DELETE":{const{payload:{boardSectionId:n}}=t;return v(e,"boardsection",n)}case"PINS_MOVE":{const{payload:{source:n,target:i,pinIds:a,userId:r}}=t,o=n.boardlessPins&&r&&`boardless-pins:${r}`||n.boardId&&g(n.boardId,n.sectionId),l=g(i.boardId,i.sectionId);return a.reduce(((e,t)=>m(e,{pinId:t,oldFeedId:o,newFeedId:l})),e)}case"PINS_MOVE_ALL":{const{payload:{source:n,target:i,excludePinIds:a}}=t,r=g(n.boardId,n.sectionId),o=g(i.boardId,i.sectionId),l={...e,[r]:a.map((e=>({type:"pin",id:e})))};return delete l[o],l}case"PIN_EDIT":{const{payload:{pinId:n,boardId:i,sectionId:a="",source:{boardId:r,sectionId:o}}}=t,l=g(r,o),s=g(i,a);return m(e,{pinId:n,oldFeedId:l,newFeedId:s})}case a.AF:if(u.has(t.payload.resource)){const n=t.payload.response.resource_response.data,{board:i}=n;let a;if("quick_saves"===i.layout)a=`boardless-pins:${t.payload.options.user_id}`;else{const e=t.payload.options.section;a=e?`board-section-pins:${e}`:`boardfeed:${i.id}`}if(e[a]){const t={...e},i={id:n.id,type:"pin",trackingParams:null==n?void 0:n.tracking_params};return t[a]=[i].concat(e[a]),t}}if("BoardSectionResource"===t.payload.resource&&t.payload.normalizedResponse){const n=t.payload.normalizedResponse.result,i=`board-sections:${t.payload.normalizedResponse.entities.boardsections[n].board}`;if(e[i]){const t={...e},a={id:n,type:"boardsection"};return t[i]=[a].concat(e[i]),t}}if("AggregatedCommentResource"===t.payload.resource&&t.payload.normalizedResponse){const n={id:t.payload.normalizedResponse.result,type:"aggregatedcomment"},i=["aggregated-comments","unified-comments"];let a={...e};for(const r of i){const i=`${r}:${t.payload.options.objectId}`;e[i]&&(a={...a,[i]:[n].concat(a[i])})}return a}if("AggregatedCommentReplyResource"===t.payload.resource&&t.payload.normalizedResponse){const n=`${d.Z.AGGREGATED_COMMENT_REPLIES}:${t.payload.options.objectId}`;return{...e,[n]:[...e[n]||[],{id:t.payload.normalizedResponse.result,type:"aggregatedComment"}]}}if("ReactionsResource"===t.payload.resource&&t.payload.normalizedResponse){const{reaction_pin_id:n,reaction_type:i}=t.payload.options;if("reaction"===t.payload.options.action_type){const a=`reactions:${t.payload.options.pin_id}`,r={...e},o={id:`${n}:${t.payload.options.user_id}:${i}`,type:"reaction",trackingParams:void 0};return r[a]=[o].concat(e[a]),r}if("unreaction"===t.payload.options.action_type){const i=`${n}:${t.payload.options.user_id}`;return v(e,"reaction",i)}}break;case"COMPLETE_STORY":{const{payload:{storyId:n}}=t;return v(e,"story",n)}}return e}},473420:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>(e=>(t,n)=>t.feeds[((e,t)=>"string"==typeof e?e:e(t))(e,n)])(e)},519218:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(702664),a=n(616550),r=n(883119),o=n(563962),l=n(788241),s=n(536042),c=n(245410),d=n(860438),u=n(846226),p=n(98736),h=n(618569),m=n(549201),_=n(619277),g=n(785893);function y({alignIconLeft:e,bgColor:t,color:n,disableRedirect:y=!1,fallbackUrl:v,icon:f="arrow-back",onTouch:x,padding:b,placement:w,shouldUseFallbackUrl:P,size:S="lg",viewParameter:T,viewType:I,fallbackUrlForExp:A}){const k=(0,s.ZP)(),E=(0,m.HG)(),{checkExperiment:C}=(0,c.F)(),j=(0,a.useHistory)(),D=(0,a.useLocation)(),R=(0,i.useSelector)((e=>e.session.isAuthenticated)),F=(0,o.Z)(),L=(0,h.Z)(),O=!R&&A&&"/ideas"===v,{viewType:z,viewParameter:M}=(0,l.SU)(),[N,Z]=I?[I,T]:[z,M],U=()=>{const e=d.Z.getItem(_.pm);D.key||"/ideas"!==v?(0,p.My)(`pinner_conversion.back_button.${String(null==e?void 0:e[0].pageType)}`):(0,p.My)("pinner_conversion.back_button.no_history"),(0,p.My)(`web_back_button_click.${String(w)}.is_auth_${String(R)}`),L({action:"click",item:"back-button"}),N&&F({view_type:N,view_parameter:Z,element:34,event_type:102}),x&&x(),y||((!D.key||D.state&&"redirect"===D.state.referrer||P)&&v?O?E&&C("web_unauth_backbutton_navigation").anyEnabled?(j.push(A||v),(0,p.My)("web.unauth.back_button.l1interest")):!E&&C("mweb_unauth_backbutton_navigation").anyEnabled?(j.push(A||v),(0,p.My)("mweb.unauth.back_button.l1interest")):j.push(v):j.push(v):D.pathname.includes("/password/reset/")&&D.search&&D.search.includes("?nativeShouldDismiss=true")?j.push("/login/?dismissWebview=true"):j.goBack())};return(0,g.jsx)(u.Z,{id:"back-button",children:e?(0,g.jsx)(r.xu,{display:"flex",width:48,height:48,alignItems:"center",marginStart:"cancel"===f?-1:-2,children:(0,g.jsx)(r.hU,{accessibilityLabel:k._('Back', 'navigation button', 'navigation button'),bgColor:t,iconColor:n||t&&!["white","lightGray","transparent"].includes(t)?n:"gray",icon:f,onClick:U,padding:"auto"!==b?b:2,size:S})}):(0,g.jsx)(r.hU,{accessibilityLabel:k._('Back', 'navigation button', 'navigation button'),bgColor:t,iconColor:n||t&&!["white","lightGray","transparent"].includes(t)?n:"gray",icon:f,onClick:U,padding:"auto"!==b?b:2,size:S})})}},648575:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(690108),a=n(526007),r=n(648609);function o({history:e,i18n:t,logContextEvent:n,onSuccess:o,onUndo:l,originalPinId:s,pinId:c,trackingParams:d,disableRepinAnimation:u,showNewUserSavetoProfileAnimation:p,showRepinConfirmation:h,historyPush:m,savePinId:_}){return(g,y)=>{const{pins:v,session:f}=y(),{userId:x}=f,b=v[c],w={name:t._('Quick Saves', 'quickSave.boardName', 'Name of the auto-created board in quicksave experience.'),layout:"quick_saves",protected:!1,return_existing:!0,user_id:x};return i.Z.create("BoardResource",w).callCreate().then((i=>{var y;const v=i.resource_response.data;return new a.Z({boardId:v.id,dispatch:g,isQuickSave:!0,history:e,i18n:t,onSuccess:o,onUndo:l,originalPinId:s,pinId:c,section:void 0,showNewUserSavetoProfileAnimation:p,showRepinToasts:e=>h?h(e,u):void 0,trackingParams:d,userId:f.userId,historyPush:m,savePinId:_,pinData:{trackingParams:b?b.tracking_params:void 0,viewParameter:b?(0,r.A)(b):void 0,pinnedToBoardId:b?null===(y=b.pinned_to_board)||void 0===y?void 0:y.id:void 0}}).processRepin(n)}))}}},277828:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),a=n(377234),r=n(785893);function o({guide:e,guidedQuery:t,isSlot0Style:n=!1}){const{dominant_color:o,display:l}=e,s=(0,r.jsx)(i.iP,{role:"link",tapStyle:"none",rounding:"pill",href:`/search/pins/?rs=guide&q=${encodeURIComponent(t)}`,children:(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundSize:"cover",backgroundColor:o,whiteSpace:n?void 0:"nowrap"}},"data-test-id":"one-bar-module-3",minWidth:n?void 0:84,padding:4,rounding:"pill",children:(0,r.jsx)(i.xv,{align:n?"start":"center",color:n?(0,a.Yc)()?"inverse":"default":"inverse",lineClamp:n?2:void 0,size:"200",weight:n?"normal":"bold",children:l})})});return n?s:(0,r.jsx)(i.xu,{flex:"none",marginStart:-7,paddingX:4,children:s})}const l={REPLACE:-1,PREPEND:0,APPEND:1};function s({guides:e,isSlot0Style:t=!1,query:n}){const a=({position:e,term:t})=>e===l.REPLACE?t:e===l.PREPEND?`${t} ${n}`:`${n} ${t}`,s=()=>e.map((e=>(0,r.jsx)(o,{guide:e,guidedQuery:a(e),isSlot0Style:t},e.display)));return t?(0,r.jsx)(i.xu,{padding:2,children:(0,r.jsx)(i.kC,{width:"100%",gap:{row:0,column:1},direction:"column",alignItems:"start",children:s()})}):(0,r.jsx)(i.xu,{overflow:"hidden",width:"calc(100vw - 16px)",children:(0,r.jsx)(i.xu,{display:"flex",marginBottom:-2,marginStart:-4,overflow:"auto",paddingX:7,paddingY:2,position:"relative",width:"100vw",children:s()})})}},556076:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(536042),r=n(785893);function o({buttonText:e,handleDrawerClose:t,isDrawerOpen:n,onClick:o,largeSize:l=!1,reversed:s=!1,invertWhenDrawerIsOpen:c=!1,hasProductFiltersApplied:d=!1}){const u=(0,a.ZP)(),p=c&&n,h=(0,r.jsx)(i.JO,{accessibilityLabel:"",icon:"filter",color:p?"light":"dark"},"filterIcon"),m=e&&(0,r.jsx)(i.xv,{align:"center",color:p?"inverse":"default",weight:"bold",children:e},e),_=s?[m,h]:[h,m];return(0,r.jsx)(i.iP,{onTap:()=>{n?t():o()},rounding:"pill",accessibilityLabel:u._('Filter', 'productsFilterButton', 'Button to filter products results'),children:(0,r.jsxs)(i.xu,{position:"relative",children:[(0,r.jsx)(i.xu,{display:"flex",justifyContent:"center",alignContent:"center",color:p?"dark":"secondary",rounding:"pill",minHeight:40,paddingX:4,dangerouslySetInlineStyle:l?{__style:{padding:"18px"}}:void 0,children:(0,r.jsx)(i.kC,{gap:{row:2,column:0},alignItems:"center",children:_})}),d&&(0,r.jsx)(i.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},display:"flex",height:14,justifyContent:"center",minWidth:14,position:"absolute",rounding:"pill",top:!0,right:!0})]})})}},817888:(e,t,n)=>{n.d(t,{Z:()=>_e});var i=n(667294),a=n(883119),r=n(563962),o=n(536042),l=n(506888),s=n(917652),c=n(621699),d=n(460914),u=n(785893);function p({cropSource:e,domainFilters:t,handleDomain:n,pinId:l}){const p=(0,o.ZP)(),h=(0,r.Z)();(0,i.useEffect)((()=>{h({event_type:120,component:13469,view_parameter:3396,view_type:72,aux_data:{commerce_data:JSON.stringify({source:(0,s.Z)(e)})}})}),[]);return(0,u.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,u.jsx)(a.xu,{paddingY:4,children:(0,u.jsx)(a.xv,{children:p._('Merchants', 'FeedFiltering.DomainFilter.Merchants', 'Area that lists the Merchants filters')})}),t.map(((e,t)=>(0,u.jsx)(d.Z,{onTouch:()=>{var i,a;n(t),a=null!==(i=e.domain)&&void 0!==i?i:"",h({event_type:102,component:13469,view_parameter:3396,view_type:72,element:11376,aux_data:{pin_id:l,commerce_data:JSON.stringify({select:!0,domain:a})}})},pressState:"none",children:(0,u.jsxs)(a.xu,{alignItems:"center",display:"flex",marginBottom:3,children:[(0,u.jsx)(a.xu,{marginEnd:2,children:(0,u.jsx)(c.Z,{name:e.label||"",size:"sm",src:e.image_url})}),(0,u.jsx)(a.xu,{flex:"grow",children:(0,u.jsx)(a.xv,{children:e.label})}),e.selected?(0,u.jsx)(a.xu,{children:(0,u.jsx)(a.JO,{accessibilityLabel:p._('checked merchant filter', 'FeedFiltering.DomainFilters.MerchantsCheckmark', 'checkmark when merchant is selected'),color:"default",icon:"check"})}):null]},e.domain)},e.domain)))]})}var h=n(542473),m=n.n(h),_=Math.sqrt(50),g=Math.sqrt(10),y=Math.sqrt(2);function v(e,t,n){var i,a,r,o,l=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((i=t<e)&&(a=e,e=t,t=a),0===(o=function(e,t,n){var i=(t-e)/Math.max(0,n),a=Math.floor(Math.log(i)/Math.LN10),r=i/Math.pow(10,a);return a>=0?(r>=_?10:r>=g?5:r>=y?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(r>=_?10:r>=g?5:r>=y?2:1)}(e,t,n))||!isFinite(o))return[];if(o>0){let n=Math.round(e/o),i=Math.round(t/o);for(n*o<e&&++n,i*o>t&&--i,r=new Array(a=i-n+1);++l<a;)r[l]=(n+l)*o}else{o=-o;let n=Math.round(e*o),i=Math.round(t*o);for(n/o<e&&++n,i/o>t&&--i,r=new Array(a=i-n+1);++l<a;)r[l]=(n+l)/o}return i&&r.reverse(),r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function P(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=I(e);if(t){var a=I(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}(this,n)}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,a,r=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(s){l=!0,a=s}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return r}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var F="react-compound-slider:";function L(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){return t.val>n.val?e?-1:1:n.val>t.val?e?1:-1:0}}function O(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.findIndex((function(e){return e.key===t}));if(-1!==a){var r=e[a],o=r.key;return r.val===n?e:[].concat(j(e.slice(0,a)),[{key:o,val:n}],j(e.slice(a+1))).sort(L(i))}return e}function z(e,t){if(!e)return[0,0];var n=e.getBoundingClientRect();return[t?n.top:n.left,t?n.bottom:n.right]}function M(e){var t=e.type,n=void 0===t?"":t,i=e.touches;return!i||i.length>1||"touchend"===n.toLowerCase()&&i.length>0}function N(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function Z(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=0;return{handles:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){var a=t.getValue(e);return e!==a&&(i+=1,m()(!n,"".concat(F," Invalid value encountered. Changing ").concat(e," to ").concat(a,"."))),a})).map((function(e,t){return{key:"$$-".concat(t),val:e}})).sort(L(e)),changes:i}}function U(e,t,n,i,a){for(var r=-1,o=!0,l=0;l<e.length;l++){var s=e[l],c=t[l];if(!c||c.key!==s.key)return e;c.val!==s.val&&(r=l,o=c.val-s.val>0)}if(-1===r)return e;for(var d=o?n:-n,u=0;u<t.length;u++){var p=t[u],h=t[u+1];if(h&&p.val===h.val){if(u===r){var m=h.val+d;if(a(m)===m){var _=U(t,O(t,h.key,h.val+d,i),n,i,a);return _===t?e:_}return e}var g=p.val+d;if(a(g)===g){var y=U(t,O(t,p.key,p.val+d,i),n,i,a);return y===t?e:y}return e}}return t}function B(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.forEach((function(t){return t&&t(e)}))}}var K=function(){return{value:0,percent:0}},H=function(e){T(n,e);var t=E(n);function n(){var e;b(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).getRailProps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.props,i=n.emitMouse,a=n.emitTouch;return x(x({},t),{},{onMouseDown:B(t&&t.onMouseDown,i),onTouchStart:B(t&&t.onTouchStart,a)})},e}return P(n,[{key:"render",value:function(){var e=this.getRailProps,t=this.props,n=t.getEventData,a=t.activeHandleID,r=void 0===a?"":a,o=(0,t.children)({getEventData:n||K,activeHandleID:r,getRailProps:e});return o&&i.Children.only(o)}}]),n}(i.Component),G=function(e){T(n,e);var t=E(n);function n(){var e;b(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).autofocus=function(e){e.target instanceof HTMLElement&&e.target.focus()},e.getHandleProps=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.props,a=i.emitKeyboard,r=i.emitMouse,o=i.emitTouch;return x(x({},n),{},{onKeyDown:B(n&&n.onKeyDown,(function(e){return a&&a(e,t)})),onMouseDown:B(n&&n.onMouseDown,e.autofocus,(function(e){return r&&r(e,t)})),onTouchStart:B(n&&n.onTouchStart,(function(e){return o&&o(e,t)}))})},e}return P(n,[{key:"render",value:function(){var e=this.getHandleProps,t=this.props,n=t.activeHandleID,a=void 0===n?"":n,r=t.children,o=t.handles,l=r({handles:void 0===o?[]:o,activeHandleID:a,getHandleProps:e});return l&&i.Children.only(l)}}]),n}(i.Component),W=function(){function e(){b(this,e),this.interpolator=void 0,this.domain=[0,1],this.range=[0,1],this.domain=[0,1],this.range=[0,1],this.interpolator=null}return P(e,[{key:"createInterpolator",value:function(e,t){var n=this,i=e[0],a=e[1],r=t[0],o=t[1];return a<i?function(e){return n.interpolateValue(o,r)(n.deinterpolateValue(a,i)(e))}:function(e){return n.interpolateValue(r,o)(n.deinterpolateValue(i,a)(e))}}},{key:"interpolateValue",value:function(e,t){return t-=e=+e,function(n){return e+t*n}}},{key:"deinterpolateValue",value:function(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(){return t}}},{key:"rescale",value:function(){return this.interpolator=null,this}},{key:"getValue",value:function(e){var t=this.domain,n=this.range;return(this.interpolator||(this.interpolator=this.createInterpolator(t,n)))(+e)}},{key:"setDomain",value:function(e){return this.domain=[e[0],e[1]],this.rescale(),this}},{key:"getDomain",value:function(){return this.domain}},{key:"setRange",value:function(e){return this.range=[e[0],e[1]],this}},{key:"getRange",value:function(){return this.range}},{key:"getTicks",value:function(e){var t=this.domain;return v(t[0],t[t.length-1],e||10)}}]),e}(),$=function(){return{value:0,percent:0}},V=function(e){T(n,e);var t=E(n);function n(){return b(this,n),t.apply(this,arguments)}return P(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.values,a=e.scale,r=void 0===a?new W:a,o=e.count,l=void 0===o?10:o,s=e.getEventData,c=void 0===s?$:s,d=e.activeHandleID,u=t({getEventData:c,activeHandleID:void 0===d?"":d,ticks:(n||r.getTicks(l)).map((function(e){return{id:"$$-".concat(e),value:e,percent:r.getValue(e)}}))});return u&&i.Children.only(u)}}]),n}(i.Component),q=function(){return{value:0,percent:0}},Y=function(e){T(n,e);var t=E(n);function n(){var e;b(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).getTrackProps=function(t){var n=e.props,i=n.emitMouse,a=n.emitTouch;return x(x({},t||{}),{},{onMouseDown:B(t&&t.onMouseDown,i),onTouchStart:B(t&&t.onTouchStart,a)})},e}return P(n,[{key:"render",value:function(){for(var e=this.getTrackProps,t=this.props,n=t.children,a=t.left,r=void 0===a||a,o=t.right,l=void 0===o||o,s=t.scale,c=void 0===s?new W:s,d=t.handles,u=void 0===d?[]:d,p=t.getEventData,h=void 0===p?q:p,m=t.activeHandleID,_=void 0===m?"":m,g=c.getDomain(),y=[],v=0;v<u.length+1;v++){var f=u[v-1],x=u[v];0===v&&!0===r?f={id:"$",value:g[0],percent:0}:v===u.length&&!0===l&&(x={id:"$",value:g[1],percent:100}),f&&x&&y.push({id:"".concat(f.id,"-").concat(x.id),source:f,target:x})}var b=n({getEventData:h,activeHandleID:_,tracks:y,getTrackProps:e});return b&&i.Children.only(b)}}]),n}(i.Component);function X(e,t,n){return Math.min(Math.max(e,t),n)}var J=P((function e(){var t=this;b(this,e),this.step=1,this.domain=[0,1],this.range=[0,1],this.setDomain=function(e){return t.domain=[e[0],e[1]],t},this.setRange=function(e){return t.range=[e[0],e[1]],t},this.setStep=function(e){return t.step=e,t},this.getValue=function(e){var n=C(t.domain,2),i=n[0],a=n[1],r=C(t.range,2),o=r[0],l=r[1],s=t.step,c=(X(e,i,a)-i)/(a-i);return X(s*Math.round(c*(l-o)/s)+o,o<l?o:l,l>o?l:o)}})),Q="undefined"!=typeof window&&"undefined"!=typeof document,ee=function(){},te=[0,100],ne=function(e){T(n,e);var t=E(n);function n(){var e;b(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={step:.1,values:[],domain:te,handles:[],reversed:!1,activeHandleID:"",valueToPerc:null,valueToStep:null,pixelToStep:null},e.slider=i.createRef(),e.onKeyDown=function(t,n){var i=["ArrowRight","ArrowUp"],a=["ArrowDown","ArrowLeft"],r=k(e),o=r.state.handles,l=r.props,s=l.step,c=void 0===s?.1:s,d=l.reversed,u=void 0!==d&&d,p=l.vertical,h=void 0!==p&&p,m=l.domain,_=void 0===m?[0,100]:m,g=t.key||"".concat(t.keyCode);if(i.concat(a).includes(g)){if(h){var y=[a,i];i=y[0],a=y[1]}t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault();var v=o.find((function(e){return e.key===n}));if(v){var f=v.val,x=f;i.includes(g)?x=function(e,t,n,i){var a=i?e-t:e+t;return i?Math.max(n[0],a):Math.min(n[1],a)}(f,c,_,u):a.includes(g)&&(x=function(e,t,n,i){var a=i?e+t:e-t;return i?Math.min(n[1],a):Math.max(n[0],a)}(f,c,_,u));var b=o.map((function(e){return e.key===n?{key:e.key,val:x}:e}));e.submitUpdate(b,!0)}}},e.onMouseDown=function(t,n){e.onStart(t,n,!1)},e.onTouchStart=function(t,n){M(t)||e.onStart(t,n,!0)},e.getEventData=function(t,n){var i,a=k(e),r=a.state,o=r.pixelToStep,l=r.valueToPerc,s=a.props.vertical;return o.setDomain(z(e.slider.current,s)),n&&t instanceof TouchEvent?i=o.getValue(N(s,t)):t instanceof MouseEvent&&(i=o.getValue(s?t.clientY:t.pageX)),{value:i,percent:l.getValue(i)}},e.onMouseMove=function(t){var n=k(e),i=n.state,a=i.handles,r=i.pixelToStep,o=i.activeHandleID,l=void 0===o?"":o,s=n.props,c=s.vertical,d=s.reversed,u=void 0!==d&&d;r.setDomain(z(e.slider.current,c));var p=O(a,l,r.getValue(c?t.clientY:t.pageX),u);e.submitUpdate(p)},e.onTouchMove=function(t){var n=k(e),i=n.state,a=i.handles,r=i.pixelToStep,o=i.activeHandleID,l=n.props,s=l.vertical,c=l.reversed;if(null!==r&&!M(t)){r.setDomain(z(e.slider.current,s));var d=O(a,o,r.getValue(N(s,t)),c);e.submitUpdate(d)}},e.onMouseUp=function(){var t=k(e),n=t.state,i=n.handles,a=void 0===i?[]:i,r=n.activeHandleID,o=t.props,l=o.onChange,s=void 0===l?ee:l,c=o.onSlideEnd,d=void 0===c?ee:c;s(a.map((function(e){return e.val}))),d(a.map((function(e){return e.val})),{activeHandleID:r}),e.setState({activeHandleID:""}),Q&&(document.removeEventListener("mousemove",e.onMouseMove),document.removeEventListener("mouseup",e.onMouseUp))},e.onTouchEnd=function(){var t=k(e),n=t.state,i=n.handles,a=n.activeHandleID,r=t.props,o=r.onChange,l=void 0===o?ee:o,s=r.onSlideEnd,c=void 0===s?ee:s;l(i.map((function(e){return e.val}))),c(i.map((function(e){return e.val})),{activeHandleID:a}),e.setState({activeHandleID:""}),Q&&(document.removeEventListener("touchmove",e.onTouchMove),document.removeEventListener("touchend",e.onTouchEnd))},e}return P(n,[{key:"componentDidMount",value:function(){var e=this.state.pixelToStep,t=this.props.vertical;e.setDomain(z(this.slider.current,t))}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"removeListeners",value:function(){Q&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"onStart",value:function(e,t,n){var i=this.state.handles,a=this.props.onSlideStart,r=void 0===a?ee:a;n||e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),i.find((function(e){return e.key===t}))?(this.setState({activeHandleID:t}),r(i.map((function(e){return e.val})),{activeHandleID:t}),n?this.addTouchEvents():this.addMouseEvents()):(this.setState({activeHandleID:""}),this.handleRailAndTrackClicks(e,n))}},{key:"handleRailAndTrackClicks",value:function(e,t){var n,i=this,a=this.state,r=a.handles,o=a.pixelToStep,l=this.props,s=l.vertical,c=l.reversed,d=void 0!==c&&c,u=this.slider;o.setDomain(z(u.current,s)),n=t?o.getValue(N(s,e)):o.getValue(s?e.clientY:e.pageX);for(var p="",h=1/0,m=0;m<r.length;m++){var _=r[m],g=_.key,y=_.val,v=Math.abs(y-n);v<h&&(p=g,h=v)}var f=O(r,p,n,d);this.setState({activeHandleID:p},(function(){i.submitUpdate(f,!0),t?i.addTouchEvents():i.addMouseEvents()}))}},{key:"addMouseEvents",value:function(){Q&&(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))}},{key:"addTouchEvents",value:function(){Q&&(document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchend",this.onTouchEnd))}},{key:"submitUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props,i=n.mode,a=void 0===i?1:i,r=n.step,o=void 0===r?.1:r,l=n.onUpdate,s=void 0===l?ee:l,c=n.onChange,d=void 0===c?ee:c,u=n.reversed,p=void 0!==u&&u,h=this.state.valueToStep.getValue;this.setState((function(n){var i=n.handles,r=[];if("function"==typeof a)r=a(i,e,o,p,h),m()(Array.isArray(r),"Custom mode function did not return an array.");else switch(a){case 1:r=function(e,t){return t}(0,e);break;case 2:r=function(e,t){for(var n=0;n<e.length;n++){if(e[n].key!==t[n].key)return e;if(t[n+1]&&t[n].val===t[n+1].val)return e}return t}(i,e);break;case 3:r=U(i,e,o,p,h);break;default:r=e,m()(!1,"".concat(F," Invalid mode value."))}return s(r.map((function(e){return e.val}))),t&&d(r.map((function(e){return e.val}))),{handles:r}}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.handles,a=t.valueToPerc,r=t.activeHandleID,o=this.props,l=o.className,s=o.rootStyle,c=void 0===s?{}:s,d=o.rootProps,u=void 0===d?{}:d,p=o.component,h=void 0===p?"div":p,m=o.disabled,_=void 0!==m&&m,g=o.flatten,y=void 0!==g&&g,v=n.map((function(e){var t=e.key,n=e.val;return{id:t,value:n,percent:a.getValue(n)}})),f=i.Children.map(this.props.children,(function(t){return!0===function(e){if(!(0,i.isValidElement)(e))return!1;var t=e.type,n=t?t.name:"";return n===G.name||n===H.name||n===V.name||n===Y.name}(t)?i.cloneElement(t,{scale:a,handles:v,activeHandleID:r,getEventData:e.getEventData,emitKeyboard:_?ee:e.onKeyDown,emitMouse:_?ee:e.onMouseDown,emitTouch:_?ee:e.onTouchStart}):t}));return y?i.createElement(i.Fragment,null,i.createElement(h,x(x({},u),{},{style:c,className:l,ref:this.slider})),f):i.createElement(i.Fragment,null,i.createElement(h,x(x({},u),{},{style:c,className:l,ref:this.slider}),f))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,i,a=e.step,r=void 0===a?.1:a,o=e.values,l=e.domain,s=void 0===l?te:l,c=e.reversed,d=void 0!==c&&c,u=e.onUpdate,p=void 0===u?ee:u,h=e.onChange,_=void 0===h?ee:h,g=e.warnOnChanges,y=void 0!==g&&g,v=t.valueToPerc,f=t.valueToStep,x=t.pixelToStep,b={};if(v&&f&&x||(v=new W,f=new J,x=new J,b.valueToPerc=v,b.valueToStep=f,b.pixelToStep=x),t.domain===te||null===t.step||null===t.domain||null===t.reversed||r!==t.step||s[0]!==t.domain[0]||s[1]!==t.domain[1]||d!==t.reversed){var w=C(s,2),P=w[0],S=w[1];f.setStep(r).setRange([P,S]).setDomain([P,S]),!0===d?(v.setDomain([P,S]).setRange([100,0]),x.setStep(r).setRange([S,P])):(v.setDomain([P,S]).setRange([0,100]),x.setStep(r).setRange([P,S])),m()(S>P,"".concat(F," Max must be greater than min (even if reversed). Max is ").concat(S,". Min is ").concat(P,"."));var T=Z(o||t.values,d,f,y),I=T.handles;(T.changes||void 0===o||o===t.values)&&(p(I.map((function(e){return e.val}))),_(I.map((function(e){return e.val})))),b.step=r,b.values=o,b.domain=s===te?j(s):s,b.handles=I,b.reversed=d}else if(n=o,i=t.values,!(n===i||n.length===i.length&&n.reduce(function(e){return function(t,n,i){return t&&e[i]===n}}(i),!0))){var A=Z(o,d,f,y),k=A.handles;A.changes&&(p(k.map((function(e){return e.val}))),_(k.map((function(e){return e.val})))),b.values=o,b.handles=k}return Object.keys(b).length?b:null}}]),n}(i.PureComponent),ie=n(377234),ae=n(734417),re=n(282802);const oe=({domain:[e,t],handle:{id:n,value:i,percent:a},getHandleProps:r,touched:o,activeHandleID:l})=>(0,u.jsx)("div",{"aria-valuemax":t,"aria-valuemin":e,"aria-valuenow":i,role:"slider",style:{left:`${a}%`,position:"absolute",marginLeft:"-11px",marginTop:"-5px",border:"1px solid white",zIndex:2,width:15,height:15,cursor:"pointer",borderRadius:"50%",boxShadow:"1px 1px 1px 1px rgba(0, 0, 0, 0.2)",backgroundColor:"black",transform:o&&l===n?"scale(2)":""},...r(n)}),le=({source:e,target:t,getTrackProps:n,backgroundColor:i})=>(0,u.jsx)("div",{style:{position:"absolute",height:5,zIndex:1,backgroundColor:i||"black",borderRadius:7,cursor:"pointer",left:`${e.percent}%`,width:t.percent-e.percent+"%"},...n()});const se=function({cropSource:e,currencyType:t,minPrice:n,maxPrice:l,lowerBound:c,upperBound:d,handlePriceChange:p}){const h=(0,o.ZP)(),m=(0,ae.Z)(),_=(0,r.Z)(),{locale:g}=(0,re.B)(),y={position:"absolute",width:"100%",height:5,borderRadius:7,cursor:"pointer",backgroundColor:(0,ie.Yc)()?"#454545":"lightGrey"},v=[Math.ceil(c),Math.ceil(d)],f=[Math.ceil(n),Math.ceil(l)],[x,b]=(0,i.useState)([!1,!1]);(0,i.useEffect)((()=>{_({event_type:120,component:13468,view_parameter:3396,view_type:72,aux_data:{commerce_data:JSON.stringify({source:(0,s.Z)(e)})}})}),[]);const w={currency:t,style:"currency",minimum_fraction_digits:0,maximum_fraction_digits:2};return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(a.xu,{paddingY:4,children:(0,u.jsx)(a.xv,{children:h._('Price range', 'FeedFiltering.PriceFilter.PriceRange', 'Area that lists the price slider')})}),(0,u.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:3,children:[(0,u.jsx)(a.xv,{weight:"bold",children:(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:x[0]?"translateZ(0) translateY(0) scale(1.25)":""}},children:m(g,f[0],w)})}),(0,u.jsx)(a.xv,{weight:"bold",children:(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:x[1]?"translateZ(0) translateY(0) scale(1.25)":"",textAlign:"right"}},children:m(g,f[1],{...w,uplimit:d})})})]},"priceSliderValues"),(0,u.jsxs)(ne,{domain:v,mode:2,onChange:()=>{b([!1,!1])},onUpdate:e=>{p(e);const[t,n]=f,[i,a]=e;t!==i?b([!0,!1]):n!==a&&b([!1,!0])},rootStyle:{margin:"5%",position:"relative",width:"90%"},step:1,values:f,children:[(0,u.jsx)(H,{children:({getRailProps:e})=>(0,u.jsx)("div",{style:y,...e()})}),(0,u.jsx)(G,{children:({handles:e,getHandleProps:t,activeHandleID:n})=>(0,u.jsx)("div",{className:"slider-handles",children:e.map(((e,i)=>(0,u.jsx)(oe,{activeHandleID:n,domain:v,getHandleProps:t,handle:e,touched:x[i]},e.id)))})}),(0,u.jsx)(Y,{left:!1,right:!1,children:({tracks:e,getTrackProps:t})=>(0,u.jsx)("div",{className:"slider-tracks",children:e.map((({id:e,source:n,target:i})=>(0,u.jsx)(le,{getTrackProps:t,source:n,target:i,backgroundColor:(0,ie.Yc)()?"white":"black"},e)))})})]}),(0,u.jsx)(a.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginTop:12,children:(0,u.jsx)(a.xv,{children:h._('Drag to change price', 'FeedFiltering.PriceFilter.PriceDragText', 'Area that instructs how to use price slider')})})]})};function ce({domains:e,prices:t}){return!(!e||""===e)||!!(t&&t.length>0)}function de(e){return e?e.filter((e=>e.selected)).map((e=>e.domain)).join(","):null}function ue({minPrice:e,maxPrice:t,priceFilters:n}){const{min_value:i,suggested_max_value:a}=n||{};return e!==i||t!==a?[e,t]:[]}function pe({currentPrice:e,currencyType:t,lowerBound:n,upperBound:i,handlePriceChange:a,cropSource:r}){const o=e[0],l=e[1];return(0,u.jsx)(se,{cropSource:r,currencyType:t,handlePriceChange:a,lowerBound:n,maxPrice:l,minPrice:o,upperBound:i})}const he=function({cropSource:e,initialProductFilters:t,pinId:n,productFilters:l,submitFilters:s,updateShowIndicator:c}){const d=(0,o.ZP)(),h=(0,r.Z)(),{domainFilters:m}=l,{priceFilters:_}=l,{min_value:g,suggested_max_value:y,currency_type:v}=_||{},f=null==t?void 0:t.domains;let x=[];f&&(x=f.split(",")),m&&m.forEach((e=>{e.selected=x.includes(e.domain)}));const[b,w]=(null==t?void 0:t.prices)||[],P=b||g,S=w||y,[T,I]=(0,i.useState)(m),[A,k]=(0,i.useState)([P,S]);return(0,i.useEffect)((()=>{I(m),k([P,S]);const e={domains:de(m)||"",prices:ue({minPrice:P,maxPrice:S,priceFilters:_})};c(ce(e))}),[m,P,S]),(0,u.jsxs)(i.Fragment,{children:[(0,u.jsxs)(a.xu,{children:[_&&Object.values(_).length>0&&(0,u.jsx)(pe,{cropSource:e,currencyType:v,currentPrice:A,handlePriceChange:e=>{k(e)},lowerBound:g,upperBound:y}),T&&(0,u.jsx)(p,{cropSource:e,domainFilters:T,handleDomain:e=>{if(!T)return;const t=!T[e].selected,n=[...T.slice(0,e),{...T[e],selected:t},...T.slice(e+1)];I(n)},pinId:n})]}),(0,u.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,u.jsx)(a.zx,{color:"red",onClick:()=>{h({event_type:102,view_parameter:3396,view_type:72,element:11546});const e=de(T)||"",[t,n]=A,i={domains:e,prices:ue({minPrice:t,maxPrice:n,priceFilters:_})};s(i),c(ce(i))},size:"lg",text:d._('Confirm', 'FeedFilterContainer.FeedFiltering.ConfirmButton', 'Confirms filter selection'),type:"submit"})})]})},me=({heading:e,onDismiss:t,onReset:n})=>{const i=(0,o.ZP)();return(0,u.jsx)(a.xu,{children:(0,u.jsxs)(a.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,u.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,u.jsx)(a.hU,{accessibilityLabel:i._('Close', 'SlidingModal.FeedFilterContainer.IconButton', 'Close filters menu'),icon:"cancel",onClick:t,padding:5,size:"lg",iconColor:"gray"})}),(0,u.jsx)(a.kC,{alignItems:"center",flex:"grow",justifyContent:"center",children:(0,u.jsx)(a.xv,{align:"center",weight:"bold",children:e})}),(0,u.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginRight:15}},display:"flex",children:(0,u.jsx)(a.zx,{fullWidth:!0,onClick:n,text:i._('Reset', 'SlidingModal.FeedFilterContainer.ResetButton', 'Reset filters')})})]})})};const _e=function({closeFiltersModal:e,cropSource:t,initialProductFilters:n,isOpen:c,pinId:d,productFilters:p,submitFilters:h,updateShowIndicator:m}){const _=(0,o.ZP)(),g=(0,r.Z)();return(0,i.useEffect)((()=>{g({event_type:13,view_parameter:3396,view_type:72,aux_data:{commerce_data:JSON.stringify({source:(0,s.Z)(t)})}})}),[]),(0,u.jsx)(a.xu,{marginEnd:2,children:(0,u.jsxs)(l.Z,{allowClickAndDrag:!0,isOpen:c,accessibilityModalLabel:_._('Filters', 'flashlightPage.slidingModal.accessibilityModalLabel', 'Modal label for product filters'),children:[(0,u.jsx)(me,{heading:_._('Filters', 'flashlightPage.slidingModal.heading', 'heading for this mobile modal'),onDismiss:e,onReset:()=>{h({domains:"",prices:[]}),m(!1),e(),g({event_type:102,view_parameter:3396,view_type:72,element:11545})}}),(0,u.jsx)(a.xu,{paddingX:5,paddingY:5,children:(0,u.jsx)(he,{cropSource:t,initialProductFilters:n,productFilters:p,pinId:d,submitFilters:({domains:t,prices:n})=>{h({domains:t,prices:n}),e()},updateShowIndicator:m})})]})})}},20227:(e,t,n)=>{n.d(t,{Z:()=>_,e:()=>p});var i=n(702664),a=n(240684),r=n(883119),o=n(527386),l=n(187815),s=n(105095),c=n(83503),d=n(785893);const u=(0,a.ZP)({resolved:{},chunkName:()=>"storyPins-duplo-HlsVideoContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(67631),n.e(19596)]).then(n.bind(n,982043)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 982043}}),p=Object.freeze({white:"inverse",black:"default"}),h={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function m({titleText:e,videoPin:t,videoPlaceholderImage:n}){return(0,d.jsx)(u,{fallback:(0,d.jsx)(r.Ee,{alt:e||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:3,naturalWidth:2,src:n||t.metadata.thumbnail}),aspectRatio:s.q4,controls:!1,poster:n||t.metadata.thumbnail,src:t.url})}function _({buttonAction:e,buttonCustomization:t,buttonText:n,experience:a,hideCompleteButton:u,imageAlt:p,imageUrl:_,openNewTab:g,storyType:y,titleText:v,titleTextColor:f,titleTextCustomization:x,videoPin:b,videoPlaceholderImage:w}){var P;const S=(0,i.useDispatch)(),{experience_id:T,placement_id:I}=a||{},A=(0,c.Z)({onVisibilityChanged:e=>{e&&a&&"viewed"!==a.status&&(a.status="viewed",S((0,o.UT)(I,T,!1,!0)))}}),k=(0,s.zn)(y),E=k?l.f8:l.hm,C=k?l.sH:l.HI,j=!k,{color:D,fontStyle:R,fontWeight:F,horizontalAlignment:L,fontSize:O}=(0,s.Mf)(x||{},"mweb"),{button_background_color:z,button_text_color:M}=t||{};return(0,d.jsx)(r.xu,{position:"relative",padding:1,marginBottom:2,ref:A,children:(0,d.jsxs)(r.rU,{accessibilityLabel:v,href:e,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),a&&S((0,o.CK)(I,T,!1,!0))},target:g?"blank":null,children:[(0,d.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(150%)"}},position:"relative",children:(0,d.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,d.jsx)(r.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:"feed_card_video"===y&&b?(0,d.jsx)(m,{titleText:v,videoPin:b,videoPlaceholderImage:w}):_&&(0,d.jsx)(r.Ee,{alt:p||v||"",color:"rgb(111, 91, 77)",naturalHeight:4,naturalWidth:3,src:_,fit:"cover"})}),j&&(0,d.jsx)(r.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:h.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,d.jsx)(E,{children:(0,d.jsx)(r.xv,{align:L,color:f,italic:"italics"===R,weight:F,children:(0,d.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(P=D||f)&&void 0!==P?P:void 0,fontSize:O}},children:v})})})]})}),!u&&(0,d.jsx)(C,{children:(0,d.jsx)(r.xu,{display:"flex",rounding:"pill",color:k?"default":"secondary",dangerouslySetInlineStyle:{__style:{backgroundColor:z}},justifyContent:"center",alignItems:"center",paddingX:2,height:48,children:(0,d.jsx)(r.xv,{weight:"bold",size:"200",lineClamp:1,children:(0,d.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{color:M}},children:n})})})})]})})}},806530:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),a=n(702664),r=n(883119),o=n(245410),l=n(802071),s=n(328939),c=n(525104),d=n(726091),u=n(785893);const p=43,h=2;function m({slotIndex:e,storyId:t,exactMatch:n=!1}){const{isAuth:m}=(0,l.Z)(),{checkExperiment:_}=(0,o.F)(),g=(0,c.S6)(),{action:y,aux_fields:v,objects:f,story_type:x,title:b}=(0,a.useSelector)((({stories:e})=>e[t])),w=f[0].id,P=f.slice(1,3).map((({id:e})=>g(e)));return!n&&P.length<2?null:_(m?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,u.jsx)(s.qS,{auxData:{content_ids:P.map((e=>null==e?void 0:e.id)),story_id:t,story_type:x,...v},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:p,viewType:h,children:({impressionTrackerRef:e})=>(0,u.jsxs)(r.xu,{ref:e,children:[b&&(0,u.jsx)(r.xu,{paddingY:1,marginTop:2,children:(0,u.jsx)(r.xv,{align:"center",children:b.format})}),(0,u.jsx)(d.Z,{action:y,auxData:v,isPinnerAuthorityHero:n,userId:w,userPins:n?void 0:P,userSearchRepStyle:n,viewParameter:p,viewType:h})]})}):(0,u.jsx)(s.Hs,{auxData:{content_ids:P.map((e=>null==e?void 0:e.id)),story_id:t,story_type:x,...v},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:p,viewType:h,children:(0,u.jsxs)(i.Fragment,{children:[b&&(0,u.jsx)(r.xu,{paddingY:1,marginTop:2,children:(0,u.jsx)(r.xv,{align:"center",children:b.format})}),(0,u.jsx)(d.Z,{action:y,auxData:v,isPinnerAuthorityHero:n,userId:w,userPins:n?void 0:P,userSearchRepStyle:n,viewParameter:p,viewType:h})]})})}},562512:(e,t,n)=>{n.d(t,{UG:()=>h,ZP:()=>_,aG:()=>m});var i=n(667294),a=n(883119),r=n(621699),o=n(536042),l=n(637362),s=n(618569),c=n(843843),d=n(785893);const u=12,p=24,h={large:"large",medium:"medium",small:"small",extra_small:"extra_small",article:"article",interest:"interest"},m={bubbleOverlay:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}}};function _({backgroundColor:e,bubbleId:t,bubbleUrl:n,coverImageUrl:_,curator:g,font:y,format:v,height:f,identifierIconType:x,onTap:b,pwtSurfaceContext:w,referringSource:P,subtitle:S,title:T,buttonFormat:I,contentAlign:A="center",textAlign:k="center",width:E="100%"}){const C=(0,o.ZP)(),j=(0,s.Z)(),[D,R]=(0,i.useState)("string"==typeof f?void 0:f),F=e=>{if(e){const t=e.offsetWidth,n="string"==typeof f?Number.parseFloat(f):100;R(t*n/100)}};if(!D)return(0,d.jsx)(a.xu,{ref:F,dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof f?Number.parseFloat(f)+"%":"100%",width:E}}});const L=v===h.article,O=v===h.interest,z=y||D>250&&"lg"||D>140&&v&&[h.medium,h.small,h.article].includes(v)&&"md"||D<120&&v&&v===h.small&&"xs"||"sm";return(0,d.jsx)(a.xu,{position:"relative","data-test-id":"search-suggestion","data-test-type":P,children:(0,d.jsx)(c.MZ,{to:n,isAppUpsellDisabled:!0,onTouch:()=>{b&&(j({action:"click",item:"search-suggestion"}),b(t))},rounding:4,children:(0,d.jsxs)(a.zd,{rounding:4,children:[(0,d.jsx)(a.xu,{width:E,height:D,children:_&&(0,d.jsx)(a.Ee,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:()=>{w&&w.markConstraintComplete("RenderSearchLandingPageBubbles")},role:"presentation",src:_})}),(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:m.bubbleOverlay,height:D,width:E,position:"absolute",top:!0,left:!0}),g&&!L&&(0,d.jsx)(a.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,d.jsx)(r.Z,{outline:!0,size:"xs",src:g.image_small_url,name:g.full_name})}),!!x&&x!==l.J&&(0,d.jsx)(a.xu,{alignItems:"center",color:"default",display:"flex",height:p,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:p,children:(0,d.jsx)(a.JO,{icon:(0,l.Z)(x),accessibilityLabel:C._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",size:u})}),(0,d.jsx)(a.xu,{display:"flex",position:"absolute",top:!0,width:E,height:D,padding:L||O?6:D>100?3:1,alignItems:L||O?"end":"center",justifyContent:A,children:(0,d.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[S&&(0,d.jsx)(a.xv,{align:k,color:"light",size:"lg"===z?"300":"100",overflow:"normal",children:S}),["lg","md"].includes(z)?(0,d.jsx)(a.X6,{align:k,size:"md"===z&&O?"500":"lg"===z?"600":"400",color:"light",overflow:"normal",children:T}):(0,d.jsx)(a.xv,{align:k,color:"light",size:"sm"===z?"300":"100",overflow:"normal",weight:"bold",children:T}),g&&L&&(0,d.jsxs)(a.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,d.jsx)(a.xu,{marginEnd:2,children:(0,d.jsx)(r.Z,{outline:!0,size:"xs",src:g.image_small_url,name:g.full_name})}),(0,d.jsx)(a.xv,{size:"100",color:"light",weight:"bold",children:g.full_name})]}),I&&(0,d.jsx)(a.xu,{marginTop:4,children:(0,d.jsx)(a.zx,{role:"link",text:I.text,href:I.href,size:I.size,accessibilityLabel:I.accessibilityLabel})})]})})]})})})}},532243:(e,t,n)=>{n.d(t,{Z:()=>y});var i,a=n(667294),r=n(702664),o=(n(167912),n(883119)),l=n(563962),s=n(94103),c=n(637362),d=n(28630),u=n(328939),p=n(697),h=n(785893);const m=void 0!==i?i:i=n(456778);function _({auxData:e,pattern:t,slotIndex:n,storyId:i,viewType:r,viewParameter:s,storyData:{storyType:m,referringSource:_,hasTitle:g,titleFormat:y,identifierIconName:v,actionUrl:f,actionText:x,bubblesData:b},storyGraphqlRef:w}){const P=(0,l.Z)(),S={story_type:m,story_id:i,content_ids:b.map((({type:e,id:t})=>e+":"+t)).join("|"),...e};return(0,h.jsx)(u.Hs,{loggingId:i,objectIdStr:i,viewParameter:s,viewType:r,slotIndex:n,component:200,auxData:S,children:(0,h.jsxs)(a.Fragment,{children:[g&&(0,h.jsxs)(o.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:["number"==typeof v&&v!==c.J&&(0,h.jsx)(o.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,h.jsx)(o.JO,{accessibilityLabel:"",color:"default",icon:(0,c.Z)(v),size:14})}),(0,h.jsx)(o.xv,{weight:"bold",children:y})]}),(0,h.jsx)(p.Z,{pattern:t,referringSource:_,storyId:i,viewParameter:s,viewType:r,storyGraphqlRef:w}),f&&x&&(0,h.jsx)(o.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,h.jsx)(o.zx,{role:"link",accessibilityLabel:x,color:"gray",onClick:()=>{P({view_type:r,view_parameter:s,aux_data:S,event_type:102})},text:x,href:f,rel:(0,d.Z)(f)?"nofollow":void 0,target:(0,d.Z)(f)?"blank":void 0,size:"md"})})]})})}const{useStoryDerivedData:g}=(0,s.tK)(m,{useGraphQLAdapter:({storyType:e,storyTitle:t,referringSource:n,displayOptions:i,action:a,objects:r})=>({storyType:e,referringSource:n,hasTitle:!!t,titleFormat:null==t?void 0:t.format,identifierIconName:null==i?void 0:i.identifierIconName,actionUrl:null==a?void 0:a.url,actionText:(null==a?void 0:a.text)||void 0,bubblesData:(null==r?void 0:r.filter((e=>"ExploreArticle"===e.__typename)).map((e=>({id:e.entityId||"",type:e.type||""}))).filter(Boolean))||[]}),useLegacyAdapter:e=>{var t,n,i,a;const o=((null==e?void 0:e.objects)||[]).map((e=>e.id))||[],l=(0,r.useSelector)((({articles:e})=>o.map((t=>{const n=e[t];return{type:n.type,id:n.id}}))));return e?{storyType:e.story_type,referringSource:e.referring_source,hasTitle:!!e.title,titleFormat:null===(t=e.title)||void 0===t?void 0:t.format,identifierIconName:null===(n=e.display_options)||void 0===n?void 0:n.identifier_icon_name,actionUrl:null===(i=e.action)||void 0===i?void 0:i.url,actionText:null===(a=e.action)||void 0===a?void 0:a.text,bubblesData:l}:null}});function y({storyGraphqlRef:e,storyId:t,...n}){const[i,a]=g(e?{graphqlRef:e}:t);return i&&(0,h.jsx)(_,{...n,storyId:t,storyData:i,storyGraphqlRef:a})}},697:(e,t,n)=>{n.d(t,{Z:()=>p});var i,a=n(702664),r=(n(167912),n(883119)),o=n(94103),l=n(562512),s=n(226752),c=n(785893);function d({storyData:{storyType:e,bubblesData:t},onTouch:n,pattern:i=[l.UG.medium],pwtSurfaceContext:a,referringSource:o,storyId:d,viewParameter:u,viewType:p}){const h=t.map((({type:e,id:t})=>e+":"+t)).join("|");return(0,c.jsx)(r.kC,{alignItems:"stretch",justifyContent:"between",width:"100%",wrap:!0,children:t.map(((t,m)=>{var _;const g=i[m%i.length];return(0,c.jsx)(r.xu,{paddingY:1,width:[l.UG.small,l.UG.extra_small].includes(g)?"calc(50% - 4px)":"100%","data-test-id":`bubble-${m}`,children:(0,c.jsx)(s.ZP,{auxData:{content_ids:h,story_type:e,grid_index:m},bubbleId:t.id,format:g,height:([l.UG.medium,l.UG.extra_small].includes(g)?"50%":g===l.UG.article&&"73%")||"100%",onTouch:n,pwtSurfaceContext:a,referringSource:o,slotIndex:m,storyId:d,viewParameter:u,viewType:p,bubbleGraphqlRef:"ExploreArticle"===(null===(_=t.bubbleGraphqlRef)||void 0===_?void 0:_.__typename)?t.bubbleGraphqlRef:null})},`bubble-${m}`)}))})}const{useStoryDerivedData:u}=(0,o.tK)(void 0!==i?i:i=n(103018),{useGraphQLAdapter:e=>{var t;return{storyType:e.storyType,bubblesData:(null===(t=e.objects)||void 0===t?void 0:t.filter((e=>"ExploreArticle"===e.__typename)).map((e=>({id:e.entityId||"",type:e.type||"",bubbleGraphqlRef:e}))).filter(Boolean))||[]}},useLegacyAdapter:e=>{const t=((null==e?void 0:e.objects)||[]).map((e=>e.id))||[],n=(0,a.useSelector)((({articles:e})=>t.map((t=>{const n=e[t];return{id:n.id,type:n.type}}))));return e?{storyType:e.type,bubblesData:n}:null}});function p({storyGraphqlRef:e,storyId:t,...n}){const[i]=u(e?{graphqlRef:e}:t);return i&&(0,c.jsx)(d,{...n,storyId:t,storyData:i})}},226752:(e,t,n)=>{n.d(t,{Bp:()=>_,VM:()=>m,ZP:()=>y});n(167912);var i,a=n(468e3),r=n(563962),o=n(94103),l=n(245410),s=n(739425),c=n(802071),d=n(328939),u=n(562512),p=n(785893);const h=({storyCategory:e,query:t,referringSource:n,bubbleId:i,storyId:r,title:o})=>{const l=null!=e&&(0,a.y)(e),c=(0,s.XP)({q:t,rs:n||void 0,b_id:i,source_id:r}),d=l&&o?(0,a.x)({title:o,id:i,articleType:"discover"}):`/discover/article/${i}/`;return l?d:"/search/pins/"+(c?"?"+c:"")},m=e=>{var t,n,i,a,r,o,l,s,c;return{actionUrl:null===(t=e.action)||void 0===t?void 0:t.url,coverImage236xUrl:null===(n=e.cover_images[0]["236x"])||void 0===n?void 0:n.url,coverImage474xUrl:null===(i=e.cover_images[0]["474x"])||void 0===i?void 0:i.url,coverImage136x136Url:null===(a=e.cover_images[0]["136x136"])||void 0===a?void 0:a.url,coverImage170xUrl:null===(r=e.cover_images[0]["173x"])||void 0===r?void 0:r.url,coverImage222xUrl:null===(o=e.cover_images[0]["222x"])||void 0===o?void 0:o.url,coverImage90x90Url:null===(l=e.cover_images[0]["90x90"])||void 0===l?void 0:l.url,curatorFullName:null===(s=e.curator)||void 0===s?void 0:s.full_name,curatorImageSmallUrl:null===(c=e.curator)||void 0===c?void 0:c.image_small_url,dominantColors:e.dominant_colors,id:e.id,identifierIconType:e.identifier_icon_type,storyCategory:e.story_category,titleFormat:e.title.format}};function _({auxData:e,bubbleData:{actionUrl:t,coverImage236xUrl:n,coverImage474xUrl:i,coverImage136x136Url:a,coverImage170xUrl:o,coverImage222xUrl:s,coverImage90x90Url:m,curatorFullName:_,curatorImageSmallUrl:g,dominantColors:y,id:v,identifierIconType:f,storyCategory:x,titleFormat:b},font:w,format:P,height:S,onTouch:T,pwtSurfaceContext:I,referringSource:A,slotIndex:k,storyId:E,viewParameter:C,viewType:j,width:D="100%"}){const R=(0,r.Z)(),F=(0,c.Z)(),{checkExperiment:L}=(0,l.F)();if(!((n||i||a||o||s||m)&&b))return null;const O=_&&g?{full_name:_,image_small_url:g}:void 0,{isAuth:z}=F,M={"236x":n,"474x":i,"136x136":a,"170x":o,"222x":s,"90x90":m};let N="",Z="";if(z&&5===j){N=L("blp_explore_bubble_image_size").group;const e=N.split("_");e.length>1&&(Z=e[1])}const U=N.startsWith("enabled")&&Z?M[Z]:M["474x"]||M["236x"],B=t||h({storyCategory:x,query:b,referringSource:A,bubbleId:v,storyId:E,title:b}),K=P===u.UG.article?13865:200,H=P===u.UG.article?102:6940,G=y&&y.length?y[0]:void 0;return(0,p.jsx)(d.fv,{auxData:{story_id:E,...e},impressionData:{storyCategory:x,storyIdStr:E},impressionType:"articleImpressions",loggingId:E,slotIndex:k,viewParameter:C,viewType:j,children:(0,p.jsx)(u.ZP,{backgroundColor:G,bubbleId:v,bubbleUrl:B,coverImageUrl:U,curator:O,font:w,format:P,height:S,identifierIconType:f,onTap:t=>{R({component:K,event_type:H,object_id_str:t,view_parameter:C,view_type:j,aux_data:{article_id:t,grid_index:k,...e}}),T&&T({query:b})},pwtSurfaceContext:I,referringSource:A,title:b,width:D})})}const{useExploreArticleDerivedData:g}=(0,o.n6)(void 0!==i?i:i=n(67153),{useGraphQLAdapter:e=>{var t,n,i,a,r,o,l,s,c,d;return{actionUrl:null===(t=e.action)||void 0===t?void 0:t.url,coverImage236xUrl:null===(n=e.coverImage236x)||void 0===n?void 0:n[0].url,coverImage474xUrl:null===(i=e.coverImage474x)||void 0===i?void 0:i[0].url,coverImage136x136Url:null===(a=e.coverImage136x136)||void 0===a?void 0:a[0].url,coverImage170xUrl:null===(r=e.coverImage170x)||void 0===r?void 0:r[0].url,coverImage222xUrl:null===(o=e.coverImage222x)||void 0===o?void 0:o[0].url,coverImage90x90Url:null===(l=e.coverImage90x90)||void 0===l?void 0:l[0].url,curatorFullName:null===(s=e.curator)||void 0===s?void 0:s.fullName,curatorImageSmallUrl:null===(c=e.curator)||void 0===c?void 0:c.imageSmallUrl,dominantColors:e.dominantColors,id:e.entityId||"",identifierIconType:e.identifierIconType,storyCategory:e.storyCategory,titleFormat:null===(d=e.articleTitle)||void 0===d?void 0:d.format}},useLegacyAdapter:e=>e&&m(e)});function y({bubbleGraphqlRef:e,bubbleId:t,...n}){const[i]=g(e?{graphqlRef:e}:t);return i&&(0,p.jsx)(_,{...n,bubbleData:i})}},825199:(e,t,n)=>{n.d(t,{q:()=>a,z:()=>i});const i=["shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_story_separator"],a="checklist_education_feed_card"},819365:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(951503);const a=({containerTypeIsItemGrid:e,storyType:t})=>"BUBBLE_ONE_COL"===t||e&&!(0,i.Z)({storyType:t})},951503:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(825199);const a=({storyType:e})=>i.z.includes(e)},117918:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),a=n(536042),r=n(265259),o=n(785893);function l({isPinRep:e}){const t=(0,a.ZP)(),n=e?"default":"inverse",l=(0,o.jsx)(i.xu,{padding:e?1:0,"data-test-id":"unavailable-pin",children:(0,o.jsx)(i.xu,{color:e?"secondary":"dark",top:!0,height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,width:"100%",children:(0,o.jsxs)(i.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,o.jsx)(i.xu,{paddingY:4,children:(0,o.jsx)(i.JO,{accessibilityLabel:t._('Pin not available', 'story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:n,icon:"alert",size:20})}),(0,o.jsx)(i.xv,{align:"center",color:n,weight:"bold",children:t._('Unavailable', 'story-pin.Closeup.UnavailableStoryPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),(0,o.jsx)(i.xu,{paddingY:1,children:(0,o.jsx)(i.xv,{align:"center",color:n,children:t._('Removed by the creator', 'story-pin.Closeup.UnavailableStoryPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})});return e?l:(0,o.jsx)(i.xu,{height:"100vh",children:(0,o.jsx)(r.Z,{children:l})})}},820166:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(883119),a=n(550140),r=n(536042),o=n(819079),l=n(549201),s=n(785893);const c=28,d=40,u=48,p=48,h=28,m="#696969";function _({ideaPinImages:e}){const t={1:c,2:d,3:u},n=e.map(((e,t)=>{var n,a,r;return(0,s.jsx)(i.xu,{height:p,width:h,color:"default",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},children:(0,s.jsx)(i.Ee,{alt:"",src:null!==(n=null==e?void 0:e.url)&&void 0!==n?n:"",color:m,fit:"cover",naturalHeight:null!==(a=null==e?void 0:e.height)&&void 0!==a?a:1,naturalWidth:null!==(r=null==e?void 0:e.width)&&void 0!==r?r:1})},t)}));return(0,s.jsx)(i.kC,{justifyContent:"center",children:(0,s.jsx)(i.kC,{justifyContent:"start",width:t[e.length],children:n})})}const g=3,y=5e3;function v({handleHide:e,text:t,userId:n,href:c,imageUrl:d}){const u=(0,r.ZP)(),p=(0,l.HG)(),h=(0,o.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:n}}),m=Array.isArray(t)?t.join(" "):t;if(0===(h.data||[]).length)return(0,s.jsx)(a.ZP,{duration:y,onHide:e,text:m,href:c,thumbnail:d?{image:(0,s.jsx)(i.Ee,{alt:u._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:d})}:void 0});const v=(h.data||[]).slice(0,g).map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t[p?"236x":"170x"]})),f=(0,s.jsx)(_,{ideaPinImages:v});return(0,s.jsx)(a.ZP,{href:c,duration:y,onHide:e,_dangerouslySetThumbnail:f,text:m})}},679420:(e,t,n)=>{n.d(t,{Z:()=>P});var i,a=n(702664),r=n(167912),o=n(883119),l=n(282802),s=n(41669),c=n(383462),d=n(536042),u=n(734417),p=n(731107),h=n(785893);const m=({backgroundColor:e,decreaseNamePadding:t,isHomefeedTuner:n,isLego:i,isSelected:a,locale:r,nameTextSize:l,renderAsPill:s,showFollowerCount:c,topicName:m,followerCount:_,image:g})=>{var y;const v=(0,d.ZP)(),f=(0,u.Z)(),x=(0,h.jsx)(o.JO,{accessibilityLabel:v._('Selected', ' - ', ' -- '),color:"inverse",icon:i?"check":"check-circle",size:i?12:24});return s?(0,h.jsx)(p.Z,{color:e||"#767676",image:g,isSelected:null!=a&&a,title:m}):(0,h.jsxs)(o.xu,{position:"relative","aria-selected":a,children:[(0,h.jsx)(o.zd,{rounding:i||n?4:2,children:(0,h.jsxs)(o.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:[(0,h.jsx)(o.xu,{bottom:!0,left:!0,padding:i&&a?1:0,position:"absolute",right:!0,rounding:i&&a?4:0,top:!0,children:(0,h.jsx)(o.Ee,{alt:m,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(y=g.url)&&void 0!==y?y:""})}),(0,h.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:a?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:i&&a?"4px solid #767676":"none"}},rounding:i?4:void 0,position:"absolute",left:!0,right:!0,top:!0}),i&&a&&(0,h.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),n?(0,h.jsx)(o.xu,{top:!0,bottom:!0,left:!0,right:!0,padding:2,position:"absolute",display:"flex",alignContent:"center",justifyContent:"center",alignItems:"center",children:(0,h.jsx)(o.xv,{align:"center",color:"light",size:l,weight:"bold",children:m})}):(0,h.jsxs)(o.xu,{bottom:!0,left:!0,padding:t?1:2,position:"absolute",right:!0,children:[(0,h.jsx)(o.xv,{color:"inverse",size:l,weight:"bold",children:m}),c&&_>=0&&(0,h.jsx)(o.xu,{paddingY:1,children:(0,h.jsxs)(o.xv,{color:"inverse",size:"100",children:[(0,h.jsx)(o.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:f(r,_,{shortform:!0,shortform_maximum_fraction_digits:1})}),v._('followers', ' - ', ' -- ')]})})]}),a&&(0,h.jsx)(o.xu,{margin:2,position:"absolute",right:!0,top:!0,children:i?(0,h.jsx)(o.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:x}):x})]})},_=void 0!==i?i:i=n(944488),g=({topicRef:e,...t})=>{var n,i,a,o,l,s;const c=(0,r.useFragment)(_,e),d=c.images?{url:null!==(n=c.images.url)&&void 0!==n?n:"",width:null!==(i=c.images.width)&&void 0!==i?i:0,height:null!==(a=c.images.height)&&void 0!==a?a:0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,h.jsx)(m,{backgroundColor:null!==(o=c.background_color)&&void 0!==o?o:"",topicName:null!==(l=c.name)&&void 0!==l?l:"",followerCount:null!==(s=c.follower_count)&&void 0!==s?s:0,image:d,...t})},y=({topic:e,topicBlob:t,topicInfoForContextualExp:n,...i})=>{const a=n||e||t||{},r=a.images["236x"]||a.images["400x"]||a.images["474x"]||a.images.orig||{height:1,url:"",width:1},o=a.follower_count||-1;return(0,h.jsx)(m,{backgroundColor:a.background_color,topicName:a.name,followerCount:o,image:r,...i})};var v;const f=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:n,isSelected:i=!1,nameTextSize:r="lg",onTouch:d,padding:u=2,renderAsPill:p,showFollowButton:m=!1,showFollowerCount:_=!1,shouldClickthrough:v=!1,topic:f,viewParameter:x,viewType:b})=>{const w=(0,a.useDispatch)(),{locale:P}=(0,l.B)(),S=(0,h.jsxs)(o.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==f.type?(0,h.jsx)(y,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,locale:P,nameTextSize:r,renderAsPill:p,showFollowerCount:_,topic:f.topic,topicBlob:f.topicBlob,topicInfoForContextualExp:f.topicInfoForContextualExp}):(0,h.jsx)(g,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,locale:P,nameTextSize:r,renderAsPill:p,showFollowerCount:_,topicRef:f.topicRef}),!!f&&m&&(0,h.jsx)(o.xu,{paddingY:2,children:(0,h.jsx)(s.Z,{textType:t?"AddRemove":"FollowFollowing",followEventType:601,id:f.id,invertColors:t,inline:t,isFollowed:f.is_followed,onFollow:e=>w((0,c.ZN)(e)),onUnfollow:e=>w((0,c.fv)(e)),size:"md",unfollowEventType:602,viewParameter:x||void 0,viewType:b||void 0})})]});let T="/";return f&&(T=`/topics/${f.id}`),v&&f.slug?(0,h.jsx)(o.iP,{role:"link",onTap:({event:e})=>{null==d||d(e)},tapStyle:"compress",rounding:2,href:T,children:(0,h.jsx)(o.xu,{padding:u,children:S})}):S},x=void 0!==v?v:v=n(897614),b=({topicRef:e,decreaseNamePadding:t=!1,isHomefeedTuner:n,isLego:i,isSelected:a=!1,nameTextSize:o="lg",onTouch:l,padding:s=2,renderAsPill:c,showFollowButton:d=!1,showFollowerCount:u=!1,shouldClickthrough:p=!1,viewParameter:m,viewType:_})=>{var g,y;const v=(0,r.useFragment)(x,e);return(0,h.jsx)(f,{decreaseNamePadding:t,isHomefeedTuner:n,isLego:i,isSelected:a,nameTextSize:o,onTouch:l,padding:s,renderAsPill:c,showFollowButton:d,showFollowerCount:u,shouldClickthrough:p,viewParameter:m,viewType:_,topic:{id:null!==(g=v.entityId)&&void 0!==g?g:"",type:"graphql",is_followed:null!==(y=v.is_followed)&&void 0!==y&&y,topicRef:v}})},w=({id:e,topic:t,topicBlob:n,topicInfoForContextualExp:i,decreaseNamePadding:r=!1,isHomefeedTuner:o,isLego:l,isSelected:s=!1,nameTextSize:c="lg",onTouch:d,padding:u=2,renderAsPill:p,showFollowButton:m=!1,showFollowerCount:_=!1,shouldClickthrough:g=!1,viewParameter:y,viewType:v})=>{const x=(0,a.useSelector)((({topics:t})=>t[e])),b=null!=t?t:x;return(0,h.jsx)(f,{decreaseNamePadding:r,isHomefeedTuner:o,isLego:l,isSelected:s,nameTextSize:c,onTouch:d,padding:u,renderAsPill:p,showFollowButton:m,showFollowerCount:_,shouldClickthrough:g,viewParameter:y,viewType:v,topic:{id:e,is_followed:!(null==b||!b.is_followed),topic:b,topicBlob:n,topicInfoForContextualExp:i,type:"resource"}})},P=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:n,isSelected:i=!1,nameTextSize:a="lg",onTouch:r,padding:o=2,renderAsPill:l,showFollowButton:s=!1,showFollowerCount:c=!1,shouldClickthrough:d=!1,viewParameter:u,viewType:p,...m})=>m.topicRef?(0,h.jsx)(b,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,nameTextSize:a,onTouch:r,padding:o,renderAsPill:l,showFollowButton:s,showFollowerCount:c,shouldClickthrough:d,viewParameter:u,viewType:p,topicRef:m.topicRef}):(0,h.jsx)(w,{id:m.id,decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,nameTextSize:a,onTouch:r,padding:o,renderAsPill:l,showFollowButton:s,showFollowerCount:c,shouldClickthrough:d,topic:m.topic,topicBlob:m.topicBlob,topicInfoForContextualExp:m.topicInfoForContextualExp,viewParameter:u,viewType:p})},204722:(e,t,n)=>{n.d(t,{Z:()=>U});var i,a=n(667294),r=n(167912),o=n(616550),l=n(883119),s=n(388011),c=n(536042),d=n(630089),u=n(624417),p=n(740494),h=n(898252),m=n(465991),_=n(245410),g=n(282802),y=n(649715),v=n(599226),f=n(98736),x=n(759937),b=n(443601),w=n(230910),P=n(411056),S=n(525104),T=n(646081),I=n(785893);const A=250,k=({children:e,onTap:t,testId:n})=>{const[i,r]=(0,a.useState)(!1);return(0,I.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:i?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem","data-test-id":`more-options-${n}`,children:(0,I.jsx)(l.iP,{onTap:t,onBlur:()=>r(!1),onFocus:()=>r(!0),onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:e})})},E=void 0!==i?i:i=n(823722),C=({i18n:e,pinId:t,showSignupModal:n,attributionLabelSource:i})=>(0,I.jsx)(k,{testId:"save",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.save_image",{attributionLabelSource:i}),n({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${i}_save_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:t}}})},children:(0,I.jsx)(l.xv,{size:"200",weight:"bold",children:e._('Save image', 'dweb.unauth.context_menu.link.save_image', 'Link to save the image')})},"SaveMenuItem"),j=({i18n:e,pinTitle:t,pinDescription:n,pinId:i,bestPinImgSrc:a,attributionLabelSource:r,logContextEvent:o,pinCategory:s,checkExperiment:c,showSignupModal:d})=>(0,I.jsx)(k,{testId:"download",onTap:()=>{const{expName:e,expGroup:l,limitReached:u,oldCount:p,newCount:h}=(0,b.HM)(c,"dweb_download_in_context_menus_closeup");(0,f.My)("dweb.unauth.context_menu.download_image",{attributionLabelSource:r,expName:e,expGroup:l,limitReached:u,oldCount:p,newCount:h}),u?d({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${r}_download_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"downloadImageBtnUnauth",container:"download",savePinId:i}}}):(0,b.ZP)({filename:t||n||i,imgSrc:a||"",category:s,pinId:i,isUnauth:!0,platform:"web",expName:e,expGroup:l},o)},children:(0,I.jsx)(l.xv,{size:"200",weight:"bold",children:e._('Download image', 'Button to download Pin image', 'Button to download Pin image')})},"DownloadMenuItem"),D=({pinId:e,pinLink:t,fromEllipsisButton:n,attributionLabelSource:i,showSignupModal:a,i18n:r})=>(0,I.jsx)(k,{testId:"new-tab",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.open_plp_new_tab",{attributionLabelSource:i}),window.open(n?t:`/pin/${e}/`),n||a({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_related_pin_right_click_open_link_button",desktopOptions:{modalType:"login"}})},children:(0,I.jsx)(l.xv,{size:"200",weight:"bold",children:r._('Open link in new tab', 'dweb.unauth.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab')})},"NewTabMenuItem"),R=({history:e,levelOneInterestUrl:t,searchUrl:n,levelOneInterestName:i,i18n:a,interestTag:r,attributionLabelSource:o})=>(0,I.jsx)(k,{testId:"interests",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.see_more_pins",{attributionLabelSource:o}),t?e.push(`${t}`):e.push(n)},children:i?(0,I.jsx)(l.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,d.nk)(a._('See more ideas about {{levelOneInterestName}}', 'dweb.unauth.context_menu.link.see_more_ideas.l1', 'Link to see similar pins'),{levelOneInterestName:i})}):(0,I.jsx)(l.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,d.nk)(a._('See more ideas about {{interestTag}}', 'dweb.unauth.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins'),{interestTag:r})})},"MoreInterestsMenuItem"),F=({history:e,sourceUserUsername:t,sourceUserFullname:n,i18n:i,attributionLabelSource:a})=>(0,I.jsx)(k,{testId:"from-creator",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.more_from_creator",{attributionLabelSource:a}),e.push(`/${t}/`)},children:(0,I.jsx)(l.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,d.nk)(i._('See more from {{full_name}}', 'dweb.unauth.context_menu.link.more_from_creator', 'Link to see more ideas from this creator'),{full_name:n})})},"MoreFromCreatorMenuItem"),L=({attributionLabelSource:e,showSignupModal:t,i18n:n})=>(0,I.jsx)(a.Fragment,{children:(0,I.jsx)(k,{testId:"login-or-signup",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.login_signup",{attributionLabelSource:e}),t({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${e}_signup_or_login_button`,desktopOptions:{modalType:"login"}})},children:(0,I.jsx)(l.xv,{size:"200",weight:"bold",children:n._('Log in or sign up for more', 'dweb.unauth.context_menu.link.login_signup', 'Link to log in or sign up')})})},"LoginSignupMenuItem"),O=({attributionLabelSource:e,reportLink:t,i18n:n})=>(0,I.jsx)(a.Fragment,{children:(0,I.jsx)(k,{testId:"netzdg",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.report_pin_netzdg",{attributionLabelSource:e}),window.open(t,"_blank")},children:(0,I.jsx)(l.xv,{size:"200",weight:"bold",children:n._('Report Pin for NetzDG', 'dweb.unauth.context_menu.link.report_pin_netzdg', 'Button to report Pin for NetzDG violation')})})},"ReportForNetzDGMenuItem"),z=({attributionLabelSource:e,reportLink:t,i18n:n})=>(0,I.jsx)(a.Fragment,{children:(0,I.jsx)(k,{testId:"dsa",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.report_pin_dsa",{attributionLabelSource:e}),window.open(t,"_blank")},children:(0,I.jsx)(l.xv,{size:"200",weight:"bold",children:n._('Report Pin for EU local law', 'dweb.unauth.context_menu.link.report_pin_dsa', 'Button to report Pin for EU local law violation')})})},"ReportForDSAMenuItem");function M({desktopContextMenuState:e,isMainPinImage:t,source:n,images:i,embedSrc:a,embedType:r,sourceUserUsername:d,sourceUserFullname:p,pinJoinVisualAnnotation:h,pinJoinSeoBreadcrumbName:m,pinJoinSeoBreadcrumbUrl:f,pinId:x,pinLink:w,pinTitle:S,pinDescription:T,pinCategory:k,pinEligibleForDownload:E}){var M;const N=(0,c.ZP)(),Z=(0,o.useHistory)(),{logContextEvent:U}=(0,s.v)(),{countryFromIp:B,isAuthenticated:K,isBot:H,isSocialBot:G}=(0,g.B)(),{checkExperiment:W}=(0,_.F)(),$=K?W("web_auth_exclude_original_images").anyEnabled:W("web_unauth_exclude_original_images").anyEnabled,V=(0,u.Z)({images:i,embedSrc:a,embedType:r,excludeOriginals:!H&&!G&&$}),q=m,Y=f,X=null!==(M=null==h?void 0:h[0])&&void 0!==M?M:void 0,J=(0,y.Z)(X),Q=`/search/pins/?q=${encodeURIComponent(J)}&rs=image_only_attribution`,ee=(0,v.Z)(),te="dweb.plp.ellipsis.button"===n,ne="DE"===B,{COUNTRY_CODES:ie}=P.LAW_CONFIGURATION.dsa,ae=ie.includes(B);if(!V)return null;const re=(0,u.Z)({images:i,embedSrc:a,embedType:r,excludeOriginals:!H&&!G&&$});let oe="related_pin_right_click";te?oe="action_bar_ellipsis":t&&(oe="right_click");const le=[{component:()=>C({i18n:N,pinId:x,showSignupModal:ee,attributionLabelSource:oe})},{component:()=>E&&(0,b.SU)(W,"dweb_download_in_context_menus_closeup")&&j({i18n:N,pinTitle:S,pinDescription:T,pinId:x,bestPinImgSrc:re,attributionLabelSource:oe,logContextEvent:U,pinCategory:k,checkExperiment:W,showSignupModal:ee})},{component:()=>!(t||te&&!w)&&D({i18n:N,pinId:x,pinLink:w,fromEllipsisButton:te,showSignupModal:ee,attributionLabelSource:oe})},{component:()=>!!(X||q&&Y)&&R({history:Z,levelOneInterestUrl:Y,searchUrl:Q,levelOneInterestName:q,i18n:N,interestTag:X,attributionLabelSource:oe})},{component:()=>!(!p||!d)&&F({history:Z,sourceUserUsername:d,sourceUserFullname:p,i18n:N,attributionLabelSource:oe})},{component:()=>!W("dweb_remove_login_signup_options_from_context_menus").anyEnabled&&L({showSignupModal:ee,i18n:N,attributionLabelSource:oe})},{component:()=>ne&&W("lop_netzdg_launch").anyEnabled&&O({reportLink:`https://www.pinterest.com/about/netzdg/?pinId=${x}`,i18n:N,attributionLabelSource:oe})},{component:()=>ae&&!ne&&W("lop_dsa_launch").anyEnabled&&z({reportLink:`https://www.pinterest.com/about/dsa/?pinId=${x}`,i18n:N,attributionLabelSource:oe})}].map((({component:e})=>e())).filter((e=>!!e));return(0,I.jsxs)(l.xu,{"data-test-id":"desktop-context-menu",position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.y}px`,left:`${e.x}px`}},zIndex:new l.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:A,children:[(0,I.jsx)(l.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,I.jsx)(l.JO,{icon:"pinterest",accessibilityLabel:N._('Pinterest logo', 'dweb.unauth.context_menu.pinterest_logo', 'Pinterest logo in the context menu'),color:"brandPrimary"})}),le]})}function N({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:n,...i}){var a,o,l,s,c,d,u,_,g,y,v,f,b,w,P;const S=(0,r.useFragment)(E,e),A=(0,h.hy)(null==S?void 0:S.storyPinDataId),k=Boolean(null==S||null===(a=S.videos)||void 0===a?void 0:a.videoList),C=null==S?void 0:S.isUnsafe,j=!A&&!k&&!C,D=(0,x.Z)(S);let R;var F,L;(R=null!=S&&S.nativeCreator?S.nativeCreator:null!=S&&S.linkDomain?S.linkDomain.officialUser:(null==S?void 0:S.originPinner)||(null==S?void 0:S.pinner),R)||(R=null!==(F=null==S||null===(L=S.linkDomain)||void 0===L?void 0:L.officialUser)&&void 0!==F?F:null==S?void 0:S.pinner);const O=(0,T.Z)(S),z=null==S?void 0:S.title,N=null==S?void 0:S.description,Z=null==S?void 0:S.gridTitle,U=null!==(o=null==S||null===(l=S.richSummary)||void 0===l?void 0:l.displayName)&&void 0!==o?o:"",B=null!==(s=null==S||null===(c=S.richMetadata)||void 0===c?void 0:c.title)&&void 0!==s?s:"",K=null!==(d=null==S||null===(u=S.richMetadata)||void 0===u?void 0:u.description)&&void 0!==d?d:"",H=null==S?void 0:S.storyPinDataId,G=null==S||null===(_=S.storyPinData)||void 0===_||null===(g=_.metadata)||void 0===g?void 0:g.pinTitle,W=(null==S||null===(y=S.pinJoin)||void 0===y?void 0:y.visualAnnotation)||void 0,$=O||void 0,V=null==S?void 0:S.closeupDescription,q=null==S?void 0:S.closeupUnifiedDescription,Y=(null==S?void 0:S.category)||"",X=(0,m.Ly)({pinTitle:z,gridTitle:Z,richSummaryDisplayName:U,richMetadataTitle:B,storyPinDataId:H,storyPinDataMetadataPinTitle:G,pinJoinVisualAnnotation:W,pinJoinAnnotationsWithLinks:$}),J=(0,p.Z)({storyPinDataId:H,pinDescription:N,richMetadataDescription:K,richSummaryDisplayName:U,closeupDescription:V,closeupUnifiedDescription:q});return(0,I.jsx)(M,{...i,embedSrc:(null==S?void 0:S.embed)&&S.embed.src,embedType:(null==S?void 0:S.embed)&&S.embed.type,images:D,sourceUserUsername:null===(v=R)||void 0===v?void 0:v.username,sourceUserFullname:null===(f=R)||void 0===f?void 0:f.fullName,pinJoinVisualAnnotation:null==S||null===(b=S.pinJoin)||void 0===b?void 0:b.visualAnnotation,pinJoinSeoBreadcrumbName:(null==S||null===(w=S.pinJoin)||void 0===w?void 0:w.seoBreadcrumbs)&&(S.pinJoin.seoBreadcrumbs.length>0?S.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==S||null===(P=S.pinJoin)||void 0===P?void 0:P.seoBreadcrumbs)&&(S.pinJoin.seoBreadcrumbs.length>0?S.pinJoin.seoBreadcrumbs[0].url:null),pinId:t,pinTitle:X,pinDescription:J,pinCategory:Y,pinEligibleForDownload:j})}function Z({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:n,...i}){var a,r,o,l,s,c,d,u,_,g,y,v,f,x,b,P;const T=(0,S.S6)()(t),A=null==T?void 0:T.story_pin_data_id,k=null==T?void 0:T.videos,E=(0,h.hy)(A),C=!(null==k||!k.video_list),j=null==T?void 0:T.title,D=null==T?void 0:T.description,R=null==T?void 0:T.grid_title,F=null!==(a=null==T||null===(r=T.rich_metadata)||void 0===r?void 0:r.title)&&void 0!==a?a:"",L=null==T?void 0:T.category,O=null==T?void 0:T.images,z=null!==(o=null==T||null===(l=T.rich_metadata)||void 0===l?void 0:l.description)&&void 0!==o?o:"",N=null!==(s=null==T||null===(c=T.rich_summary)||void 0===c?void 0:c.display_name)&&void 0!==s?s:"",Z=null==T?void 0:T.closeup_description,U=null==T?void 0:T.closeup_unified_description,B=null==T||null===(d=T.story_pin_data)||void 0===d||null===(u=d.metadata)||void 0===u?void 0:u.pin_title,K=null==T||null===(_=T.pin_join)||void 0===_?void 0:_.visual_annotation,H=null==T||null===(g=T.pin_join)||void 0===g?void 0:g.annotations_with_links,G=null==T?void 0:T.is_unsafe,W=!E&&!C&&!G,{link_domain:$,native_creator:V,origin_pinner:q,pinner:Y}=T||{};let X=(0,w.wS)($,V,q,Y);var J,Q;X||(X=null!==(J=null==T||null===(Q=T.link_domain)||void 0===Q?void 0:Q.official_user)&&void 0!==J?J:null==T?void 0:T.pinner);const{full_name:ee,username:te}=null!==(y=X)&&void 0!==y?y:{},ne=(0,m.Ly)({pinTitle:j,gridTitle:R,richSummaryDisplayName:N,richMetadataTitle:F,storyPinDataId:A,storyPinDataMetadataPinTitle:B,pinJoinVisualAnnotation:K,pinJoinAnnotationsWithLinks:H}),ie=(0,p.Z)({storyPinDataId:A,pinDescription:D,richMetadataDescription:z,richSummaryDisplayName:N,closeupDescription:Z,closeupUnifiedDescription:U});return(0,I.jsx)(M,{...i,embedSrc:null==T||null===(v=T.embed)||void 0===v?void 0:v.src,embedType:null==T||null===(f=T.embed)||void 0===f?void 0:f.type,images:O,sourceUserUsername:te,sourceUserFullname:ee,pinJoinVisualAnnotation:null==T||null===(x=T.pin_join)||void 0===x?void 0:x.visual_annotation,pinJoinSeoBreadcrumbName:(null==T||null===(b=T.pin_join)||void 0===b?void 0:b.seo_breadcrumbs)&&(T.pin_join.seo_breadcrumbs.length>0?T.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==T||null===(P=T.pin_join)||void 0===P?void 0:P.seo_breadcrumbs)&&(T.pin_join.seo_breadcrumbs.length>0?T.pin_join.seo_breadcrumbs[0].url:null),pinId:t,pinTitle:ne,pinDescription:ie,pinCategory:L,pinEligibleForDownload:W})}function U(e){return e.graphqlRef?(0,I.jsx)(N,{...e}):(0,I.jsx)(Z,{...e})}},613352:(e,t,n)=>{n.d(t,{X:()=>d,f:()=>c});var i=n(667294),a=n(583592),r=n(898252);function o(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,parentId:t.payload.parentId,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var l=n(785893);const{Provider:s,useHook:c}=(0,a.Z)("ReportData");function d({children:e}){const[t,n]=(0,i.useReducer)(o,null),a=(0,i.useCallback)((()=>n({type:"REPORT_CONTENT_DISMISS"})),[]),c=(0,i.useCallback)(((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,parentId:t,videoDuration:null,viewParameter:null,viewType:null,type:i}})),[]),d=(0,i.useCallback)(((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"conversation"}})),[]),u=(0,i.useCallback)(((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"pin"}})),[]),p=(0,i.useCallback)(((e,t,i)=>{const{id:a,is_downstream_promotion:o,promoter:l,rich_metadata:s,rich_summary:c,videos:d}=e,u=(0,r.VX)(s,c),p=(0,r.jL)(o,!!l);let h;const m=null==d?void 0:d.video_list;if(m){const e=m[Object.keys(m)[0]];h=null==e?void 0:e.duration}n({type:"REPORT_CONTENT_SHOW",payload:{id:a,isProduct:u,isPromoted:p,videoDuration:h,viewParameter:t,viewType:i,type:"pin"}})}),[]),h=(0,i.useMemo)((()=>({reportData:t,dismiss:a,reportComment:c,reportConversation:d,reportImage:u,reportPin:p})),[t,a,c,d,u,p]);return(0,l.jsx)(s,{value:h,children:e})}},646081:(e,t,n)=>{n.d(t,{Z:()=>l});var i,a=n(667294),r=n(167912);const o=void 0!==i?i:i=n(782194),l=e=>{var t;const n=(0,r.useFragment)(o,e),i=null==n||null===(t=n.pinJoin)||void 0===t?void 0:t.annotationsWithLinksArray;return(0,a.useMemo)((()=>null==i?void 0:i.reduce(((e,{name:t,url:n})=>t?{...e,[t]:{name:t,url:n}}:e),{})),[i])}},726091:(e,t,n)=>{n.d(t,{Z:()=>S});var i=n(667294),a=n(702664),r=n(883119),o=n(563962),l=n(621699),s=n(536042),c=n(734417),d=n(630089),u=n(282802),p=n(28630),h=n(843843),m=n(41669),_=n(328939),g=n(427778),y=n(712968),v=n(785893);const f={__style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}},x=({height:e,image:t,width:n})=>{var i,a,o;const l=(0,s.ZP)();return(0,v.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid white"}},children:t?(0,v.jsxs)(r.xu,{position:"relative",children:[(0,v.jsx)(r.GH,{width:n,height:e,contentAspectRatio:"number"==typeof t.height&&"number"==typeof t.width?t.width/t.height:1,children:(0,v.jsx)(r.Ee,{alt:l._('pin image', 'alt text for pin image', 'alt text for pin image'),color:t.dominant_color||void 0,naturalWidth:null!==(i=t.width)&&void 0!==i?i:1,naturalHeight:null!==(a=t.height)&&void 0!==a?a:1,src:null!==(o=t.url)&&void 0!==o?o:""})}),(0,v.jsx)(r.xu,{dangerouslySetInlineStyle:f,height:e,width:n,position:"absolute",top:!0,left:!0})]}):(0,v.jsx)(r.xu,{color:"secondary",width:n,height:e})})};var b=n(333741);const w=60,P=117;function S({action:e,auxData:t,isPinnerAuthorityHero:n=!1,userSearchRepStyle:f=!1,onFollowUser:S,onUnfollowUser:T,userId:I,userPins:A,viewParameter:k,viewType:E,truncateName:C=!1}){const j=(0,s.ZP)(),D=(0,c.Z)(),R=(0,a.useDispatch)(),{locale:F}=(0,u.B)(),L=(0,o.Z)(),[O,z]=(0,i.useState)(f?window.innerWidth-16:null),M=(0,y.mN)()(I);if(!M)return null;const{contextual_pin_image_urls:N,explicitly_followed_by_me:Z,follower_count:U=0,full_name:B,image_medium_url:K,is_verified_merchant:H,recent_pin_images:G,username:W,verified_identity:$}=M,V=e=>O?(O-(e-1))/e:0,q=f?1.6*V(4):P,Y=(null==A?void 0:A.map((e=>{var t;return null==e||null===(t=e.images)||void 0===t?void 0:t["236x"]})))||[],X=(null==G?void 0:G["222x"])||(null==G?void 0:G["192x"])||[];let J=(null==N?void 0:N["222x"])||(null==N?void 0:N["192x"])||[];n&&0===J.length&&(J=X);const Q=f&&J.length<=0;let ee=f?J.concat(X).slice(0,4):Y.concat(X).slice(0,2);0===ee.length&&(ee=[void 0,void 0]);const te=!Q&&(O?(0,v.jsx)(r.zd,{rounding:4,children:(0,v.jsx)(r.kC,{children:ee.map(((e,t)=>(0,v.jsx)(x,{height:q,image:e,width:V(ee.length)},`pinImage-${t}`)))})}):(0,v.jsx)(r.xu,{height:q,ref:e=>{e&&z(e.offsetWidth)},width:"100%"})),ne=e=>(0,v.jsx)(r.kC,{justifyContent:"center",children:(0,v.jsx)(r.xu,{marginTop:e,height:w,width:w,children:(0,v.jsx)(l.Z,{outline:!0,name:null!=B?B:"",src:null!=K?K:""})})}),ie=e=>(0,v.jsxs)(r.kC,{direction:"column",gap:{row:0,column:1},alignItems:e,children:[(0,v.jsx)(r.kC,{alignItems:"stretch",maxWidth:(f?(O||0)/2:O)||void 0,children:(0,v.jsx)(r.xv,{align:e,weight:"bold",lineClamp:C?1:void 0,children:H||null!=$&&$.verified?(0,v.jsx)(b.Z,{badgeSize:"md",badgeSpacing:2,fullName:null!=B?B:"",verifiedType:H?"verifiedMerchant":"verifiedIdentity",truncate:C}):B})}),(0,v.jsx)(r.xv,{inline:!0,size:"100",align:e,children:(0,d.nk)(j.ngettext('{{followers}} follower', '{{followers}} followers', U, 'PinnerAuthority.followersCount', 'Count of a user\'s followers'),{followers:D(F,U,{shortform:!0})})})]}),ae=(0,v.jsx)(r.kC,{justifyContent:"center",children:e&&e.url?(0,v.jsx)(r.zx,{role:"link",accessibilityLabel:e.text,color:"gray",size:"lg",text:e.text,href:e.url,onClick:()=>{L({event_type:9029,object_id_str:I,view_type:E,view_parameter:k,aux_data:t})},rel:(0,p.Z)({url:e.url})?"nofollow":void 0,target:(0,p.Z)({url:e.url})?"blank":void 0}):(0,v.jsx)(m.Z,{id:I,isSecondaryButton:!0,isFollowed:Z,onFollow:e=>{S&&S(),R((0,g.ZN)(e))},onUnfollow:e=>{T&&T(),R((0,g.fv)(e))},size:"lg",followEventType:45,unfollowEventType:46,viewParameter:k,viewType:E})});return(0,v.jsx)(_.Cy,{loggingId:I,objectIdStr:I,slotIndex:0,viewParameter:k,viewType:E,children:({impressionTrackerRef:e})=>(0,v.jsx)(r.xu,{ref:e,padding:1,marginBottom:6,"data-test-id":"user-rep",children:(0,v.jsx)(h.MZ,{to:`/${W}/`,onTouch:()=>{L({event_type:43,object_id_str:I,view_parameter:k,view_type:E})},children:(0,v.jsxs)(r.kC,{direction:"column",gap:{row:0,column:2},width:"100%",children:[te,f?(0,v.jsx)(r.xu,{width:"100%",children:(0,v.jsxs)(r.kC,{justifyContent:"between",alignItems:"center",children:[(0,v.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},children:[ne(),ie("start")]}),ae]})}):(0,v.jsxs)(r.kC,{direction:"column",gap:{row:0,column:2},children:[ne(-10),ie("center"),ae]})]})})})})}},333741:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(883119),r=n(793085),o=n(785893);const l=function({badgeSize:e,badgeSpacing:t,fullName:n,verifiedType:l,truncate:s=!1}){const c=n.split(" "),d=c.slice(0,c.length-1).join(" "),u=" ".concat(c[c.length-1]);return s?(0,o.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,o.jsx)(a.xv,{lineClamp:1,weight:"bold",children:n}),(0,o.jsx)(a.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},paddingX:1,children:(0,o.jsx)(r.Z,{isVerifiedMerchant:"verifiedMerchant"===l,size:e,showVerifiedIdentity:"verifiedIdentity"===l})})]}):(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)("span",{children:d}),(0,o.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[u,"",(0,o.jsx)(a.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},children:(0,o.jsx)(r.Z,{isVerifiedMerchant:"verifiedMerchant"===l,size:e,showVerifiedIdentity:"verifiedIdentity"===l})})]})]})}},709512:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),a=n(117651),r=n(536042),o=n(785893);const l=24;function s({duration:e}){const t=(0,r.ZP)();return(0,o.jsxs)(i.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:l,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,o.jsx)(i.JO,{accessibilityLabel:t._('Video camera icon', 'Video camera indicator icon for a Pin', 'Video camera indicator icon for a Pin'),color:"light",icon:"video-camera"}),(0,o.jsx)(i.xu,{marginStart:1,children:(0,o.jsx)(i.xv,{color:"inverse",size:"100",lineClamp:1,children:(0,a.Z)(e)})})]})}},197083:(e,t,n)=>{n.d(t,{ZP:()=>S});var i=n(667294),a=n(23279),r=n.n(a),o=n(883119),l=n(388011),s=n(758360),c=n(736567),d=n(714557);function u(e){const{eventData:{videoEvent:{videoDuration:t,startTime:n,endTime:i,videoStartTime:a,videoEndTime:r,isAudible:o,height:l,width:s,playbackState:c,quartile:d,quartilePercentValue:u,windowHeight:p,windowWidth:h,viewability:m}},component:_,objectId:g,view:y,viewParameter:v,...f}=e;return{component:_,object_id_str:g,view_type:y,view_parameter:v,aux_data:{...f},event_data:{videoEventData:{videoDuration:t,time:n,endTime:i,videoTime:a,endVideoTime:r,isAudible:o,height:l,width:s,playbackState:c,quartile:d,quartilePercentValue:u,windowHeight:p,windowWidth:h,viewability:m}}}}var p=n(473383),h=n(785893);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _=[0,.25,.5,.75,.95,.97],g=[0,.5,.8,.99,1],y="-64px 0px 0px 0px",v={rootMargin:y,threshold:g},f={rootMargin:y,threshold:d.iM},x=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function b(){return(new Date).getTime()}function w(e){return!!e.volume&&e.volume>0}class P extends i.Component{constructor(e){super(e),m(this,"videoWrapperRef",(0,i.createRef)()),m(this,"handleWindowResize",(()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:n}=this.currentInterval;e.height!==t||e.width!==n?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}})),m(this,"handlePlayheadDown",(({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})})),m(this,"handlePlayheadUp",(({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})})),m(this,"handleLoop",(()=>{this.videoTime=0})),m(this,"handleTimeChange",(e=>{const{seeking:t,ready:n}=this.state;if(!this.currentInterval.videoDuration)return;const i=1e3*e.time,a=function(e,t,n,i){if(e>t)return null;if(n<=0)return null;for(const a of i){const i=a*n;if(e<=i&&t>i)return a}return null}(this.videoTime,i,this.currentInterval.videoDuration,_);if("number"==typeof a&&this.props.playing&&!t&&n){const e=b();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*a),quartilePercentValue:a})}this.videoTime=i,this.props.onTimeChange&&this.props.onTimeChange(e)})),m(this,"handleDurationChange",(e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)})),m(this,"handleReady",(e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)})),m(this,"handleEnded",(e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)})),m(this,"handleVisibilityChange",(e=>{if(0===e.length)return;const t=e.slice(-1)[0],n=function(e,t){for(let n=0;n<t.length;n+=1){const i=t[n],a=t[n+1];if(null==a)return i;if(i<=e&&e<a)return i}return null}(Number.parseFloat(t.intersectionRatio.toFixed(2)),g);"number"==typeof n&&(this.visible=n>=.5),null==n||n===this.currentInterval.viewability||this.fullscreen||(0===n?this.startNewInterval({viewability:n,playbackState:x.PAUSED}):this.startNewInterval({viewability:n}))})),m(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})})),m(this,"handleClose",(()=>{this.startNewInterval()})),m(this,"handleContextMenu",(e=>{e.preventDefault()})),this.state={ready:!1,seeking:!1};const t=b();this.handleWindowResize=r()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:w(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const n={};w(e)&&!w(this.props)?n.isAudible=!1:!w(e)&&w(this.props)&&(n.isAudible=!0);const i=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==i&&(n.playbackState=i),Object.keys(n).length>0&&this.startNewInterval(n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?x.PLAYING:x.PAUSED:x.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{closeupStoryPinViewability:n,contextLogData:i,logContextEvent:a}=this.props,{height:r,width:o,windowHeight:l,windowWidth:s,viewability:c,...d}=t;if(null!=r&&null!=o&&null!=l&&null!=s&&null!=c){const t={...d,height:r,width:o,windowHeight:l,windowWidth:s,viewability:n||c};a({event_type:e,...u({...i,view:this.fullscreen?108:i.view,eventData:{videoEvent:t}})})}}logFourthQuartileEvent(){const e=b();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=b();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{aspectRatio:e,backgroundColor:t,captions:n,contextLogData:i,controls:a,cropHeight:r,hlsConfig:l,inAdsDesktopVideoExperiment:d,isAutoPlay:u,loop:m,objectFit:_,onLoadedChange:g,onControlsPause:y,onControlsPlay:x,onSeek:b,onVolumeChange:w,playbackRate:P,playing:S,playsInline:T,poster:I,preload:A,rootMargin:k,src:E,surface:C,videoStartTime:j,volume:D}=this.props,{seeking:R}=this.state,F=d?f:v;return void 0!==k&&(F.rootMargin=C?(0,c.e)(C):k),(0,h.jsx)(s.Z,{options:F,onVisibilityChange:this.handleVisibilityChange,children:(0,h.jsx)(o.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:r?{display:"flex",alignItems:"center",height:`${r}px`}:{}},children:(0,h.jsx)(p.default,{aspectRatio:r?236/r:e,backgroundColor:t,captions:n,contextLogData:i,controls:a,hlsConfig:l,isAutoPlay:u,loop:m,objectFit:_,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:g,onLoop:this.handleLoop,onControlsPause:y,onControlsPlay:x,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:b,onTimeChange:this.handleTimeChange,onVolumeChange:w,playbackRate:P,playing:!R&&S,onPlay:()=>{},onPlayError:()=>{},playsInline:T,poster:I,preload:A,src:E,videoStartTime:j,visible:this.visible,volume:D})})})}}function S(e){const{logContextEvent:t}=(0,l.v)();return(0,h.jsx)(P,{...e,logContextEvent:t})}m(P,"defaultProps",o.nk.defaultProps)},449687:(e,t,n)=>{n.d(t,{Z:()=>mt});var i=n(549201),a=n(802071),r=n(167912),o=n(616550),l=n(883119),s=n(448709),c=n(536042),d=n(245410),u=n(77494),p=n(819079),h=n(769623),m=n(667294),_=n(702664),g=n(572559),y=n(346190),v=n(310561),f=n(993869),x=n(41162),b=n(709574),w=n(99220),P=n(882973),S=n(739425),T=n(272109),I=n(849886),A=n(818748),k=n(732719),E=n(676794),C=n(914716),j=n(372836),D=n(563962),R=n(302390),F=n(785893);function L({pinDominantColor:e,url:t,closeupImageWidth:n,closeupImageHeight:i}){const a=(0,c.ZP)();return(0,F.jsx)(R.Z,{alt:a._('Pin image', 'flashlight.cropper.closeupImage', 'Pin closeup image'),color:e,isFlashlightPage:!0,naturalHeight:i,naturalWidth:n,placeholder:t,showSpinner:!1,src:t})}const O=9,z=24,M=e=>{const{alt:t,src:n,top:i,left:a}=e;return(0,F.jsx)(l.xu,{position:"absolute",height:z,width:z,dangerouslySetInlineStyle:{__style:{top:i,left:a}},children:(0,F.jsx)(l.Ee,{alt:t,color:"transparent",naturalHeight:z,naturalWidth:z,src:n})})};var N=n(538282),Z=n.n(N),U=n(129261),B=n.n(U),K=n(346184),H=n.n(K),G=n(136880),W=n.n(G);const $=2,V={backgroundColor:"#000000",opacity:"0.4"};function q({closeupImage:e,closeupImageDims:t,cropArea:{x:n,y:i,w:a,h:r},disableBorder:o,disableHandles:s,onTouchStart:d,onTouchMove:u,onTouchEnd:p,pinDominantColor:h}){var _;const g=(0,c.ZP)(),y=null!==(_=null==e?void 0:e.url)&&void 0!==_?_:"",{closeupImageWidth:v,closeupImageHeight:f}=t,x=Math.floor(f*i),b=Math.floor(v*n),w=Math.floor(f*r),P=Math.floor(v*a),S=b+P,T=x+w;return(0,F.jsxs)(l.xu,{onTouchMove:u,onTouchStart:d,onTouchEnd:p,position:"relative",children:[(0,F.jsx)(L,{pinDominantColor:h,url:y,closeupImageWidth:v,closeupImageHeight:f}),(0,F.jsxs)(m.Fragment,{children:[(0,F.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:V},height:x,left:!0,position:"absolute",top:!0,width:"100%"}),(0,F.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{...V,top:x}},left:!0,height:w,position:"absolute",width:b}),(0,F.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{...V,top:x,left:S}},height:w,position:"absolute",right:!0}),(0,F.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{...V,top:T}},bottom:!0,left:!0,position:"absolute",width:"100%"})]}),!s&&(0,F.jsxs)(l.xu,{"data-test-id":"CropperHandles",children:[(0,F.jsx)(M,{alt:g._('Top left cropper handle', 'flashlight.cropper.topLeftHandle', 'top left handle for cropping image'),src:H(),top:x-O,left:b-O}),(0,F.jsx)(M,{alt:g._('Top right cropper handle', 'flashlight.cropper.topRightHandle', 'top right handle for cropping image'),src:W(),top:x-O,left:S-(z-O)}),(0,F.jsx)(M,{alt:g._('Bottom left cropper handle', 'flashlight.cropper.bottomLeftHandle', 'bottom left handle for cropping image'),src:Z(),top:T-(z-O),left:b-O}),(0,F.jsx)(M,{alt:g._('Bottom right cropper handle', 'flashlight.Cropper.BottomLeftHandle', 'bottom right handle for cropping image'),src:B(),top:T-(z-O),left:S-(z-O)})]}),(0,F.jsx)(l.xu,{"data-test-id":"CroppedArea",position:"absolute",rounding:2,height:w+2*$,width:P+2*$,dangerouslySetInlineStyle:{__style:{top:x-$,left:b-$,border:o?void 0:`${$}px solid #ffffff`}}})]})}var Y=n(874261),X=n(490152),J=n(525010);const Q=16,ee=32;function te({auxData:e,style:t,onClick:n,x:i,y:a,viewParameter:r}){const o=(0,c.ZP)(),s=(0,D.Z)(),d=Q,u=ee;return(0,T.Z)((()=>{s({aux_data:e,event_type:120,element:1260,view_parameter:r,view_type:72})})),(0,F.jsx)("div",{"data-test-id":"dot",onClick:n,onKeyPress:n,role:"button",style:{position:"absolute",top:a-u/2,left:i-u/2,outline:"none",...t},"aria-label":o._('Select a specific item on image', 'dot.accessibilityLabel', 'Accessibility label for <Dot /> component'),tabIndex:"0",children:(0,F.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.1)",width:u,height:u,border:"none",borderRadius:u,cursor:n?"pointer":"default"}},children:(0,F.jsx)(l.xu,{color:"light",position:"absolute",padding:0,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{boxShadow:"none",width:d,height:d,border:"none",borderRadius:d,top:(u-d)/2,left:(u-d)/2}}})})})}var ne=n(798198);const ie="flashlightDotPop",ae=(0,ne.Ll)([`\n  ${ie} {\n      0% {\n          opacity: 0;\n          transform: scale(0);\n      }\n\n      100% {\n          opacity: 1;\n          transform: scale(1);\n      }\n  }\n`,"labelReveal {\n    0% {\n      transform: scale(0, 1)\n    }\n\n    100% {\n      transform: scale(1, 1)\n    }\n  }\n"]),re=e=>{const t=parseFloat((.1*e).toFixed(2));return{animation:`${ie} 0.3s ease-out ${t}s both`}},oe=.04;function le({closeupImageTop:e,cropArea:t,entryPoint:n,imageHeight:i,imageTop:a,imageWidth:r,onDotTap:o,setCropArea:l,viewParameter:s,visualObjects:c}){const d={},u=(0,D.Z)(),p="shopping"===n?1221:1260;return(0,F.jsxs)(m.Fragment,{children:[(0,F.jsx)(Y.Z,{unsafeCSS:ae}),c.map(((n,c)=>{const{x:h=0,y:m=0,w:_=0,h:g=0,is_stela:y,title:v}=n,f={x:h,y:m,h:g,w:_};if((0,X.Z)(t,f,oe))return null;const x=(0,J.Z)({cropArea:n,scaledWidth:r,scaledHeight:i}),b=Math.floor(x.x+x.w/2),w=Math.floor(x.y+a+x.h/2)-e,P=re(c);return(0,F.jsx)(te,{auxData:d,onClick:function(){u({view_parameter:s,view_type:72,element:p,event_type:102,aux_data:d}),o({cropArea:f,cropSource:y?4:1,title:v}),null==l||l(f)},style:P,x:b,y:w,viewParameter:s},JSON.stringify(f))}))]})}var se=n(963181);const ce=z/2,de={OUTSIDE:0,INSIDE:1,LEFT_CROPPER:2,RIGHT_CROPPER:3,TOP_CROPPER:4,BOTTOM_CROPPER:5,TOP_LEFT_HANDLE:6,TOP_RIGHT_HANDLE:7,BOTTOM_LEFT_HANDLE:8,BOTTOM_RIGHT_HANDLE:9,NONE:10};function ue({closeupImage:e,closeupImageDims:t,cropArea:n,entryPoint:i,handleChangeCloseupImageTop:a,handleCropperChange:r,headerHeight:o,pinDominantColor:s,visualObjects:c,viewParameter:d}){const u=(0,D.Z)(),p=(0,m.useRef)(),[h,_]=(0,m.useState)(0),[g,y]=(0,m.useState)(0),[v,f]=(0,m.useState)(de.NONE),[x,b]=(0,m.useState)(n),{x:w,y:P,w:S,h:T}=x,{closeupImageTop:I,closeupImageMinTop:A,closeupImageWidth:k,closeupImageHeight:E,minCropperWidthRatio:C,minCropperHeightRatio:j}=t,R=o||0,L={top:I};return(0,F.jsxs)(l.xu,{overflow:"hidden",position:"fixed",dangerouslySetInlineStyle:{__style:L},ref:p,maxWidth:se.g6,width:"100%",children:[(0,F.jsx)(q,{closeupImage:e,closeupImageDims:t,cropArea:x,onTouchEnd:()=>{if(![de.NONE,de.OUTSIDE].includes(v)){const e=v===de.INSIDE?7603:7604;u({event_type:e,view_parameter:d,view_type:72})}r({cropArea:x,cropSource:6})},onTouchMove:e=>{const{clientX:t,clientY:n}=e.touches[0];if(_(t),y(n),v===de.NONE){const e=((e,t)=>{const n=t-I,i=e-(p.current?p.current.getBoundingClientRect().left:0),a=E*P,r=E*(P+T),o=k*w,l=k*(S+w);return n>a+ce&&n<r-ce&&i>o+ce&&i<l-ce?de.INSIDE:i<=o+ce&&i>=o-ce&&n>=a+(z-O)&&n<=r-(z-O)?de.LEFT_CROPPER:i<=l+ce&&i>=l-ce&&n>=a+(z-O)&&n<=r-(z-O)?de.RIGHT_CROPPER:i<=l-(z-O)&&i>=o+(z-O)&&n>=a-ce&&n<=a+ce?de.TOP_CROPPER:i<=l-(z-O)&&i>=o+(z-O)&&n>=r-ce&&n<=r+ce?de.BOTTOM_CROPPER:i<=o-O+z&&i>=o-ce&&n>=a-ce&&n<=a+z-O?de.TOP_LEFT_HANDLE:i<=l+ce&&i>=l-(z-O)&&n>=a-ce&&n<=a+z-O?de.TOP_RIGHT_HANDLE:i<=o-O+z&&i>=o-ce&&n>=r-(z-O)&&n<=r+ce?de.BOTTOM_LEFT_HANDLE:i<=l+ce&&i>=l-(z-O)&&n>=r-(z-O)&&n<=r+ce?de.BOTTOM_RIGHT_HANDLE:de.OUTSIDE})(t,n);f(e)}if(null!=C&&null!=j&&null!=A){const e=n-g,i=(t-h)/k,r=e/E,o=Math.min(w+S-C,Math.max(0,w+i)),l=S+(w-o),s=Math.min(P+T-j,Math.max(0,P+r)),c=T+(P-s),d=Math.min(1-w,Math.max(C,S+i)),u=Math.min(1-P,Math.max(j,T+r));switch(v){case de.OUTSIDE:a(Math.floor(Math.max(A,Math.min(R,I+e))));break;case de.INSIDE:b((e=>({...e,x:Math.max(0,Math.min(1-S,w+i)),y:Math.max(0,Math.min(1-T,P+r))})));break;case de.LEFT_CROPPER:b((e=>({...e,x:o,w:l})));break;case de.RIGHT_CROPPER:b((e=>({...e,w:d})));break;case de.TOP_CROPPER:b((e=>({...e,y:s,h:c})));break;case de.BOTTOM_CROPPER:b((e=>({...e,h:u})));break;case de.TOP_LEFT_HANDLE:b({x:o,w:l,y:s,h:c});break;case de.TOP_RIGHT_HANDLE:b((e=>({...e,w:d,y:s,h:c})));break;case de.BOTTOM_LEFT_HANDLE:b((e=>({...e,h:u,x:o,w:l})));break;case de.BOTTOM_RIGHT_HANDLE:b((e=>({...e,h:u,w:d})))}}},onTouchStart:e=>{const{clientX:t,clientY:n}=e.touches[0];_(t),y(n),f(de.NONE)},pinDominantColor:s}),!!c.length&&0!==E&&0!==k&&(0,F.jsx)(l.xu,{"data-test-id":"FlashlightDots",children:(0,F.jsx)(le,{closeupImageTop:I,cropArea:x,entryPoint:i,imageHeight:E,imageTop:I,imageWidth:k,onDotTap:r,setCropArea:b,viewParameter:d,visualObjects:c})})]})}var pe=n(818577),he=n(392553);const me=e=>({type:"SET_FLASHLIGHT_CROP_SOURCE",payload:{cropSource:e}});var _e=n(903539),ge=n(925748),ye=n(473420),ve=n(729239),fe=n(618446),xe=n.n(fe),be=n(377234),we=n(223654),Pe=n(906215),Se=n(282802),Te=n(455788),Ie=n(98736),Ae=n(917652);const ke="modalReveal",Ee=(0,ne.Ll)([`\n  ${ke} {\n      0% {\n          transform: translate(0%, 100%);\n      }\n\n      100% {\n        transform: translate(0%, 0%);\n      }\n  }\n`]);var Ce=n(460914),je=n(817888);function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Re=()=>{};function Fe({filterIconShown:e,isRTL:t}){const n=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight";return e?{[n]:38,[i]:50,marginTop:15,marginBottom:15}:{[n]:-10,[i]:50,marginTop:15,marginBottom:15}}const Le={mask:{baseStyles:{backgroundColor:"rgba(0,0,0, .5)",height:"100%",overscrollBehavior:"none",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out",width:"100%",zIndex:1}},modal:{baseStyles:{border:(0,be.Yc)()?void 0:"1px solid #efefef",borderRadius:"16px",overscrollBehavior:"none",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",transformOrigin:"bottom",width:"100vw",zIndex:1}}},Oe=0,ze=1,Me=2;class Ne extends m.Component{constructor(...e){super(...e),De(this,"state",{currentDistanceFromTop:this.props.maxDistanceFromTop?this.props.maxDistanceFromTop:-1,startY:0,scrollDirection:Oe,shouldAnimate:!1,addedEvent:!1,filterModalIsOpen:!1,showIndicator:!1,headerHeight:this.props.headerHeight||0}),De(this,"onScroll",(0,we.Z)((()=>{const{logContextEvent:e,viewParameter:t,viewType:n}=this.props;e({event_type:110,view_parameter:t,view_type:n})}),1e3)),De(this,"onTouchStart",(e=>{const{clientY:t}=e.touches[0];this.setState({startY:t,shouldAnimate:!1,scrollDirection:Oe})})),De(this,"onTouchMove",(e=>{const{inUnifiedFeedExp:t}=this.props;this.state.addedEvent||!this.modal||t||(this.modal.addEventListener("touchmove",this.preventPullToRefresh,{passive:!1}),this.setState({addedEvent:!0})),t||e.preventDefault();const{clientY:n}=e.touches[0],{startY:i,currentDistanceFromTop:a}=this.state,{canMoveModal:r,entryPoint:o,onDismiss:l,logContextEvent:s,maxDistanceFromTop:c,viewParameter:d}=this.props,u=n-i;r&&void 0!==c&&(("CloseupShop"===o||"CloseUpMainPinDrawer"===o)&&u>20&&a>c&&l?(s({event_type:108,view_parameter:d,view_type:427}),this.setState({currentDistanceFromTop:c,startY:0,scrollDirection:Oe},(()=>l(e)))):(u>0&&a>=0&&(a<c||"CloseupShop"===o||"CloseUpMainPinDrawer"===o)&&window.scrollY<=0||u<0&&a<=c&&a>=0)&&this.setModalPosition(n))})),De(this,"onTouchEnd",(()=>{const{minDistanceFromTop:e,entryPoint:t,inUnifiedFeedExp:n}=this.props;this.state.addedEvent&&this.modal&&!n&&(this.modal.removeEventListener("touchmove",this.preventPullToRefresh),this.setState({addedEvent:!1})),this.props.shouldSnapToEnds&&this.state.scrollDirection===Me?(this.header&&Pe.Z.removeObstruction("top",this.header),this.setState({currentDistanceFromTop:this.props.maxDistanceFromTop,shouldAnimate:!0}),t&&(0,Ie.My)(`mweb.${t}.snap_to_bottom`)):this.props.shouldSnapToEnds&&this.state.scrollDirection===ze&&(this.setState({currentDistanceFromTop:e||0,shouldAnimate:!0}),this.header&&Pe.Z.addObstruction("top",this.header),t&&(0,Ie.My)(`mweb.${t}.sliding_modal.snap_to_top`))})),De(this,"handleHeaderTouch",(()=>{const{maxDistanceFromTop:e,minDistanceFromTop:t,entryPoint:n}=this.props,{currentDistanceFromTop:i,scrollDirection:a}=this.state;a===Oe&&(i===e?(this.setState({currentDistanceFromTop:t||0,shouldAnimate:!0}),(0,Ie.My)(`mweb.${n}.sliding_modal.header_touch.snap_to_top`)):e&&(this.setState({currentDistanceFromTop:e,shouldAnimate:!0}),(0,Ie.My)(`mweb.${n}.sliding_modal.header_touch.snap_to_bottom`)))})),De(this,"handleCloseIconTouch",(e=>{const{currentDistanceFromTop:t}=this.state,{onDismiss:n,logContextEvent:i,maxDistanceFromTop:a,viewParameter:r,viewType:o}=this.props;e.stopPropagation(),n&&(i({aux_data:{commerce_data:JSON.stringify({snapped_top:0===t})},element:75,event_type:102,view_parameter:r,view_type:o}),this.setState({currentDistanceFromTop:a,startY:0,scrollDirection:Oe},(()=>n(e))))})),De(this,"getMaskStyles",(()=>{const{entryPoint:e,overrideZDepth:t}=this.props,{baseStyles:n}=Le.mask;return n.zIndex=t?t-1:n.zIndex,{__style:{...n,..."CloseupShop"===e?{backgroundColor:"rgba(255,255,255, 1)",height:"50%",top:"70%"}:Object.freeze({})}}})),De(this,"getModalStyles",(()=>{const{entryPoint:e,overrideZDepth:t,shouldSnapToEnds:n}=this.props,{currentDistanceFromTop:i,shouldAnimate:a}=this.state,{baseStyles:r}=Le.modal;return r.zIndex=t||r.zIndex,r.border=this.props.noBorder?void 0:r.border,{__style:{...r,boxShadow:"CloseupShop"===e||"flashlight"===e?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,animation:`${ke} 0.3s ease-out both`,zIndex:"CloseUpMainPinDrawer"===e?4:void 0,borderRadius:"CloseUpMainPinDrawer"===e?"24px":void 0,top:i>-1?i:void 0,...n&&a?{transitionDuration:"500ms",transitionProperty:"transform, opacity, top"}:Object.freeze({})}}})),De(this,"setModalPosition",(e=>{const{startY:t,currentDistanceFromTop:n}=this.state,{maxDistanceFromTop:i,snapToEndThreshold:a,entryPoint:r}=this.props;if(i){const o=e-t,l="CloseupShop"===r||"CloseUpMainPinDrawer"===r?Math.max(0,n+o):Math.min(i,Math.max(0,n+o)),s=Math.floor(l);let c=Oe;if(a){const e=Math.floor(a*i),t=Math.floor((1-a)*i);o<0?c=s>t?Me:ze:o>0&&(c=s>e?Me:ze)}this.setState({startY:e,currentDistanceFromTop:s,scrollDirection:c})}})),De(this,"preventBackgroundScroll",(e=>{e.preventDefault()})),De(this,"preventPullToRefresh",(e=>{const{canMoveModal:t}=this.props,{currentDistanceFromTop:n,startY:i}=this.state,{clientY:a}=e.touches[0],r=a-i;t&&n>=0&&0===window.scrollY&&r>0&&e.preventDefault()})),De(this,"openFiltersModal",(e=>{e.stopPropagation(),this.setState({filterModalIsOpen:!0})})),De(this,"closeFiltersModal",(()=>{this.setState({filterModalIsOpen:!1})})),De(this,"buttonTap",(()=>{const{cropSource:e,logContextEvent:t}=this.props;let n="";n="related_products"===(0,Ae.Z)(e)?3455:3456,t({event_type:102,view_parameter:n,view_type:72,element:11735})})),De(this,"updateShowIndicator",(e=>{this.setState({showIndicator:e})}))}componentDidMount(){const{isOpen:e,entryPoint:t}=this.props;e&&Pe.Z.pause(),"CloseupShop"!==t&&"CloseUpMainPinDrawer"!==t||window.addEventListener("scroll",this.onScroll)}componentDidUpdate(e,t){const{domainFilters:n,priceFilters:i,cropSource:a,isOpen:r,logContextEvent:o,maxDistanceFromTop:l,setHasDraggedDrawerToFullScreen:s,minDistanceFromTop:c,entryPoint:d}=this.props,{currentDistanceFromTop:u}=this.state;if(r&&!e.isOpen?Pe.Z.pause():!r&&e.isOpen&&Pe.Z.resume(),"CloseUpMainPinDrawer"===d&&l<e.maxDistanceFromTop&&u>l&&this.handleHeaderTouch(),t.currentDistanceFromTop!==(e.minDistanceFromTop||0)&&u===(c||0)&&s&&s(!0),n&&i&&(!xe()(n,e.domainFilters)||!xe()(i,e.priceFilters))){let e="";e="related_products"===(0,Ae.Z)(a)?3455:3456,o({event_type:13,view_parameter:e,view_type:72,element:11735})}}componentWillUnmount(){const{entryPoint:e,isOpen:t}=this.props;this.header&&Pe.Z.removeObstruction("top",this.header),t&&Pe.Z.resume(),this.state.addedEvent&&this.modal&&this.modal.removeEventListener("touchmove",this.preventPullToRefresh),"CloseupShop"!==e&&"CloseupShop"!==e||window.removeEventListener("scroll",this.onScroll)}render(){const{mobileAccessibilityCloseIconLabel:e,canMoveModal:t,children:n,childPaddingX:i,childPaddingY:a,cropSource:r,domainFilters:o,entryPoint:s,heading:c,headerChildren:d,mobileHideCloseIcon:u,isOpen:p,isRTL:h,inUnifiedFeedExp:m,location:_,minDistanceFromTop:g,noDivider:y,noMaskOnBackground:v,onDismiss:f,pinId:x,priceFilters:b,submitFilters:w=(()=>{}),showHandle:P}=this.props,{currentDistanceFromTop:T,filterModalIsOpen:I,showIndicator:A}=this.state,k=!v||"CloseupShop"===s&&T<=0?this.getMaskStyles():{},E=this.getModalStyles(),C=f||Re,j=t&&T<=(g||0),D={};o&&(D.domainFilters=o),b&&(D.priceFilters=b);const R=Object.keys(D).length>0;return p&&(0,F.jsx)(Te.Z,{children:(0,F.jsx)(l.mh,{children:(0,F.jsxs)(l.xu,{display:"inlineBlock",role:"dialog","aria-label":c,children:[("CloseupShop"===s||"CloseUpMainPinDrawer"===s)&&(0,F.jsx)(Y.Z,{unsafeCSS:Ee}),(0,F.jsx)(Ce.Z,{onTouch:C,pressState:"none",accessibilityLabel:this.props.i18n._('Close', 'duplo.sldingmodal.accessibilityCloseLabel', 'Accessibility label for close button in modal'),children:(0,F.jsx)(l.xu,{dangerouslySetInlineStyle:k,left:!0,onTouchMove:this.preventBackgroundScroll,position:"fixed",top:!0})}),(0,F.jsx)(l.xu,{ref:e=>this.modal=e,children:(0,F.jsx)(l.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:E,left:!0,onTouchEnd:this.onTouchEnd,onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,position:j?"absolute":"fixed",children:(0,F.jsx)(Ce.Z,{onTouch:this.handleHeaderTouch,pressState:"none",accessibilityLabel:this.props.i18n._('View all search results', 'SlidingModal.Header.a11yLabel', 'Accessibility label for header of search results in flashlight'),children:(0,F.jsxs)(l.xu,{position:"relative",children:[P&&(0,F.jsx)(l.xu,{display:"flex",top:!0,marginTop:2,justifyContent:"center",children:(0,F.jsx)("svg",{width:"40",height:"4",viewBox:"0 0 40 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,F.jsx)("rect",{width:"40",height:"4",rx:"2",fill:"#767676"})})}),e&&!u&&(0,F.jsx)(l.Le,{top:this.state.headerHeight||0,children:(0,F.jsxs)(l.xu,{ref:e=>{this.header=e},color:"default",rounding:"CloseUpMainPinDrawer"===s?6:2,marginBottom:"CloseUpMainPinDrawer"===s?-5:void 0,children:[(0,F.jsxs)(l.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,F.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:(0,F.jsx)(l.hU,{accessibilityLabel:e,icon:"CloseupShop"===s||"CloseUpMainPinDrawer"===s||"flashlight"===s&&m?"cancel":"arrow-back",iconColor:"CloseUpMainPinDrawer"===s||"flashlight"===s&&m?"darkGray":"gray",onClick:({event:e})=>this.handleCloseIconTouch(e),padding:5,size:"lg"})}),(0,F.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:Fe({filterIconShown:R,isRTL:h})},"data-test-id":"slidingModalHeader",display:"flex",flex:"grow",justifyContent:"center",children:(0,F.jsx)(l.X6,{align:"center",size:m?"300":"400",accessibilityLevel:2,children:c})}),R&&(0,F.jsxs)(l.xu,{children:[(0,F.jsxs)(l.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,F.jsx)(l.hU,{accessibilityLabel:this.props.i18n._('Filters', 'flashlightPage.slidingModal.filterIconButton', 'Icon button appears when filters are available'),iconColor:"darkGray",icon:"filter",onClick:({event:e})=>{this.openFiltersModal(e),this.buttonTap()},size:"md"}),A&&(0,F.jsx)(l.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},display:"flex",height:14,justifyContent:"center",minWidth:14,position:"absolute",rounding:"pill",top:!0,right:!0})]}),(0,F.jsx)(je.Z,{closeFiltersModal:this.closeFiltersModal,cropSource:r,initialProductFilters:{domains:(0,S.mB)(null==_?void 0:_.search).domains,prices:[parseInt((0,S.mB)(null==_?void 0:_.search).min,10),parseInt((0,S.mB)(null==_?void 0:_.search).max,10)]},isOpen:I,pinId:x,productFilters:D,submitFilters:w,updateShowIndicator:this.updateShowIndicator})]})]}),d||null,!y&&(0,F.jsx)(l.iz,{})]})}),(0,F.jsx)(l.xu,{overflow:j?"auto":void 0,paddingX:i,paddingY:a,children:n})]})})})})]})})})}}function Ze(e){const{filterFeedKey:t}=e,n=(0,c.ZP)(),i=(0,D.Z)(),{isRTL:a}=(0,Se.B)(),r=(0,_.useSelector)((({productFilters:e})=>(t&&e[t]||{}).categoryFilters)),o=(0,_.useSelector)((({productFilters:e})=>(t&&e[t]||{}).domainFilters)),l=(0,_.useSelector)((({productFilters:e})=>(t&&e[t]||{}).priceFilters));return(0,F.jsx)(Ne,{...e,categoryFilters:r,domainFilters:o,i18n:n,isRTL:a,logContextEvent:i,priceFilters:l})}De(Ne,"defaultProps",{childPaddingX:3,childPaddingY:3});const Ue=.6,Be=.4,Ke=50,He=.1,Ge=.8,We=35;function $e(e){return e.preventDefault()}function Ve(){return Math.min(se.g6,window.innerWidth)}function qe(e,t){return Math.floor(Ve()/t*e)}function Ye(e,t){var n;if(!t)return null===(n=e.images)||void 0===n?void 0:n["736x"];const{carousel_slots:i=[]}=(0,g.Z)({carouselData:e.carousel_data,images:e.images,richMetadata:e.rich_metadata,richSummary:e.rich_summary})||{},a=i.find((e=>t===e.image_signature));return a?{...(0,y.Z)(a.images)}:void 0}function Xe(e,t,n){let i=0,a=0;const r=n||0;let o=0;if(e&&e.images){var l,s,c,d;const n=Ye(e,t);i=Ve(),a=qe(null!==(l=null==n?void 0:n.height)&&void 0!==l?l:1,null!==(s=null==n?void 0:n.width)&&void 0!==s?s:1),o=function(e,t){const n=Math.floor(Ue*window.innerHeight);return Math.min(n,qe(e,t))}(null!==(c=null==n?void 0:n.height)&&void 0!==c?c:1,null!==(d=null==n?void 0:n.width)&&void 0!==d?d:1)}return{closeupImageWidth:i,closeupImageHeight:a,closeupImageMinTop:o-a,closeupImageTop:r,minCropperWidthRatio:i?Ke/i:0,minCropperHeightRatio:a?Ke/a:0,modalTop:o}}function Je(e,t,n,i){let a=n?Number(n):Be,r=i?Number(i):He;e>0&&t>0&&(n||(a=(t-2*t*He)/e),i||(r=t*He/e));return{h:a,y:r}}const Qe=(0,ye.Z)((e=>`visual-search:${e}`));function et({cropArea:e,headerHeight:t,inUnifiedFeedExp:n,pin:i,pinId:r,queryTitle:s,queryH:u,queryW:p,queryX:h,queryY:g,searchResourceOptions:y,setState:P,state:D,visualSearchFlashlightUnifiedResource:R}){var L,O;const z=(0,x.E)(),M=(0,c.ZP)(),N=(0,_.useDispatch)(),Z=(0,o.useHistory)(),{previous:U}=(0,v.Hv)(),{checkExperiment:B}=(0,d.F)(),K=(0,o.useLocation)(),{isAuth:H}=(0,a.Z)(),G=e=>N(me(e)),W=(0,_.useSelector)((e=>Qe(e,r))),{data:$,fetchMore:V,isAtEnd:q,isFetching:Y,isLoaded:X}=R||{},J=(null==$?void 0:$.results)||[],Q=J.find((e=>"story"===e.type&&"unified_visual_feed_product_upsell"===e.story_type)),ee=J.find((e=>"story"===e.type&&"unified_visual_feed_organic_header"===e.story_type)),te=J.filter((e=>"pin"===e.type)),ne=M._('Visual search', 'Visual search results', 'Visual search results'),[ie,ae]=(0,m.useState)(s||ne);if((0,m.useEffect)((()=>{if(i){const e=Xe(i,D.imageSignature,t),{closeupImageHeight:n,modalTop:a=0}=e,r=Je(n,a,Number(u),Number(g));P((t=>({...t,closeupImageDims:e,...r})))}}),[i]),(0,m.useEffect)((()=>{(W&&W.length>0||n&&X)&&z&&z.markConstraintComplete("VisualSearchFeedLoaded")})),(0,T.Z)((()=>n?()=>{}:(window.addEventListener("touchmove",$e,{passive:!0}),()=>window.removeEventListener("touchmove",$e)))),(0,T.Z)((()=>{G(D.cropSource);if(!(0,A.Z)({x:h,y:g,w:p,h:u})&&i){const t=(0,k.Z)({cropArea:e,pinId:r,view:"flashlight",isUnified:!1,isProductOnlyFeed:!1});Z.replace(t)}})),!i||0===D.closeupImageDims.modalTop)return null;const re=(0,I.k)(i.visual_objects||[]),oe=(0,I.m)(i.visual_objects||[]),le=(re.length>0||oe.length>0)&&!D.imageSignature&&(B("mweb_flashlight_show_more_stela_dots").anyEnabled?re:oe)||[],ce=Ye(i,D.imageSignature),de=(D.closeupImageDims.modalTop||0)-5;return(0,F.jsx)(E.Z,{viewType:72,viewParameter:3050,children:(0,F.jsx)(w.Z,{view:72,children:(0,F.jsxs)(f.default,{hasFixedHeader:!0,hasGutter:!1,children:[(0,F.jsx)(pe.Z,{text:M._('Visual Search Page', 'flashlight.accessibilityhiddenheading.fullpage', 'accessibility label for flashlight page')}),(0,F.jsxs)(l.xu,{color:"default",dangerouslySetInlineStyle:{__style:{overscrollBehavior:"none",touchAction:"none"}},height:"100vw",margin:"auto",maxWidth:se.g6,children:[(0,F.jsx)(ue,{closeupImage:ce,closeupImageDims:D.closeupImageDims,cropArea:e,handleChangeCloseupImageTop:function(e){P((t=>({...t,closeupImageDims:{...t.closeupImageDims,closeupImageTop:e}})))},handleCropperChange:function({cropArea:e,cropSource:t,title:i}){G(D.cropSource),(e=>{N((0,_e.By)(e))})(r);const a=i||ne;if(ae(a),P((n=>({...n,...e,cropSource:t}))),n){const t=(0,S.PF)(a);Z.replace(`/pin/${r}/visual-search/?x=${e.x}&y=${e.y}&h=${e.h}&w=${e.w}&title=${t}`)}else Z.replace(`/pin/${r}/visual-search/?x=${e.x}&y=${e.y}&h=${e.h}&w=${e.w}`)},pinDominantColor:i.dominant_color||"#efefef",viewParameter:3050,visualObjects:le,entryPoint:"flashlight",headerHeight:t}),(0,F.jsx)(Ze,{canMoveModal:!0,childPaddingX:0,childPaddingY:0,cropSource:D.cropSource,entryPoint:"flashlight",headerHeight:t,heading:n?ie:ne,inUnifiedFeedExp:n,isOpen:!0,location:K,maxDistanceFromTop:de,minDistanceFromTop:H?We:t,mobileAccessibilityCloseIconLabel:M._('Close visual search results', 'close visual search results and go back to pin', 'close visual search results and go back to pin'),noBorder:!0,noDivider:!0,noMaskOnBackground:!0,onDismiss:function(){0!==U.length?Z.goBack():Z.replace(`/pin/${r}/`)},pinId:r,shouldSnapToEnds:!0,snapToEndThreshold:.3,viewParameter:3050,viewType:72,children:(0,F.jsx)(l.xu,{color:"default",paddingX:3,children:n?(0,F.jsxs)(m.Fragment,{children:[Q&&(0,F.jsx)(l.xu,{marginBottom:6,children:(0,F.jsx)(b.default,{story:Q,component:14339,surface:"ShoppingDynamicHeightGrid",view:72,viewParameter:3462,storyGraphqlRef:null})}),ee&&(0,F.jsx)(b.default,{story:ee,view:72,viewParameter:3462,storyGraphqlRef:null}),(0,F.jsx)(ve.Z,{feedKey:null!==(L=(0,ge.J)("VisualSearchFlashlightUnifiedResource",y))&&void 0!==L?L:"",feedItems:te,pagination:{loadNext:V||(()=>{}),hasNext:!q||!1,isLoadingNext:Y||!1,refetch:()=>{}},renderFeedItem:(e,t)=>(0,F.jsx)(j.cn,{children:(0,F.jsx)(he.default,{auxData:{commerce_data:{is_product_only_feed:!1}},componentType:0,pinId:e.id,slotIndex:t,trackingParams:e.trackingParams||void 0,viewParameter:3462,viewType:72,duploQueryRef:null})})})]}):(0,F.jsx)(C.ZP,{resourceConfig:{name:"VisualLiveSearchResource",options:y},feedItemProps:{viewParameter:3050,viewType:72},feedKey:null!==(O=(0,ge.J)("VisualLiveSearchResource",y))&&void 0!==O?O:"",trafficSource:"flashlight"})})})]})]})})})}function tt(e){const{searchResourceOptions:t}=e,n=(0,p.Z)({name:"VisualSearchFlashlightUnifiedResource",options:t});return(0,F.jsx)(et,{...e,visualSearchFlashlightUnifiedResource:n})}function nt({pin:e}){const{checkExperiment:t}=(0,d.F)(),{anyEnabled:n}=t("mweb_flashlight_unified_feed"),r=(0,o.useRouteMatch)(),{pinId:l}=(0,h.Z)(r.params.id||""),s=(0,o.useLocation)(),c=(0,S.mB)(s.search),{x:u,y:p,w:_,h:g,image_signature:y,title:v}=c,{isAuth:f}=(0,a.Z)(),x=(0,i.ZP)(),b=!f&&(0,P.x9)(x)||void 0,[w,T]=(0,m.useState)((()=>{const t=Xe(e,y,b);t.closeupImageTop=0;const{closeupImageHeight:n,modalTop:i=0}=t,a=Je(n,i,Number(g),Number(p));let r=5;return _&&g&&(r=Number(_)>=Ge&&Number(g)>=Ge?5:6),{closeupImageDims:t,cropSource:r,x:u?Number(u):He,w:_?Number(_):1-2*He,y:a.y,h:a.h,imageSignature:y}})),I={x:w.x,y:w.y,w:w.w,h:w.h},A={pin_id:l,crop:I,crop_source:w.cropSource,image_signature:w.imageSignature,is_shopping:!1,entry_source:"flashlight"},k={cropArea:I,headerHeight:b,inUnifiedFeedExp:n,pin:e,pinId:l,queryTitle:v,queryH:g,queryW:_,queryX:u,queryY:p,searchResourceOptions:A,setState:T,state:w};return n?(0,F.jsx)(tt,{...k}):(0,F.jsx)(et,{...k})}var it,at=n(525104);const rt=void 0!==it?it:it=n(839914);function ot(e){var t,n,i;return{width:null!==(t=e.width)&&void 0!==t?t:0,url:null!==(n=e.url)&&void 0!==n?n:"",height:null!==(i=e.height)&&void 0!==i?i:0}}function lt(e){const t=[];return e.forEach((({additionalImages:e,spec:n})=>{var i;t.push(...null!==(i=function({additionalImages:e,spec:t}){const n=[];return null==e||e.forEach((e=>{var i;e.canonicalImage&&n.push({canonical_images:{[t]:ot(e.canonicalImage)},image_signature:null!==(i=e.imageSignature)&&void 0!==i?i:""})})),n}({additionalImages:e,spec:n}))&&void 0!==i?i:[])})),t}function st(e){return null==e?void 0:e.map((e=>{var t,n;return{id:null!==(t=e.itemId)&&void 0!==t?t:"",additional_images:null!==(n=lt([{additionalImages:e.additionalImageOrig,spec:"orig"},{additionalImages:e.additionalImage736x,spec:"736x"},{additionalImages:e.additionalImage564x,spec:"564x"},{additionalImages:e.additionalImage474x,spec:"474x"},{additionalImages:e.additionalImage236x,spec:"236x"}]))&&void 0!==n?n:[]}}))}function ct(e){const t={};return e.forEach((({image:e,spec:n})=>{e&&(t[n]=ot(e))})),t}const dt=(0,s.Z)({useGraphQLAdapter:function({pinId:e}){var t,n,i,a,o;const l=null===(t=(0,r.useLazyLoadQuery)(rt,{pinId:e}).v3GetPinQuery)||void 0===t?void 0:t.data;return l?{pin:{id:null!==(n=l.entityId)&&void 0!==n?n:"",dominant_color:null!==(i=l.dominantColor)&&void 0!==i?i:"",visual_objects:null!==(g=l.visualObjects,a=null==g?void 0:g.map((e=>{var t,n,i,a,r,o,l,s,c,d,u,p,h,m;return{detection:null!==(t=e.detection)&&void 0!==t&&t,h:null!==(n=e.h)&&void 0!==n?n:0,index:null!==(i=e.index)&&void 0!==i?i:0,is_stela:null!==(a=e.isStela)&&void 0!==a&&a,label:null!==(r=e.label)&&void 0!==r?r:"",label_id:null!==(o=e.labelId)&&void 0!==o?o:0,label_x:null!==(l=e.labelX)&&void 0!==l?l:0,label_y:null!==(s=e.labelY)&&void 0!==s?s:0,max_annotation_num_documents:null!==(c=e.maxAnnotationNumDocuments)&&void 0!==c?c:0,score:null!==(d=e.score)&&void 0!==d?d:0,show_on_closeup:null!==(u=e.showOnCloseup)&&void 0!==u&&u,w:null!==(p=e.x)&&void 0!==p?p:0,x:null!==(h=e.w)&&void 0!==h?h:0,y:null!==(m=e.y)&&void 0!==m?m:0}})))&&void 0!==a?a:[],images:null!==(o=ct([{image:l.imageOrig,spec:"orig"},{image:l.image736x,spec:"736x"},{image:l.image564x,spec:"564x"},{image:l.image474x,spec:"474x"},{image:l.image236x,spec:"236x"}]))&&void 0!==o?o:{},rich_metadata:(m=l.richMetadata,{products:null!==(_=st(null==m?void 0:m.products))&&void 0!==_?_:[]}),rich_summary:(p=l.richSummary,{products:null!==(h=st(null==p?void 0:p.products))&&void 0!==h?h:[]}),carousel_data:(s=l.carouselData,{carousel_slots:null!==(u=null==s?void 0:s.carouselSlots,c=null==u?void 0:u.map((e=>{var t,n;return{image_signature:null!==(t=e.imageSignature)&&void 0!==t?t:"",images:null!==(n=ct([{image:e.imageOrig,spec:"orig"},{image:e.image736x,spec:"736x"},{image:e.image564x,spec:"564x"},{image:e.image474x,spec:"474x"},{image:e.image236x,spec:"236x"}]))&&void 0!==n?n:{}}})))&&void 0!==c?c:[],index:null!==(d=null==s?void 0:s.index)&&void 0!==d?d:0}),type:"pin"}}:null;var s,c,d,u,p,h,m,_,g},useLegacyAdapter:function({pinId:e}){const{data:t}=(0,p.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0}}),n=(0,at.S6)()(e),i=null!=t?t:n;return i?{pin:i}:null}});function ut(){const{checkExperiment:e}=(0,d.F)(),t=(0,c.ZP)(),n=(0,o.useRouteMatch)(),{pinId:i}=(0,h.Z)(n.params.id||"");return(0,F.jsx)(dt,{input:e("auth_mweb_graphql_flashlight_pinResource").anyEnabled||e("unauth_mweb_graphql_flashlight_pinResource").anyEnabled?{enabled:!0,data:{pinId:i},suspense:{fallback:(0,F.jsx)(l.$j,{accessibilityLabel:t._('Loading Pin data', 'mobileFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})}}:{enabled:!1,data:{pinId:i}},children:({data:e})=>!!e&&(0,F.jsx)(u.Z,{constraints:["VisualSearchFeedLoaded"],surface:"flashlight",children:(0,F.jsx)(nt,{pin:e.pin})})})}var pt=n(884880),ht=n(833145);const mt=function(){const e=(0,i.HG)(),t=(0,a.Z)();return e?t.isAuth?(0,F.jsx)(ht.ZP,{}):(0,F.jsx)(pt.Z,{}):(0,F.jsx)(ut,{})}},522285:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(11555);const a=5e3;function r(){const e=new i.H("/resource/ApiSResource/create/","ApiSResource",(e=>({source:"browser",stats:e})),a);return{log:(t,n,i,a={})=>{const{sampleRate:r=.1,tags:o={}}=a,l=[t,n,i,r,o];e.enqueue(l)}}}},935340:(e,t,n)=>{n.d(t,{LY:()=>o,QX:()=>r,S0:()=>l,nP:()=>a});const i=(0,n(522285).Z)();function a(e,t){i.log(e,1,"c",t)}function r(e,t,n){i.log(e,t,"c",n)}function o(e,t,n){i.log(e,t,"ms",n)}function l(e,t,n){i.log(e,t,"g",n)}},373897:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},e.exports.__esModule=!0,e.exports.default=e.exports},163405:(e,t,n)=>{var i=n(373897);e.exports=function(e){if(Array.isArray(e))return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},474704:(e,t,n)=>{var i=n(386116);e.exports=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},238416:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},564836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},379498:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},742281:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},242122:(e,t,n)=>{var i=n(238416);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},600861:(e,t,n)=>{var i=n(163405),a=n(379498),r=n(386116),o=n(742281);e.exports=function(e){return i(e)||a(e)||r(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},386116:(e,t,n)=>{var i=n(373897);e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},497326:(e,t,n)=>{function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:()=>i})},487462:(e,t,n)=>{function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i.apply(this,arguments)}n.d(t,{Z:()=>i})},875068:(e,t,n)=>{function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}n.d(t,{Z:()=>a})},172875:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,{Z:()=>r})},263366:(e,t,n)=>{function i(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}n.d(t,{Z:()=>i})}},e=>{e.O(0,[14865],(()=>{[97270,99591,92982,47424,23755,48035,4506,5035,3752,43473,22347,22538,1593].map(e.E)}),5);e.O(0,[97270,83119,67631,16550,39425,55820,75794,35303,8575,99551,14324,77263,76030,97431,73383,61072,7709,25206,25827,11671,19679,11056,32789],(()=>{return t=806387,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/visual-search-8b4373d8fa0b05ea.mjs.map