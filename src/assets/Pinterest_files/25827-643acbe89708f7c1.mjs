(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[25827],{526007:(e,i,t)=>{t.d(i,{Z:()=>y});var s=t(667294),n=t(782677),o=t(883119),a=t(690108),r=t(527386),d=t(536042),l=t(630089),c=t(756513),h=t(348597),u=t(28557),_=t(907310),p=t(785893);const g=e=>({duration:5e3,thumbnail:(0,p.jsx)(o.xu,{"data-test-id":"pin-save-toast",width:48,height:48,children:(0,p.jsx)(_.Z,{boardId:e})})});var v=t(550140),m=t(802071);function P({hideToast:e,newPin:i,originalPinId:t}){var s,n;const a=(0,d.ZP)(),r=(0,m.Z)();return(0,p.jsx)(v.ZP,{primaryAction:{accessibilityLabel:a._('Change saved Pin button', 'RepinRequest.a11yChangeButton', 'Change saved Pin button'),href:`/pin/${i.id}/repin/?isEditingPin=true&pinBoardId=${null!==(s=null===(n=i.board)||void 0===n?void 0:n.id)&&void 0!==s?s:""}&&isFromToast=true&&originalPinId=${null!=t?t:""}`,label:a._('Change', 'RepinRequest.ChangeButton', 'Change saved Pin button'),size:"lg",onClick:e},duration:5e3,onHide:e,text:(0,p.jsxs)(o.xv,{children:[(0,p.jsx)(o.xv,{inline:!0,children:a._('Saved to ', 'RepinRequest.ProfileSaveToastText', 'Toast for successfully saving to profile')}),(0,p.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,p.jsx)(o.rU,{display:"inlineBlock",href:r.isAuth?`/${r.username}/_saved`:"/",target:"self",underline:"hover",children:a._('Profile', 'RepinRequest.ProfileSaveToastText.Profile', 'referring to pinner profile where pin was saved')})})]}),thumbnail:{icon:(0,p.jsx)(o.JO,{accessibilityLabel:a._('Profile', 'RepinRequest.ProfileIcon', 'Icon signifying Pin was saved to profile without a board'),icon:"history",size:22})}})}var b=t(894788),f=t(255655);const x="RepinResource",I=({board:e,section:i})=>{const t=(0,d.ZP)(),n="quick_saves"===(null==e?void 0:e.layout)?t._('Profile', 'EditPin.Quicksaves.BoardName', 'Name for Quicksaves board that we want to surface to users'):e.name;return i?(0,l.nk)(t._('Saved to {{sectionName}} in {{boardName}}', 'Toast for successfully saving to a section within a board', 'Toast for successfully saving to a section within a board'),{sectionName:i&&i.title,boardName:e.name}).join(""):(0,p.jsxs)(s.Fragment,{children:[(0,p.jsx)(o.xv,{color:"default",children:t._('Saved to', 'Saved to {{ boardName }}', 'Saved to {{ boardName }}')}),(0,p.jsx)(o.xv,{color:"default",weight:"bold",children:n})]})};class y{constructor({boardId:e,dispatch:i,history:t,isOneTapSave:s=!1,isQuickSave:o=!1,onSuccess:a,onUndo:r,originalPinId:d,pinId:l,section:c,showNewUserSavetoProfileAnimation:u=!1,showRepinToasts:_,trackingParams:p,userId:g,viewType:v,historyPush:m,suggestedBoardIds:P,savePinId:b,pinData:{trackingParams:I,viewParameter:y,pinnedToBoardId:T}}){var S,w,A;A=e=>(0,n.Fv)(e.resource_response.data,f.Z[x]),(w="_getNormalizedResponse")in(S=this)?Object.defineProperty(S,w,{value:A,enumerable:!0,configurable:!0,writable:!0}):S[w]=A,this.boardId=e,this.trackingParams=p,this.clientTrackingParams=(0,h.Z)(p.clientTrackingParams||"",I),this.dispatch=i,this.history=t,this.onSuccess=a,this.onUndo=r,this.originalPinId=d,this.pinId=l,this.pinnedToBoardId=p.pinnedToBoardId||(null!=T?T:""),this.showNewUserSavetoProfileAnimation=u,this.showRepinToasts=_,this.section=c,this.isOneTapSave=s,this.isQuickSave=o,this.userId=g,this.viewType=null!=v?v:3,this.historyPush=m,this.suggestedBoardIds=P,this.savePinId=b,this.pinViewParameter=y}get resourceOptions(){var e;return{pin_id:this.pinId,board_id:this.boardId,section:null===(e=this.section)||void 0===e?void 0:e.id,clientTrackingParams:this.clientTrackingParams,user_id:this.userId}}get trackingData(){return{event_type:5,element:this.isOneTapSave?10599:void 0,view_type:this.viewType,component:this.isOneTapSave?0:7,view_parameter:this.isOneTapSave?3173:this.pinViewParameter,object_id_str:this.pinId,clientTrackingParams:this.clientTrackingParams,aux_data:{board_id:this.pinnedToBoardId,destination_board_id:this.boardId,is_profile_save:!this.boardId,pin_id:this.pinId,suggested_boards:this.suggestedBoardIds}}}_createRepin(){return a.Z.create(x,{...this.resourceOptions,disable_event_log_info:!0}).callCreate()}processRepin(e){return this._createRepin().then((i=>{this.onSuccess&&this.onSuccess();const t=i.resource_response.data,{board:s}=t,{isQuickSave:n,originalPinId:a,showNewUserSavetoProfileAnimation:l}=this,h=({hideToast:e})=>{var i;if(n&&!l)return(0,p.jsx)(P,{hideToast:e,newPin:t,originalPinId:a});const{thumbnail:r}=g(s.id);return(0,p.jsx)(u.Z,{button:(0,p.jsx)(d.oz,{children:e=>(0,p.jsx)(o.zx,{fullWidth:!0,onClick:({event:i})=>{i.preventDefault(),i.stopPropagation();const{onUndo:n}=this;var o;n&&!l?n(this.pinId,t.id,s.id,null===(o=this.section)||void 0===o?void 0:o.id,e):l&&this.historyPush(`/pin/${t.id}/repin/?isEditingPin=true&pinBoardId=${s.id}&&isFromToast=true&&originalPinId=${null!=a?a:""}`)},text:l?e._('Organize', 'RepinRequest.OrganizeButton', 'Button to allow users to organize saved pins'):e._('Undo', 'RepinRequest.UndoButton', 'Undo saved pin button')})}),href:this.section?`${s.url}${null!==(i=this.section.slug)&&void 0!==i?i:""}`:s.url,isRepinToExistingBoard:!0,onHide:e,text:(0,p.jsx)(I,{board:s,section:this.section}),thumbnail:r})},_=this._getNormalizedResponse(i);if(this.dispatch((0,c.XM)(x,this.resourceOptions,i,_)),this.savePinId(this.resourceOptions.pin_id,t.id),this.originalPinId&&this.originalPinId!==this.resourceOptions.pin_id){const e={...this.resourceOptions,pin_id:this.originalPinId};this.dispatch((0,c.XM)(x,e,i,_)),this.savePinId(this.originalPinId||"",t.id)}this.dispatch((0,b.M)(t.id,s.id,this.section?this.section.id:void 0,this.userId));const{showRepinToasts:v}=this;return v&&v(h),this.dispatch((0,r.fO)({event_type:5})),e(this.trackingData),t}))}}},348597:(e,i,t)=>{function s(e,i){return e||(i?`${null!=i?i:""}~0`:"~0")}t.d(i,{Z:()=>s})},383755:(e,i,t)=>{t.d(i,{Hn:()=>h,Jw:()=>g,L7:()=>s,Qc:()=>n,Tt:()=>m,UF:()=>l,UV:()=>a,W1:()=>o,Ws:()=>u,ZW:()=>d,cK:()=>v,cy:()=>p,o4:()=>_,tr:()=>c,vF:()=>r});const s=1,n=2,o="female",a="male",r="unspecified",d="en-US",l="US",c=3,h="has_done_closeup",u="Gender",_="InterestPicker",p="LoadingStep",g="AppInstall",v={NUX_GENDER_STEP_NAME:u,NUX_INTEREST_PICKER_STEP_NAME:_,NUX_LOADING_STEP_NAME:p,NUX_APP_INSTALL_STEP_NAME:g},m=2500},28557:(e,i,t)=>{t.d(i,{Z:()=>R});var s=t(667294),n=t(376030),o=t(883119),a=t(536042),r=t(455788),d=t(272109),l=t(874261),c=t(785893);function h({addedStyles:e,button:i,headerText:t,icon:n,iconOverride:a,minHeight:r,subHeaderText:d}){return(0,c.jsx)(o.xu,{display:"flex",justifyContent:"center",width:"100vw",paddingX:2,children:(0,c.jsxs)(o.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(-20px)",...e}},display:"flex",minHeight:r||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(()=>{const e=a||(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)(l.Z,{unsafeCSS:"\n@keyframes baseEduToastIconScale {\n  0% {\n    transform: scale(0)\n  }\n  30% {\n    transform: scale(1.2);\n  }\n  50% {\n    transform: scale(1);\n  }\n}\n"}),(0,c.jsx)(o.xu,{alignItems:"center",color:"education","data-test-id":"pin-save-toast",direction:"column",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,c.jsx)(o.JO,{accessibilityLabel:n.accessibilityLabel,color:n.color,dangerouslySetSvgPath:n.dangerouslySetSvgPath,icon:n.icon,inline:n.inline,size:n.size})})]});return(0,c.jsx)(o.xu,{marginEnd:4,children:e})})(),(0,c.jsxs)(o.xu,{marginEnd:"auto",children:[(0,c.jsx)(o.xv,{color:"default",weight:"bold",children:t}),!!d&&(0,c.jsx)(o.xu,{paddingY:1,children:(0,c.jsx)(o.xv,{size:"300",color:"default",children:d})})]}),(0,c.jsx)(o.xu,{display:"flex",flex:"shrink",marginStart:2,children:i})]})})}var u=t(217861);function _(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}const p=(e,i)=>(e-i)/2,g=200,v=68,m=p(v,68),P=p(v,66),b=p(v,60),f="cubicBezier(0.25, 0.1, 0.25, 1)",x="encourageToastIconContainer",I="encourageToastIconRadiateBg",y="encourageToastIconRadiateRing",T={targets:`#${x}`,duration:300,scale:1.4,easing:f},S={targets:`#${x}`,duration:300,scale:1,easing:f,endDelay:1e3},w={targets:`#${x}`,duration:300,scale:.42,easing:f},A={targets:`#${I}`,duration:400,opacity:0,scale:1.6,easing:f},j={targets:`#${y}`,duration:650,opacity:0,scale:2,easing:f};function k({hiding:e,visible:i}){return i?e?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})}class z extends s.PureComponent{constructor(...e){super(...e),_(this,"delayTimer",null),_(this,"requestAnimationFrameId",null),_(this,"playAnimation",(()=>{this.requestAnimationFrameId=window.requestAnimationFrame((()=>{(0,n.Z)(A),(0,n.Z)(j),(0,n.Z)(T).finished.then((()=>{(0,n.Z)(S).finished.then((()=>{n.Z.set(`#${x}`,{transformOrigin:"top right"}),(0,n.Z)(w)}))}))}))})),_(this,"getHeaderText",(()=>{const{text:e}=this.props;return Array.isArray(e)?e[0]:e})),_(this,"getIconProps",(()=>({accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30}))),_(this,"getSubHeaderText",(()=>{const{text:e}=this.props;return e instanceof Array&&e.length>1&&e[1]?e[1]:""})),_(this,"renderAnimatedIcon",(()=>(0,c.jsxs)(o.xu,{height:v,position:"relative",width:v,children:[(0,c.jsx)(o.xu,{"data-test-id":"pin-save-toast",width:60,height:60,overflow:"hidden",position:"absolute",rounding:4,dangerouslySetInlineStyle:{__style:{left:`${b}px`,top:`${b}px`}},children:this.props.thumbnail}),(0,c.jsxs)(o.xu,{id:x,height:v,width:v,dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},position:"absolute",children:[(0,c.jsx)(o.xu,{color:"infoBase",id:I,width:68,height:68,position:"absolute",rounding:"circle",dangerouslySetInlineStyle:{__style:{left:`${m}px`,top:`${m}px`,transform:"scale(0)"}}}),(0,c.jsx)(o.xu,{id:y,width:66,height:66,position:"absolute",rounding:"circle",opacity:1,dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:`${P}px`,top:`${P}px`,transform:"scale(0)"}}}),(0,c.jsx)(o.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:v,justifyContent:"center",minHeight:v,minWidth:v,position:"absolute",rounding:"circle",width:v,children:(0,c.jsx)(o.JO,{accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})})]})]})))}componentDidMount(){this.delayTimer=setTimeout(this.playAnimation,700)}componentWillUnmount(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}render(){const{isRepinToExistingBoard:e,button:i}=this.props,t=e;return(0,c.jsx)(h,{button:i,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:t?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}function R(e){const{duration:i,onHide:t}=e,n=(0,a.ZP)(),[l,h]=(0,s.useState)(!1),[_,p]=(0,s.useState)(!1),v=(0,s.useRef)(),m=()=>{h(!0),v.current=setTimeout(t,g)},P=()=>{v.current&&clearTimeout(v.current)};(0,d.Z)((()=>(setTimeout((()=>p(!0)),100),v.current=setTimeout(m,i||u.w),P)));let b=(0,c.jsx)(z,{...e,i18n:n});return e.href&&(b=(0,c.jsx)(o.rU,{href:e.href,onClick:m,rounding:"pill",tapStyle:"none",children:b})),(0,c.jsx)(r.Z,{children:(0,c.jsx)(o.mh,{children:(0,c.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...k({hiding:l,visible:_})}},justifyContent:"center",position:"fixed",width:"100%",display:"flex",zIndex:u.k,children:b})})})}},922204:(e,i,t)=>{t.d(i,{Z:()=>r});var s=t(702664),n=t(63262),o=t(383755),a=t(260070);function r(){const e=(0,s.useDispatch)(),{showToast:i,showOneToast:t}=(0,n.F9)();return{showToast:i,showOneToast:t,showRepinConfirmation:(t,s)=>{s||e((0,a.WF)()),setTimeout((()=>{s||e((0,a.a5)()),i(t)}),o.Tt)}}}},540459:(e,i,t)=>{t.d(i,{L:()=>r,q:()=>d});var s=t(690108),n=t(911767),o=t(541268),a=t(274796);function r(e){return i=>{const{inSelectAll:t,selectedPinIds:r,orbacSubjectId:d,source:{boardId:l,sectionId:c}}=e,h=t?"BulkEditSelectAllResource":"BulkEditResource",u={board_id:l,section_id:c,pin_ids:r,orbac_subject_id:d};return i((0,n.xQ)(l)),i((0,o.EX)({feedId:c||l,feedType:c?a.Z.BOARD_SECTION_PINS:a.Z.BOARDFEED,inverseSelection:t,itemIds:r,itemType:"pin"})),s.Z.create(h,u).callDelete()}}const d=({pinId:e,boardId:i,boardSectionId:t,clientTrackingParams:n})=>(o,a)=>{const r=s.Z.create("PinResource",{id:e,client_tracking_params:n}).callDelete(),{session:{userId:d}}=a();return o(((e,i,t,s)=>({type:"PIN_DELETE",payload:{pinId:e,boardId:i,boardSectionId:t,userId:s}}))(e,i,t,d)),r}},77875:(e,i,t)=>{t.d(i,{w:()=>a});var s=t(541268),n=t(526007),o=t(648609);const a=({pinId:e,boardId:i,i18n:t,isQuickSave:a,logContextEvent:r,onSuccess:d,onUndo:l,originalPinId:c,showNewUserSavetoProfileAnimation:h,showRepinConfirmation:u,showToast:_,section:p,trackingParams:g,isOneTapSave:v,viewType:m,historyPush:P,suggestedBoardIds:b,savePinId:f})=>(x,I)=>{var y,T,S,w,A,j;const{pins:k,session:z,feeds:R}=I(),E=k[e];i&&((null===(y=null!==(T=null==E?void 0:E.shopping_flags)&&void 0!==T?T:[])||void 0===y?void 0:y.length)>0||null!=E&&E.rich_summary&&(null===(S=null!==(w=null==E||null===(A=E.rich_summary)||void 0===A?void 0:A.products)&&void 0!==w?w:[])||void 0===S?void 0:S.length)>0)&&(R[`board-shop-saved-preview:${i}`]&&x((0,s.Qv)(`board-shop-saved-preview:${i}`,[E],{isPrepend:!0})),R[`board-shop-saved:${i}`]&&x((0,s.Qv)(`board-shop-saved:${i}`,[E],{isPrepend:!0})));return new n.Z({boardId:i,dispatch:x,i18n:t,isLegoSaveStyle:!0,isOneTapSave:v,isQuickSave:a,onSuccess:d,onUndo:l,originalPinId:c,pinId:E.id,section:p,showNewUserSavetoProfileAnimation:h,showRepinToasts:e=>u?u(e):_?_(e):void 0,trackingParams:g,userId:z.userId,viewType:m,historyPush:P,suggestedBoardIds:b,savePinId:f,pinData:{trackingParams:E.tracking_params,viewParameter:(0,o.A)(E),pinnedToBoardId:null===(j=E.pinned_to_board)||void 0===j?void 0:j.id}}).processRepin(r)}},648609:(e,i,t)=>{t.d(i,{A:()=>s});const s=e=>{const i=e.rich_metadata;return i?i.products?144:i.article?141:i.recipe?145:139:140}},217861:(e,i,t)=>{t.d(i,{k:()=>a,w:()=>o});var s=t(883119),n=t(360675);const o=2e3,a=new s.H3([n.Z])}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/25827-643acbe89708f7c1.mjs.map